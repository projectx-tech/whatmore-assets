"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[380],{4892:function(e,t,i){i.d(t,{Z:function(){return d}});var n=i(7313),o=i(868),r=i(8984),a=(i(6422),i(6417));var s=function(e){var t,i;const o=(0,n.useRef)(null),[r,s]=(0,n.useState)(!1),d=null!==(t=e.height)&&void 0!==t?t:"100%",l=null!==(i=e.width)&&void 0!==i?i:"100%";return(0,a.jsx)("div",{style:{width:d,height:l,overflow:"hidden"},children:(0,a.jsx)("video",{ref:o,className:"whatmore-video-player",width:l,height:d,preload:"auto",loop:!0,playsInline:!0,muted:!0,autoPlay:!0,src:e.url,style:{backgroundColor:"white"}})})};var d=function(e){var t,i,d;const l=null!==(t=e.pauseFromPlayTimeInMs)&&void 0!==t?t:200;if((0,r.KE)())return(0,a.jsx)(s,{height:"100%",width:"100%",url:(0,o.V)(e.url),isPlaying:e.isPlaying,pauseFromPlayTimeInMs:l});const c=(0,n.useRef)(null),[h,u]=(0,n.useState)(!1),p=null!==(i=e.height)&&void 0!==i?i:"100%",f=null!==(d=e.width)&&void 0!==d?d:"100%";return(0,n.useEffect)((()=>{c.current&&(e.isPlaying?c.current.play():c.current.play().then((()=>{setTimeout((()=>{c.current.pause(),u(!0)}),l)})))}),[e.isPlaying,h]),(0,a.jsx)("div",{style:{width:p,height:f,overflow:"hidden"},children:(0,a.jsx)("video",{ref:c,className:"whatmore-video-player",width:f,height:p,preload:"auto",loop:!0,playsInline:!0,muted:!0,src:(0,o.V)(e.url),style:{backgroundColor:"white"}})})}},5380:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var n=i(4959),o=i(7313),r=i(4892),a=i(6805),s=i(9543),d=i(9821);var l=function(e){const[t,i,n,o,r]=(0,d.Z)(),[l]=(0,s.j1)("whatmoreEmbedAppVideoPlayerSizePortrait"),[c]=(0,s.j1)("whatmoreEmbedAppVideoPlayerSizeLandscape"),h=r[a.YP]===a.$w?c/100:l/100*1.2;return[t*h,i*h,r]},c=i(9723),h=i(9461),u=i.n(h),p=i(1195),f=i(7108),m=(i(7244),i(123),i(9302)),w=i(2575),x=i(6417);const g=(0,w.Z)({key:"whatmore-css-ppv"});var v=function(e){const t=o.useRef(null);var[i,d,h]=l();const[w]=(0,s.j1)("whatmoreEmbedAppVideoTitle"),[v]=(0,s.j1)("whatmoreEmbedAppPositionPortrait"),[b]=(0,s.j1)("whatmoreEmbedAppHorizontalPaddingPortrait"),[y]=(0,s.j1)("whatmoreEmbedAppVerticalPaddingPortrait"),[j]=(0,s.j1)("whatmoreEmbedAppPositionLandscape"),[z]=(0,s.j1)("whatmoreEmbedAppHorizontalPaddingLandscape"),[E]=(0,s.j1)("whatmoreEmbedAppVerticalPaddingLandscape");var P=v,L=b,S=y;h[a.YP]===a.$w&&(P=j,L=z,S=E);const[k,C]=(0,o.useState)(["initial",window.pageYOffset]),[A,I]=(0,o.useState)(!1);function R(e,t){C(e),e[1]<=100?I(!1):t!=A&&I(t)}(0,o.useEffect)((()=>{let e=window.pageYOffset,t=!1;const i=()=>{const i=window.pageYOffset;Math.abs(i-e)<100||(R([i>e?"scrolled-down":"scrolled-up",i],!0),e=i>0?i:0),t=!1},n=()=>{t||(window.requestAnimationFrame(i),t=!0)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)}),[k]),(0,n.O3)({ref:t,handler:()=>{R(["scrolled-up",k[1]],!0)}});const Z=e.event,V=e.inVideoClick,Y=e.closeClick,M=.3*d,F=.6*d,N=.1*d,q=.1*(.5*d),B="10px";var $=!1,_=0,O=0;function D(e){$=e}return(0,x.jsx)(m.C,{value:g,children:A?(0,x.jsx)("div",{style:"left"===P?{left:"1px",bottom:S+"px",position:"fixed",zIndex:2147483647}:{right:"5px",bottom:S+"px",position:"fixed",zIndex:2147483647},children:(0,x.jsxs)("div",{onClick:()=>{R(["initial",k[1]],!1)},style:{margin:"1px",width:d+"px",height:i+"px"},className:"left"===P?"whatmore-ultraminimized-video-view-left":"whatmore-ultraminimized-video-view-right",children:[(0,x.jsx)("div",{style:{boxShadow:"0px 0px 10px 3px #B0B0B0",borderRadius:B,overflow:"hidden"},children:(0,x.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:9/16},children:(0,x.jsx)(r.Z,{url:Z.thumbnail_image,isPlaying:!1})})}),(0,x.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,x.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",height:"100%"},children:[(0,x.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content"},children:(0,x.jsx)("div",{className:"whatmore-ultraminimized-content-scale-out",children:(0,x.jsx)(p.Z,{sx:{filter:"drop-shadow(0 0 15px black);",color:"white",fontSize:M+"px"},style:{position:"relative",zIndex:1,left:q+"px",bottom:q+"px"},onClick:Y})})}),(0,x.jsx)("div",{style:{height:"100%",display:"flex",flexFlow:"column nowrap",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(f.Z,{sx:{color:"white",fontSize:2*M+"px",filter:"drop-shadow(0 0 15px black);"}})})]})})]})}):(0,x.jsx)(u(),{nodeRef:t,cancel:".activate-button,.close-btn",defaultClassName:"whatmore-react-draggable",defaultClassNameDragging:"whatmore-react-draggable-dragging",defaultClassNameDragged:"whatmore-react-draggable-dragged",bounds:"html",onStart:(e,t)=>{var i,n;i=t.x,n=t.y,_=i,O=n},onDrag:(e,t)=>{D(!0)},onStop:(e,t)=>{$&&(Math.abs(t.x-_)>5||Math.abs(t.y-O)>5)?D(!1):V(Z)},children:(0,x.jsx)("div",{ref:t,style:"left"===P?{left:L+"px",bottom:S+"px",position:"fixed",zIndex:2147483647}:{right:L+"px",bottom:S+"px",position:"fixed",zIndex:2147483647},children:(0,x.jsxs)("div",{style:Object.assign({},{boxSizing:"border-box",margin:"1px",width:d+"px",height:i+"px"}),className:"left"===P?"whatmore-minimized-video-view-left":"whatmore-minimized-video-view-right",children:[(0,x.jsx)("div",{style:{boxShadow:"0px 0px 10px 3px #B0B0B0",borderRadius:B,overflow:"hidden"},children:(0,x.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:9/16},children:(0,x.jsx)(r.Z,{url:Z.thumbnail_image,isMuted:!0,isPlaying:!0})})}),(0,x.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,x.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",height:"100%"},children:[(0,x.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content"},children:(0,x.jsx)(p.Z,{className:"close-btn",sx:{filter:"drop-shadow(0 0 15px black);",color:"white",fontSize:M+"px"},onClick:Y,style:{position:"relative",zIndex:1,left:N+"px",bottom:N+"px"}})}),(0,x.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto"},children:(0,x.jsx)(c.Z,{sx:{color:"white",fontSize:F+"px",filter:"drop-shadow(0 0 15px black);"}})}),(0,x.jsx)("div",{style:{paddingLeft:"2px",paddingRight:"2px",borderBottomLeftRadius:B,borderBottomRightRadius:B,backgroundImage:w?"linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.2), rgba(0,0,0,0.6))":""},children:(0,x.jsxs)("p",{style:{textAlign:"center",color:"white",fontFamily:"Sans-serif",fontWeight:"semi-bold",fontSize:.4*M+"px",margin:0,padding:0,lineHeight:"110%"},children:["\xa0",w]})})]})})]})})})})}},868:function(e,t,i){i.d(t,{V:function(){return o}});const n={"https://d3syezql093hs1.cloudfront.net":"https://whatmore-brand-video-assets.azureedge.net","https://d2r0bijhs9mx1s.cloudfront.net":"https://whatmore-brand-thumbnail-video-assets.azureedge.net","https://d2oouab8j9eigo.cloudfront.net":"https://whatmore-brand-story-assets.azureedge.net","https://d28nus7q7qajdn.cloudfront.net":"https://whatmore-video-assets.azureedge.net","https://d1qflh9ill7vje.cloudfront.net":"https://whatmore-plugin-assets.azureedge.net","https://d3o9roqe5p68r1.cloudfront.net":"https://whatmore-stage-plugin-assets.azureedge.net"},o=function(e){if(e.startsWith("https://cdn.shopify.com"))return e;if(e.includes(".azureedge.net"))return e;if(e.includes(".cloudfront.net")){for(const t of Object.keys(n))if(e.includes(t))return e.replace(t,n[t]);return e}return e}},6805:function(e,t,i){i.d(t,{$I:function(){return s},$w:function(){return l},AK:function(){return r},AL:function(){return a},YP:function(){return o},me:function(){return n},rE:function(){return d}});const n="device_type",o="device_mode",r="mobile",a="tablet",s="desktop",d="portrait",l="landscape"},6422:function(e,t,i){var n=i(7313),o=i(7371);const{useGlobalState:r}=(0,o.r)({muted:!1});t.Z=function(e){const[t,i]=r("muted");return(0,n.useEffect)((()=>{}),[]),[t,i]}},8866:function(e,t,i){var n=i(7313);function o(){return[window.innerHeight,window.innerWidth]}t.Z=function(e){var[t,i]=o();const[r,a]=(0,n.useState)(["portrait",t,i]);return(0,n.useLayoutEffect)((()=>{function e(){var[e,t]=o();a(e>t?["portrait",e,t]:["landscape",e,t])}return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),screen.orientation&&screen.orientation.addEventListener("change",e),e(),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),screen.orientation&&screen.orientation.removeEventListener("change",e)}}),[]),r}},9821:function(e,t,i){var n=i(6367),o=i(9543),r=i(8866),a=i(6805);t.Z=function(e){const[t,i,s]=(0,r.Z)(),[d]=(0,o.j1)("whatmoreLandscapePadding"),[l]=(0,o.j1)("whatmoreVideoTileSize"),c=(0,n.useMediaQuery)({query:"(min-width: 1025px)"}),h=(0,n.useMediaQuery)({query:"(min-width: 481px)"}),u=!("portrait"!=t||!h),p=l/100;var f=Math.min(s,i),[m,w,x,g]=[.6*f*(16/9),.6*f,1.4,0];function v(e){return Math.round(10*e)/10}var b={DEVICE_TYPE:a.AK,DEVICE_MODE:a.rE};if(c){const e=.5*w,t=.5*m;[m,w,x,g]=[t,e,(s-2*d)/(1.1*e),d],b[a.me]=a.$I,b[a.YP]=a.$w}else if(u){var y=.8*w,j=.8*m;"portrait"==t?(y*=p,j*=p,[m,w,x,g]=[j,y,v(s/(1.2*y)),0],b[a.me]=a.AL,b[a.YP]=a.rE):([m,w,x,g]=[j,y,(s-2*d)/(1.1*y),d],b[a.me]=a.AL,b[a.YP]=a.$w)}else{y=w,j=m;"portrait"==t?(y*=p,j*=p,[m,w,x,g]=[j,y,v(s/(1.2*y)),0],b[a.me]=a.AK,b[a.YP]=a.rE):(y=.7*w,j=.7*m,[m,w,x,g]=[j,y,(s-2*d)/(1.1*y),d],b[a.me]=a.AK,b[a.YP]=a.$w)}return[m,w,x,g,b]}},123:function(){},7244:function(){}}]);