"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262,806],{69:function(e,t,n){n.d(t,{Ij:function(){return i},bi:function(){return a}});let o,r=!1;function i(){return o?o.play().then(()=>{r=!0,console.debug("iOS autoplay restrictions bypassed."),o.pause()}).catch(e=>{console.error("Failed to bless videos:",e.message)}):Promise.reject(new Error("Blessing video not initialized."))}function a(){o||(o=document.createElement("video"),o.src="https://whatmore-other-assets.b-cdn.net/whatmore/dummy_for_video_pool_3s_muted_11kb.mp4",o.muted=!0,o.playsInline=!0,o.style.display="none",document.body.appendChild(o));const e=()=>{r||i()};document.addEventListener("click",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}},3262:function(e,t,n){n.r(t),n.d(t,{initiateCartSliderEvent:function(){return i}});var o=n(5830),r=n(1745);const i=async function(e,t,n,i,a="",l="",s="",d="",c="",u=""){(0,o.Xd)("whatmoreLandingLocationType");if("STRNV8MHJTF"==e||"STR6HU283UZ"==e||"STR9T3LLEJB"==e||"STRWJMIOJNX"==e||"STRUDQ36YAC"==e||"STR1D5ONOZX"==e){console.log("Executing cart refresh script..");return void(document.getElementById("whatsmorecart").value=Math.random())}const p=t=>{if("61126934766"==e){let e=t.querySelector(".productView-buttons").querySelector('form[action*="/cart/add"]');if(e)return e}let n=Array.from(t.querySelectorAll("product-form")).find(e=>e.querySelector('form > input[name="id"]')&&e.querySelector('form button[type="submit"]'));return n||(n=Array.from(t.querySelectorAll('form[action*="/cart/add"]')).find(e=>e.querySelector('button[type="submit"]'))),n},h=(e,t,n)=>{if(e){var o;e.hasAttribute("data-product-variant-id")&&e.setAttribute("data-product-variant-id",t),e.hasAttribute("data-product-id")&&e.setAttribute("data-product-id",n);let r=e.querySelector('input[name="id"]');if(r)r.setAttribute("value",t),r.hasAttribute("disabled")&&r.removeAttribute("disabled");else{const n=e.querySelector('select[name="id"]');if(n){const e=n.querySelector('option[selected="selected"]');e&&e.setAttribute("value",t)}}const i=e.querySelector('input[name="product-id"]');i&&i.setAttribute("value",n);const a=document.createElement("div");a.appendChild(e),document.body.appendChild(a),console.log(a,"formElement");const l=Array.from((null===(o=document.querySelectorAll("product-form"))||void 0===o?void 0:o.length)>0?document.querySelectorAll("product-form"):document.querySelectorAll('form[action*="/cart/add"]')).find(e=>{let n=e.querySelector('input[name="id"]');if(!n){const t=e.querySelector('select[name="id"]');if(t){n=t.querySelector('option[selected="selected"]')}}return n&&n.value==t});return l}},v=e=>{const t=null===e||void 0===e?void 0:e.querySelector('button[type="submit"]');t&&t.click()},m=e=>{(0,r.js)().then(e=>e.json()).then(t=>{const n=t.items.find(t=>t.id==e),o=n.key,i=n.quantity,a=n.properties;(0,r.CP)(o,i,a,s,d,c,!0,!0,!0)})},g=()=>{const e=Array.from(document.querySelectorAll('form[action*="/cart/add"]')),t=e[e.length-1];t&&t.remove()},f=p(document);if(f||(null===f||void 0===f?void 0:f.length)>0){const e=h(f,a,l);v(e),setTimeout(()=>{m(a)},500),g()}else{var x;fetch(null===u||void 0===u||null===(x=u.split("?"))||void 0===x?void 0:x[0]).then(e=>e.text()).then(e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=p(t);if(n||(null===n||void 0===n?void 0:n.length)>0){const e=h(n,a,l);v(e),setTimeout(()=>{m(a)},500),g()}})}setTimeout(t,n)}},3278:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var o=n(9950),r=n(340),i=n(5089),a=n(1941),l=n(5830),s=(n(3997),n(9130),n(4669),n(9733),n(4365),n(7229),n(6042),n(572)),d=n(8603),c=n(7509),u=n(5551),p=(n(4826),n(7575)),h=n(2257),v=n(1348),m=n(6649),g=n(3788),f=n(6493),x=n(4895),y=n(5375),b=n(4833),S=n(4414);var w=function(e){var t;const n=e.isMuted,{whatmoreWidgetSourceDetails:r}=(0,o.useContext)(u.B),i=r.templateType,a=(0,b.l2)(i),l=null!==(t=e.iconSize)&&void 0!==t?t:30;function s(t){e.onToggle(t)}return(0,S.jsx)("div",{style:{height:"fit-content",cursor:"pointer"},children:n?(0,S.jsx)(y.A,{sx:{color:"white",fontSize:a?1.3*l:l,backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:"50%",padding:"10px"},onClick:e=>{s(e)}}):(0,S.jsx)(x.A,{sx:{color:"white",fontSize:a?1.3*l:l,backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:"50%",padding:"10px"},onClick:e=>{s(e)}})})},A=n(3771),j=n(6613),C=n(1085),I=n(1079),k=n(5873),E=n(1351),T=n(6157),M=n(3294),q=n(9879),R=n(9821),N=n(69);function D(e){const[t,n]=(0,o.useState)(e.initialMuteState),r=e.events,i=e.activeEventIndex,a=e.setActiveEventIndex,s=(0,l.Xd)("whatmoreShopId"),d="portrait"===e.mode;function c(o){o.stopPropagation(),n(!t),(0,j.MN)()&&((0,R._)()?(0,C.bo)():(0,N.bi)()),e.onMuteToggle()}const u=e.event;return(0,S.jsxs)("div",{style:{position:(0,v.D7t)(s)?"absolute":"relative",top:(0,v.D7t)(s)?0:"",zIndex:1,bottom:(0,v.D7t)(s)?"":"100%",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"transparent"},className:"whatmore-ios-css-relative-fix",children:[(0,S.jsxs)("div",{className:"banner-event-overlay",style:{display:"flex",position:"relative",height:"100%",paddingRight:"1%",paddingLeft:"1%",paddingTop:"1%",backgroundImage:"linear-gradient(to top, rgba(0,0,0,0), rgba(0,0,0,0.1), rgba(0,0,0,0.3))"},children:["video"==u.event_type&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:{width:"100%"},onClick:e=>{(0,v.OC6)(s)||c(e)}}),(0,S.jsx)(w,{isMuted:t,onToggle:e=>{c(e)}})]}),r.length>1&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{classname:"banner-navigation-overlay-left",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",borderRadius:"50%",zIndex:2,border:"2px solid white",padding:"2px",cursor:"pointer"},onClick:e=>{e.stopPropagation(),a(0===i?r.length-1:i-1)},children:(0,S.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"50%",padding:"6px"},children:(0,S.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",color:"#252525",height:"20px"},children:(0,S.jsx)(p.A,{})})})}),(0,S.jsx)("div",{classname:"banner-navigation-overlay-right",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",borderRadius:"50%",zIndex:2,border:"2px solid white",padding:"2px",cursor:"pointer"},onClick:e=>{e.stopPropagation(),a(i===r.length-1?0:i+1)},children:(0,S.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"50%",padding:"6px"},children:(0,S.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",color:"#252525",height:"20px",textAlign:"center"},children:(0,S.jsx)(h.A,{})})})}),(0,v.JiT)(s)&&(0,S.jsx)("div",{style:{display:"flex",position:"absolute",bottom:"7%",left:"50%",transform:"translateX(-50%)",gap:"24px",zIndex:1},children:r.map((e,t)=>{const n=t===i;return(0,S.jsx)("button",{onClick:e=>{e.stopPropagation(),a(t)},style:{width:n?"25px":d?"12px":"14px",height:d?"12px":"14px",borderRadius:n?"10px":"50%",backgroundColor:n?(0,v.z1s)(s):"#f8eeec",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)"}},t)})})]})]}),!(0,v.OC6)(s)&&(0,S.jsx)("div",{style:{width:"100%",height:"100%"},onClick:c})]})}var _=function(e){var t,n,r,i;const[s,d,c]=(0,a.A)(),[p,h]=(0,o.useState)(!0),x=(0,l.Xd)("whatmoreVideoTileSize"),[y,b,w]=(0,m.A)({triggerOnce:!1}),{whatmoreWidgetSourceDetails:j}=(0,o.useContext)(u.B),C=(0,l.Xd)("whatmoreShopId"),R=e.events,N=e.activeEventIndex,_=e.setActiveEventIndex,B=R[N],P=(0,f.lP)(B),z=(0,f.cb)(B);if((0,o.useEffect)(()=>{k.Sn.forEach(e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-banner-a"]')))return;e&&(e.style.minHeight="0px")})},[]),"portrait"===s&&!P)return(0,S.jsx)(S.Fragment,{});if("landscape"===s&&!z)return(0,S.jsx)(S.Fragment,{});const L=(0,g.s)("portrait"===s?P:z),O=x/100*(0,v.igk)(C),F=x/100*(0,v.Y_l)(C),X="portrait"===s?(0,v.G0Q)(C):(0,v.ga9)(C),V="portrait"===s?c*O:c*F,Y=V*X,J=null!=(null===(t=B.cta)||void 0===t||null===(n=t[1])||void 0===n?void 0:n.cta_link);return(0,S.jsxs)("div",{ref:y,onClick:()=>{var e,t;(0,E.kz)({userInteractionType:T.O.BANNER_WIDGET_CLICKED,widgetSourceDetails:j,event:R[N]}),(0,v.OC6)(C)&&window.open(null===(e=B.cta)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.cta_link,"_self")},className:"wht-banner-event-tile",style:{position:"relative",margin:"0 auto",width:(0,v.D7t)(C)?"100%":V,minHeight:(0,v.D7t)(C)?c*X:"",height:(0,v.D7t)(C)?"auto":Y,borderWidth:(0,v.YcK)(C),borderColor:(0,v.Fwt)(C),overflow:"hidden",cursor:"pointer"},children:["28273541192"===C?(0,S.jsx)(q.A,{height:"100%",width:"100%",url:L,isPlaying:b,event:B,isVideoMuted:!b||p,source:M.N.BANNER}):(0,S.jsx)(A.A,{height:"100%",width:"100%",url:L,isPlaying:b,event:B,isVideoMuted:!b||p,setDuration:e.setDuration,source:M.N.BANNER}),(0,S.jsx)(D,{isCTAPresent:J,events:R,activeEventIndex:N,setActiveEventIndex:_,event:B,mode:s,onMuteToggle:()=>h(!p),initialMuteState:p}),(0,v.XYM)(C)&&(null===B||void 0===B||null===(r=B.cta)||void 0===r?void 0:r.length)>1&&(0,S.jsx)("div",{style:{position:"absolute",zIndex:1,bottom:"10%",left:"50%",transform:"translateX(-50%)"},className:"whatmore-ios-css-relative-fix",children:(0,S.jsx)(I.A,{isBanner:!0,event:B,cta:null===B||void 0===B||null===(i=B.cta)||void 0===i?void 0:i[1],fontFactor:.6})})]})};const B=(0,d.A)({key:"whatmore-css-bv"});var P=function(e){const{whatmoreRootId:t}=(0,o.useContext)(u.B),[n,d]=(0,o.useState)(0),p=e.events,[h,v]=(0,o.useState)(-1),[m]=(0,l.QN)("whatmoreShopId"),[g]=(0,a.A)();let f;return(0,o.useEffect)(()=>{f&&clearInterval(f);const e="video"===p[n].event_type,t=e?1e3*h:6e3;return e?-1!=h&&(f=setInterval(()=>{d(e=>e===p.length-1?0:e+1)},t)):f=setInterval(()=>{d(e=>e===p.length-1?0:e+1)},t),()=>{clearInterval(f)}},[h,n]),delete i.Ay.styles.global,(0,S.jsx)(s.C,{value:B,children:(0,S.jsx)("div",{className:"whatmore-banner-events",style:{height:"60183543963"===m&&"portrait"==g?"200px":void 0},children:(0,S.jsx)(r.s,{theme:i.Ay,cssVarsRoot:t,resetCSS:!1,children:(0,S.jsx)(c.h.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:(0,S.jsx)(_,{activeEventIndex:n,events:p,setActiveEventIndex:d,setDuration:v})})})})})}},4826:function(){},7509:function(e,t,n){n.d(t,{h:function(){return o}});const o=(0,n(9950).createContext)({tileTopMargin:10,tileBottomMMargin:10,tileLeftMargin:10,tileRightMargin:10,showPlayButton:!0})},9733:function(){}}]);