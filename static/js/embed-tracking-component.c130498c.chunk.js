"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[657,798],{1351:function(e,t,i){i.d(t,{PG:function(){return r},kz:function(){return _},UM:function(){return u},yP:function(){return s},DG:function(){return l}});var o=i(1348),n=i(3330),a=i(6157);function c(e,t,i={},o){var n;const c=r[e];if(!c)return;const d=c.isActionEnabled(),_=null===o||void 0===o||null===(n=o.meta_actions)||void 0===n?void 0:n[c.customAction];(d||_)&&"function"==typeof fbq&&(async()=>{const o={id:null===t||void 0===t?void 0:t.client_product_id,product_url:null===t||void 0===t?void 0:t.product_link,...e===a.O.VIDEO_PLAYBACK&&{watch_time:i.watch_time,video_duration:i.video_duration}};fbq("trackCustom",c.action,o),_&&setTimeout(()=>{null===_||void 0===_||_.forEach(e=>{fbq("trackCustom",e,o)})},500)})()}var d=i(7145);const r={[a.O.EVENT_VIEW]:{isActionEnabled:o.NFF,action:"whatmore_video_click_event",customAction:"video_clicked"},[a.O.VIDEO_PLAYBACK]:{isActionEnabled:o.Eel,action:"whatmore_video_watch_event",customAction:"video_watched"},[a.O.VIDEO_LIKED]:{isActionEnabled:o.Mz3,action:"whatmore_video_like_event",customAction:"video_liked"},[a.O.VIDEO_SHARE_CTA_CLICKED]:{isActionEnabled:o.OLZ,action:"whatmore_video_share_event",customAction:"video_shared"},[a.O.SHOPNOW_ATC_CLICKED]:{isActionEnabled:o.T9r,action:"whatmore_video_atc_event",customAction:"video_atc_clicked"},[a.O.PRODUCT_TILE_ATC_CLICKED]:{isActionEnabled:o.T9r,action:"whatmore_video_atc_event",customAction:"video_atc_clicked"},[a.O.SHOPNOW_CLICKED]:{isActionEnabled:o.nEf,action:"whatmore_product_tile_click_event",customAction:"video_product_tile_clicked"},[a.O.PRODUCT_TILE_SHOPNOW_CLICKED]:{isActionEnabled:o.nEf,action:"whatmore_product_tile_click_event",customAction:"video_product_tile_clicked"}};function _({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:a,ctaList:_}){var l,u,s,v;((0,d.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:a,ctaList:_}),e in r)&&(c(e,null!==(l=null===a||void 0===a?void 0:a[1])&&void 0!==l?l:null===a||void 0===a?void 0:a[0],t,o),(0,n.n)({page_type:i.landingLocationType,selection_type:e,video_name:o.event_id,video_percentage:"NA",product_name:null!==(u=null===a||void 0===a||null===(s=a[1])||void 0===s?void 0:s.title)&&void 0!==u?u:null===a||void 0===a||null===(v=a[0])||void 0===v?void 0:v.title}))}function l({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:a,ctaList:_}){var l,u,s,v;((0,d.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:a,ctaList:_}),e in r)&&(c(e,null!==(l=null===a||void 0===a?void 0:a[1])&&void 0!==l?l:null===a||void 0===a?void 0:a[0],t,o),(0,n.n)({page_type:i.landingLocationType,selection_type:e,video_name:o.event_id,video_percentage:t.video_duration>0?Math.ceil(t.watch_time/t.video_duration*100):"NA",product_name:null!==(u=null===a||void 0===a||null===(s=a[1])||void 0===s?void 0:s.title)&&void 0!==u?u:null===a||void 0===a||null===(v=a[0])||void 0===v?void 0:v.title}))}function u({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:a,ctaList:c}){var _,l,u;((0,d.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:a,ctaList:c}),e in r)&&(0,n.n)({page_type:i.landingLocationType,selection_type:e,video_name:o.event_id,video_percentage:"NA",product_name:null!==(_=null===a||void 0===a||null===(l=a[1])||void 0===l?void 0:l.title)&&void 0!==_?_:null===a||void 0===a||null===(u=a[0])||void 0===u?void 0:u.title})}function s({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:n,ctaList:a}){(0,d.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:i,event:o,productList:n,ctaList:a})}},1369:function(e,t,i){i.r(t);var o=i(9950),n=i(5903),a=i(1351),c=i(6157),d=i(1348),r=i(5830),_=i(4414);t.default=function(e){const[t]=(0,r.QN)("whatmoreShopId"),i=(0,r.Xd)("whatmoreLandingLocationType"),{whatmoreWidgetSourceDetails:l}=(0,o.useContext)(n.B);return(0,o.useEffect)(()=>{i.startsWith("collection")&&("Scale"!=(0,d.yt9)(t)&&"Enterprise"!=(0,d.yt9)(t)&&"Premium"!=(0,d.yt9)(t)||(0,a.yP)({userInteractionType:c.O.COLLECTION_PAGE_VISITED,widgetSourceDetails:l}))},[]),(0,_.jsx)(_.Fragment,{})}},3330:function(e,t,i){i.d(t,{initializeGA:function(){return p},n:function(){return I},sendVideoViewEventToGA:function(){return E}});var o,n=i(2595),a=i(7732),c=i(1348),d=i(5830),r=i(6157);const _="Whatmore Video Shopping",l=null!==(o="true"==localStorage.getItem("whatmoreActivateLogs"))&&void 0!==o&&o,u={video_view:"Video View",add_to_cart:"Add to Cart",buy_now:"Buy Now"},s={carousel:"Carousel",stories:"Stories",video_popup:"Video Popup"},v={homepage:"Home Page",product_page:"Product Page"};async function p(e){if((0,c.M$H)(e)&&null!==(0,c.xIo)(e)&&(a.Ay.initialize((0,c.xIo)(e)),l&&console.debug("Whatmore: initialized GA4")),(0,c.B6P)(e)&&null!==(0,c.jWS)(e)){const t=(0,c.Gc6)(e);n.Ay.initialize((0,c.jWS)(e),{useExistingGa:t}),l&&console.debug("Whatmore: initialized GA3")}}async function E(e,t,i){(0,c.B6P)(e)&&null!==(0,c.jWS)(e)&&(n.Ay.event({category:_,action:u.video_view,label:v[t]+":"+s[i]}),l&&console.debug("Whatmore: pushed view event to GA3")),(0,c.M$H)(e)&&null!==(0,c.xIo)(e)&&(a.Ay.event({category:_,action:u.video_view+":"+v[t]+":"+s[i],value:1,nonInteraction:!1}),l&&console.debug("Whatmore: pushed view event to GA4"))}async function I(e){const t=(0,d.Xd)("whatmoreShopId");if(["56352899156"].includes(t)&&"object"==typeof window.dataLayer){var i,o,n,a;const t=(_=e.selection_type)==r.O.EVENT_VIEW?"whatmore_video_click_event":_==r.O.PRODUCT_TILE_ATC_CLICKED||_==r.O.SHOPNOW_ATC_CLICKED?"whatmore_video_atc_event":_==r.O.PRODUCT_TILE_SHOPNOW_CLICKED?"whatmore_product_tile_click_event":_==r.O.VIDEO_LIKED?"whatmore_video_like_event":_==r.O.VIDEO_SHARE_CTA_CLICKED?"whatmore_video_share_event":_==r.O.VIDEO_PLAYBACK?"whatmore_video_watch_event":void 0;if(!t)return;const d={event:"video_interaction",page_type:null!==(c=e.page_type,i=c.startsWith("index")?"home":c.startsWith("product")?"product_page":c.startsWith("collection")||c.startsWith("page")?"collection_page":void 0)&&void 0!==i?i:"NA",selection_type:t,video_name:null!==(o=e.video_name)&&void 0!==o?o:"NA",video_percentage:null!==(n=e.video_percentage)&&void 0!==n?n:"NA",product_name:null!==(a=e.product_name)&&void 0!==a?a:"NA"};window.dataLayer.push(d),l&&console.debug("Whatmore: pushed event to dataLayer",d)}var c,_}},6157:function(e,t,i){i.d(t,{O:function(){return o},l:function(){return n}});const o=Object.freeze({EVENT_VIEW:"event-view",PRODUCT_CTA_VIEW:"product-cta-view",SHOPNOW_ATC_CLICKED:"shop-now-atc-clicked",SHOPNOW_BUYNOW_CLICKED:"shop-now-buy-now-clicked",PRODUCT_TILE_ATC_CLICKED:"product-tile-atc-clicked",PRODUCT_TILE_SHOPNOW_CLICKED:"product-tile-shopnow-clicked",VIDEO_LIKED:"video-liked",VIDEO_UNLIKED:"video-unliked",VIDEO_SHARE_CTA_CLICKED:"video-share-cta-clicked",VIDEO_MUTED:"video-muted",HOMEPAGE_CAROUSEL_SWIPED:"homepage-carousel-swiped",HOMEPAGE_VISITED:"homepage-visited",COLLECTION_PAGE_VISITED:"collection-page-visited",PDP_VISITED:"product-page-visited",HOMEPAGE_CAROUSEL_WIDGET_VIEW:"homepage-carousel-widget-view",BANNER_WIDGET_VIEW:"banner-widget-view",STORIES_WIDGET_VIEW:"stories-widget-view",COLLECTION_WIDGET_VIEW:"collection-widget-view",SPOTLIGHT_WIDGET_VIEW:"spotlight-widget-view",PDP_POPUP_WIDGET_VIEW:"pdp-popup-widget-view",PDP_POPUP_CLOSED:"pdp-popup-closed",VIDEO_PLAYBACK:"video-watched",SHOPNOW_CLICKED:"shopnow-clicked",WHATSAPP_ICON_CLICKED:"whatsapp-icon-clicked",BANNER_WIDGET_CLICKED:"banner-widget-clicked",QUESTION_VIEWED:"question-viewed",QUESTION_ANSWERED:"question-answered",QUESTION_CLOSED:"question-closed",PRODUCT_TILE_ALL_ATC_CLICKED:"product-tile-all-atc"}),n=function(e,t){return{name:e,metadata:t}}},7145:function(e,t,i){i.d(t,{B:function(){return l}});var o=i(6641),n=i(1348),a=i(5830),c=i(4820);var d=i(6157),r=i(2089),_=i(4533);const l=function({userInteractionType:e="",userInteractionMetadata:t={},widgetSourceDetails:i={},event:l="",productList:u=[],ctaList:s=[]}={}){var v;const p=(0,a.Xd)("isInDesignMode"),E=(0,a.Xd)("isDemoBrand"),I=(0,a.Xd)("whatmoreShopId"),m="72201044272"==I&&"event-view"==e?null!==(v=JSON.parse(localStorage.getItem("_user_wh_lc")))&&void 0!==v?v:{latitude:"",longitude:""}:{};if(t={...t,...m,user_type:null!=localStorage.getItem("w_user_type")?"olduser":"newuser"},!(0,n.rkx)(I)||E||p)return;e!=d.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW&&e!=d.O.STORIES_WIDGET_VIEW&&e!=d.O.COLLECTION_WIDGET_VIEW&&e!=d.O.PDP_POPUP_WIDGET_VIEW||null!=localStorage.getItem("wht_is_impression")||localStorage.setItem("wht_is_impression",!0);const w="_whatmore_bulk_events",O=function(){var e;return{user_id:(0,_.wm)(),session_id:(0,_.zv)(),user_group:null!==(e=localStorage.getItem("wht_user_group"))&&void 0!==e?e:"",user_agent:navigator.userAgent,store_id:(0,a.Xd)("whatmoreShopId"),hostname:window.location.hostname,page_path:window.location.pathname,event_id:(0,r.Ak)(),event_timestamp:Math.round((new Date).getTime()/1e3)}}(),g=(0,d.l)(e,t),h=function(e,t,i,o){var n;return{landing_location_type:t.landingLocationType,template_type:t.templateType,whatmore_event:{id:e.event_id,eventset_id:null!==(n=e.eventset_id)&&void 0!==n?n:null,cta_list:o.map(e=>e.cta_id),product_list:i.map(e=>e.product_id)}}}(l,i,u,s),D=(0,a.Xd)("whatmoreLoggingActive"),C={...O,interaction_data:g,data:h},T=JSON.parse(localStorage.getItem(w))||[];if(T.push(C),localStorage.setItem(w,JSON.stringify(T)),D&&(0,o.xv)(C),clearTimeout(localStorage.getItem("_whatmore_bulk_timer_id")),T.length>=9)(0,c.u)(T),localStorage.removeItem(w);else if(T.length>0){let e=setTimeout(()=>{(0,c.u)(T),localStorage.removeItem(w)},9e3);localStorage.setItem("_whatmore_bulk_timer_id",e)}}}}]);