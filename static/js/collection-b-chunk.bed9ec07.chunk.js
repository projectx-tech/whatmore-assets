"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[3591],{36071:function(e,t,r){r.r(t);var a=r(47313),l=r(54664),o=r(31115),i=(r(56143),r(37850),r(44444),r(7244),r(70123),r(35892),r(91811),r(86173)),n=r(16826),s=(r(68984),r(78866)),c=r(99543),h=r(97129),d=r(30364),m=r(88631),p=r(76066),u=r(78782),g=r(59821),v=r(7381),f=r(49854),w=r(75380),x=r(23933),y=r(46417);const C=(0,n.Z)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[r,n,S]=(0,s.Z)(),[j,k]=(0,a.useState)(Array(t.length).fill(0).map((()=>Math.random()))),[M,Z,b,P,O]=(0,g.Z)(),R=(0,c.MO)("whatmoreCollectionsTileSize"),E="portrait"==r?0:(0,c.MO)("whatmoreLandscapePadding"),I=(0,c.MO)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:q}=(0,a.useContext)(d.I),B=(0,c.MO)("whatmoreShopId"),{whatmoreRootId:L}=(0,a.useContext)(d.I),T=e.onClick,[V,A,D]=(0,x.YD)({triggerOnce:!1});function H(e){T(e)}delete o.ZP.styles.global;var W=[];for(let a=0,l=!1;a<t.length;)l&&a!=t.length-1&&j[a]>.2?(W.push((0,y.jsx)(p.Z,{event1:t[a],event2:t[a+1],onClick:()=>{H(t[a-1])},removeBorders:!0},"collections-tile-"+a)),a+=2,l=!l):(W.push((0,y.jsx)(m.Z,{event:t[a],onClick:()=>{H(t[a-1])},removeBorders:!0,borderRadius:"0%"},"collections-tile-"+a)),a+=1,l=!l);return(0,a.useEffect)((()=>{(0,v.Oo)("Video shopping powered by Whatmore!")}),[]),(0,a.useEffect)((()=>{d.$.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-d"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-d"]')))return;e&&(e.style.minHeight="0px")}))}),[]),(0,y.jsx)(i.C,{value:C,children:(0,y.jsx)("div",{children:(0,y.jsx)(l.x,{theme:o.ZP,cssVarsRoot:L,resetCSS:!1,children:(0,y.jsxs)(h.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,y.jsx)("div",{ref:V,style:{marginLeft:E+"px",marginRight:E+"px"},children:(0,y.jsx)(u.P,{renderElement:e=>(0,y.jsx)(y.Fragment,{children:e.eventData}),dataList:W,spacing:I,defaultHeight:M*R*.01+"px",defaultWidth:Z*R*.01+"px",retainAlreadyRenderedElements:!0})}),(0,f.dhc)(B)&&q&&!A&&-1==e.index&&(0,y.jsx)(w.Z,{event:t[0],inVideoClick:H,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}}}]);