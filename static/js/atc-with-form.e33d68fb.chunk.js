"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262,939],{3262:function(e,t,r){r.r(t),r.d(t,{initiateCartSliderEvent:function(){return i}});var o=r(5830),n=r(1745);const i=async function(e,t,r,i,u="",c="",l="",d="",a="",s=""){(0,o.Xd)("whatmoreLandingLocationType");if("STRNV8MHJTF"==e||"STR6HU283UZ"==e||"STR9T3LLEJB"==e||"STRWJMIOJNX"==e||"STRUDQ36YAC"==e||"STR1D5ONOZX"==e){console.log("Executing cart refresh script..");return void(document.getElementById("whatsmorecart").value=Math.random())}const m=t=>{if("61126934766"==e){let e=t.querySelector(".productView-buttons").querySelector('form[action*="/cart/add"]');if(e)return e}let r=Array.from(t.querySelectorAll("product-form")).find((e=>e.querySelector('form > input[name="id"]')&&e.querySelector('form button[type="submit"]')));return r||(r=Array.from(t.querySelectorAll('form[action*="/cart/add"]')).find((e=>e.querySelector('button[type="submit"]')))),r},f=(e,t,r)=>{if(e){var o;e.hasAttribute("data-product-variant-id")&&e.setAttribute("data-product-variant-id",t),e.hasAttribute("data-product-id")&&e.setAttribute("data-product-id",r);let n=e.querySelector('input[name="id"]');if(n)n.setAttribute("value",t),n.hasAttribute("disabled")&&n.removeAttribute("disabled");else{const r=e.querySelector('select[name="id"]');if(r){const e=r.querySelector('option[selected="selected"]');e&&e.setAttribute("value",t)}}const i=e.querySelector('input[name="product-id"]');i&&i.setAttribute("value",r);const u=document.createElement("div");u.appendChild(e),document.body.appendChild(u),console.log(u,"formElement");const c=Array.from((null===(o=document.querySelectorAll("product-form"))||void 0===o?void 0:o.length)>0?document.querySelectorAll("product-form"):document.querySelectorAll('form[action*="/cart/add"]')).find((e=>{let r=e.querySelector('input[name="id"]');if(!r){const t=e.querySelector('select[name="id"]');if(t){r=t.querySelector('option[selected="selected"]')}}return r&&r.value==t}));return c}},y=e=>{const t=null===e||void 0===e?void 0:e.querySelector('button[type="submit"]');t&&t.click()},p=e=>{(0,n.js)().then((e=>e.json())).then((t=>{const r=t.items.find((t=>t.id==e)),o=r.key,i=r.quantity,u=r.properties;(0,n.CP)(o,i,u,l,d,a,!0,!0,!0)}))},v=()=>{const e=Array.from(document.querySelectorAll('form[action*="/cart/add"]')),t=e[e.length-1];t&&t.remove()},S=m(document);if(S||(null===S||void 0===S?void 0:S.length)>0){const e=f(S,u,c);y(e),setTimeout((()=>{p(u)}),500),v()}else{var h;fetch(null===s||void 0===s||null===(h=s.split("?"))||void 0===h?void 0:h[0]).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html"),r=m(t);if(r||(null===r||void 0===r?void 0:r.length)>0){const e=f(r,u,c);y(e),setTimeout((()=>{p(u)}),500),v()}}))}setTimeout(t,r)}}}]);