"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[199],{1351:function(e,t,n){n.d(t,{Qj:function(){return c},kz:function(){return d},UM:function(){return p},yP:function(){return v},DG:function(){return u}});var i=n(1348),o=n(5830),l=n(6157);const a=[22302,25292,22303,24099,21448,118713,142787,33063,25291,25290,21447,21450,21452,21449,22301,34595,36295,22304,22300,21451,24098,24090,34283,34285,54204,54210,25286,34630,24096,54211,21453,22306,33071,54251,33080,33100,33076,34632,25293,34640,142791,142789,142851,142896,142879,142906,142907,152096,117191,117148,117223,117229,117261,117269,149242,149243,164450];function r(e,t,n={},r){const s=(0,o.Xd)("whatmoreShopId");(e!=l.O.EVENT_VIEW||(0,i.NFF)(s))&&(e!=l.O.VIDEO_PLAYBACK||(0,i.Eel)(s))&&(e!=l.O.SHOPNOW_ATC_CLICKED&&e!=l.O.PRODUCT_TILE_ATC_CLICKED||(0,i.T9r)(s))&&(e!=l.O.VIDEO_LIKED||(0,i.Mz3)(s))&&(e!=l.O.VIDEO_SHARE_CTA_CLICKED||(0,i.OLZ)(s))&&(e!=l.O.PRODUCT_TILE_SHOPNOW_CLICKED&&e!=l.O.SHOPNOW_CLICKED||(0,i.nEf)(s))&&"function"==typeof fbq&&(async()=>{fbq("trackCustom",c[e],{id:null===t||void 0===t?void 0:t.client_product_id,product_url:null===t||void 0===t?void 0:t.product_link,...e===l.O.VIDEO_PLAYBACK?{watch_time:n.watch_time,video_duration:n.video_duration}:{}}),"20157815"==s&&e==l.O.EVENT_VIEW&&a.includes(null===r||void 0===r?void 0:r.event_id)&&fbq("trackCustom","whatmore_video_view_collection_necklace",{id:null===t||void 0===t?void 0:t.client_product_id,product_url:null===t||void 0===t?void 0:t.product_link})})()}var s=n(7145);const c={[l.O.EVENT_VIEW]:"whatmore_video_click_event",[l.O.VIDEO_LIKED]:"whatmore_video_like_event",[l.O.VIDEO_SHARE_CTA_CLICKED]:"whatmore_video_share_event",[l.O.PRODUCT_TILE_ATC_CLICKED]:"whatmore_video_atc_event",[l.O.SHOPNOW_ATC_CLICKED]:"whatmore_video_atc_event",[l.O.SHOPNOW_CLICKED]:"whatmore_product_tile_click_event",[l.O.PRODUCT_TILE_SHOPNOW_CLICKED]:"whatmore_product_tile_click_event",[l.O.VIDEO_PLAYBACK]:"whatmore_video_watch_event"};function d({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l}){var a;(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l}),e in c&&r(e,null!==(a=null===o||void 0===o?void 0:o[1])&&void 0!==a?a:null===o||void 0===o?void 0:o[0],t,i)}function u({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l}){var a;(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l}),e in c&&r(e,null!==(a=null===o||void 0===o?void 0:o[1])&&void 0!==a?a:null===o||void 0===o?void 0:o[0],t,i)}function p({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l}){(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l})}function v({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l}){(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:l})}},3350:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var i=n(9950),o=n(964),l=n(140),a=n(5830),r=n(1348),s=n(4533),c=n(6613),d=n(1085),u=n(5551),p=n(2039),v=n(4833),h=n(2979),m=n(6157),_=n(8945),g=n(9821),S=n(4414);const y=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(571),n.e(987),n.e(669),n.e(665)]).then(n.bind(n,7206)))),w=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(437),n.e(571),n.e(620),n.e(116)]).then(n.bind(n,7144)))),I=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(879),n.e(571),n.e(987),n.e(703),n.e(423)]).then(n.bind(n,517)))),E=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(879),n.e(571),n.e(987),n.e(703),n.e(412)]).then(n.bind(n,7646)))),f=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(879),n.e(571),n.e(987),n.e(703),n.e(221)]).then(n.bind(n,5451)))),O=i.lazy((()=>Promise.all([n.e(572),n.e(571),n.e(491)]).then(n.bind(n,3319)))),x=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(571),n.e(987),n.e(669),n.e(48),n.e(620),n.e(474)]).then(n.bind(n,6945)))),T=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(475),n.e(571),n.e(669),n.e(485)]).then(n.bind(n,9418)))),C=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(571),n.e(987),n.e(676)]).then(n.bind(n,3369)))),D=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(571),n.e(987),n.e(669),n.e(48),n.e(891)]).then(n.bind(n,7178)))),L=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(437),n.e(286),n.e(451),n.e(571),n.e(987),n.e(669),n.e(852),n.e(568),n.e(48),n.e(306)]).then(n.bind(n,9406)))),j=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(437),n.e(571),n.e(669),n.e(933)]).then(n.bind(n,6989)))),b=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(437),n.e(286),n.e(451),n.e(571),n.e(987),n.e(669),n.e(852),n.e(568),n.e(806)]).then(n.bind(n,3278)))),P=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(879),n.e(571),n.e(987),n.e(1)]).then(n.bind(n,4596)))),q=i.lazy((()=>Promise.all([n.e(572),n.e(304),n.e(317),n.e(526),n.e(946),n.e(437),n.e(286),n.e(451),n.e(571),n.e(987),n.e(669),n.e(852),n.e(568),n.e(906)]).then(n.bind(n,3568)))),W=i.lazy((()=>n.e(374).then(n.bind(n,5100))));var N=function(e){var t,N;const[A]=(0,a.QN)("isInDesignMode"),[k]=(0,a.QN)("isDemoBrand"),[V]=(0,a.QN)("whatmoreTopBottomPadding"),[G]=(0,a.QN)("whatmoreStoriesTopBottomPadding"),{whatmoreIsStoriesTemplate:$}=(0,i.useContext)(u.B),[B]=(0,a.QN)("whatmoreShopId"),{whatmoreEventsBrowsingTemplate:M}=(0,i.useContext)(u.B),F=(0,a.Xd)("isLandingSharedLink"),z=(0,a.Xd)("whatmoreShareTemplateId"),K=(0,a.Xd)("whatmoreShareStoryId"),R=(0,a.Xd)("whatmoreShareEventId"),{whatmoreWidgetSourceDetails:H,whatmoreUserInfo:U}=(0,i.useContext)(u.B),J=F&&M===(0,v.Mm)(z),[Q,X]=(0,i.useState)(J),[Z,Y]=(0,i.useState)(-1),[ee,te]=(0,i.useState)(null);let ne=e.events;var ie=null;$&&!ie&&(ie=function(e){var t=e.reduce(((e,t,n)=>{var i,o=t.storyset_id;return o in e?(e[o].total_events=e[o].total_events+1,e[o].events.push(t)):e[o]={id:t.storyset_id,title:t.storyset_name,thumbnail_image:t.storyset_thumbnail_image,total_events:1,start_event_index:n,storyset_dynamic_thumbnail:null!==(i=null===t||void 0===t?void 0:t.storyset_dynamic_thumbnail)&&void 0!==i&&i,events:[t]},e}),{}),n=Object.values(t);return n.sort(((e,t)=>e.start_event_index-t.start_event_index)),n}(ne));const oe=H.landingLocationType,le=H.templateType;function ae(e,t=!1,i=null){(0,c.MN)()&&(0,g._)()&&!t&&(0,d.bo)(),A||k||(async()=>{const{initializeGA:t,sendVideoViewEventToGA:i}=await Promise.all([n.e(286),n.e(907)]).then(n.bind(n,3330));t();const a=ie[e].events[0],r=(0,v.Wd)(oe)+(0,v.gf)(le)+(null!==a&&void 0!==a&&a.isRelatedEvent?"R":"E")+"_"+(null===a||void 0===a?void 0:a.event_id);(0,l.lB)(a),i(B,o.TB,o.OL),(0,s.Ch)(a.event_id,a.products,"homepage","stories",r,null===a||void 0===a?void 0:a.location,null===U||void 0===U?void 0:U.userType)})();var a=0;null!=i&&ie[e].events.map(((e,t)=>{e.event_id==i&&(a=t)})),Y(a),te(e)}async function re(e,t=!1){(0,c.MN)()&&(0,g._)()&&!t&&await(0,d.bo)(),Y(e.index),((0,p.ij)(e)||(0,p.Il)(e))&&(A||k||(async()=>{const{initializeGA:t,sendVideoViewEventToGA:i}=await Promise.all([n.e(286),n.e(907)]).then(n.bind(n,3330));t();const a=(0,v.Wd)(oe)+(0,v.gf)(le)+(null!==e&&void 0!==e&&e.isRelatedEvent?"R":"E")+"_"+(null===e||void 0===e?void 0:e.event_id);(0,l.lB)(e),i(B,o.TB,o.Dk),(0,s.Ch)(e.event_id,e.products,"homepage","carousel",a)})())}function se(e){return(0,S.jsx)(S.Fragment,{})}return(0,i.useEffect)((()=>{if(J)if((0,_.H)("whatmore-video-player",(()=>{X(!1)})),null!=K&&$){const e=ie.find((e=>K==e.id));if(e)return void ae(ie.indexOf(e),!0,R)}else if(null!=R){const e=ne.find((e=>R==e.event_id));if(e)return void re(e,!0)}}),[]),(0,S.jsxs)(S.Fragment,{children:[Q&&(0,S.jsx)(W,{}),-1==Z||-2==Z?(0,S.jsx)(se,{}):(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.EVENT_VIEW,event:ne[Z],productList:null===(t=ne[Z])||void 0===t?void 0:t.products,cta:null===(N=ne[Z])||void 0===N?void 0:N.cta,triggerFlag:!A&&!k,children:(0,S.jsx)(q,{events:ne,index:Z,onBack:async function(){if((0,r.ei)(B)&&(0,a.Xd)("whatmoreAddedToCart")){(await n.e(852).then(n.bind(n,852)).then((e=>e.initiateCartSliderEvent)))(B,(()=>{}),100,window.location.hostname)}Y(-1),X(!1)},slideDirection:$||"horizontal"===(0,r.br0)(B)?"horizontal":"vertical",eventsStories:ie,initialStoryIndex:ee,template:M})})}),(0,S.jsx)("div",{className:"whatmore-widget-container",style:{height:"100%",marginTop:($?G:V)+"px",marginBottom:($?G:V)+"px"},children:"template-b"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(y,{events:ne,onClick:re,heading:e.heading})})}):"template-a-1"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(w,{events:ne,onClick:re,heading:e.heading})}):"template-feed-a"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(j,{events:ne,onClick:re,heading:e.heading})}):"template-collections-a"===M||"template-c"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(I,{events:ne,index:Z,setScreen:Y,onClick:re,heading:e.heading})})}):"template-collections-b"===M||"template-d"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(E,{events:ne,index:Z,setScreen:Y,onClick:re,heading:e.heading})})}):"template-collections-c"===M||"template-e"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(f,{events:ne,index:Z,setScreen:Y,onClick:re,heading:e.heading})})}):"template-collections-d"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(y,{events:ne,index:Z,setScreen:Y,onClick:re,heading:e.heading})})}):"template-collections-e"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(x,{events:ne,index:Z,setScreen:Y,onClick:re,heading:e.heading})})}):"template-collections-stories"===M||"template-stories"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(P,{events:ne,index:Z,setScreen:Y,onClick:re,heading:e.heading})})}):"template-f"===M||"template-collections-f"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(T,{events:ne,onClick:re,heading:e.heading})})}):"template-g"===M||"template-collections-g"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(C,{events:ne,onClick:re,heading:e.heading})})}):"template-h"===M||"template-collections-h"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(D,{events:ne,onClick:re,heading:e.heading})})}):"template-i"===M||"template-collections-i"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(L,{index:Z,events:ne,onClick:re,heading:e.heading})})}):"template-banner-a"===M?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.BANNER_WIDGET_VIEW,event:ne[0],triggerFlag:!A&&!k,children:(0,S.jsx)(b,{events:ne})})}):$?(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.STORIES_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(O,{eventsStories:ie,onClick:ae,template:M})})}):(0,S.jsx)(i.Suspense,{children:(0,S.jsx)(h.S,{userInteractionType:m.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!k,children:(0,S.jsx)(x,{events:ne,onClick:re,heading:e.heading})})})})]})},A=n(7802),k=n(6641),V=n(1351),G=n(5873);var $=function(e){const[t,l]=(0,i.useState)(),[p,h]=(0,i.useState)(),{whatmoreIsStoriesTemplate:_}=(0,i.useContext)(u.B),{whatmoreIsCollectionsTemplate:y}=(0,i.useContext)(u.B),{whatmoreIsBannerTemplate:w}=(0,i.useContext)(u.B),[I]=(0,a.QN)("whatmoreShopId"),[E]=(0,a.QN)("whatmoreCollectionId"),f=(0,a.Xd)("whatmoreLandingLocationType"),O=(0,a.Xd)("whatmoreLoggingActive"),{whatmoreWidgetSourceDetails:x}=(0,i.useContext)(u.B),{whatmoreUserInfo:T,whatmoreIsPreviewMode:C}=(0,i.useContext)(u.B),D=(0,a.Xd)("whatmoreCollectionUrl"),[L]=(0,a.QN)("isInDesignMode"),[j]=(0,a.QN)("isDemoBrand"),b=(0,r.mJ$)(I)?(0,r.jLA)(I)?D:window.location.href.split(/[?#]/)[0]:E,[P,q]=(0,a.QN)("productRatings"),[W,$]=(0,i.useState)(!1);var B=(0,r.SOt)(I)?o.aD+"/v2/events/":o.$$+"/v2/events/",M=(0,r.SOt)(I)?o.aD+"/v3/events/":o.$$+"/v3/events/",F=(0,r.SOt)(I)?o.aD+"/v4/events/":o.$$+"/v4/events/",z=(0,r.SOt)(I)?o.aD+"/v5/events/":o.$$+"/v5/events/",K=(0,r.SOt)(I)?o.aD+"/v6/events/":o.$$+"/v6/events/",R=(0,r.SOt)(I)?o.aD+"/get_eventset/":o.$$+"/get_eventset/",H=(0,r.SOt)(I)?o.aD+"/v2/collection":o.$$+"/v2/collection",U=(0,r.SOt)(I)?o.aD+"/v3/collection":o.$$+"/v3/collection",J=(0,r.SOt)(I)?o.aD+"/v4/collection":o.$$+"/v4/collection",Q=(0,r.SOt)(I)?o.aD+"/v2/brand/"+I+"/product-events":o.$$+"/v2/brand/"+I+"/product-events",X=e.shopId,Z="live,upcoming",Y="true";return(0,i.useEffect)((()=>{null!=t&&0!=t.length&&!p&&(0,c.MN)()&&!(0,a.Xd)("whatmoreVideoPlayerPoolInitiated")&&(0,g._)()&&(0,d.Pc)(d.F5)}),[t]),(0,i.useEffect)((()=>{var e,t,i,o;if((0,s.wm)(),f.startsWith("product"))if((0,r.vvU)(I))o=B.toString()+X.toString()+"?status="+Z.toString()+"&is_active="+Y.toString()+(_?"&template_type=stories":"");else{var c=(0,a.Xd)("whatmoreProductId");c=(0,r.BcY)(I)?function(e,t){return"STRQMPNF7QK"==t?encodeURIComponent(e):e.split(/[?#]/)[0]}(window.location.href,I):c,o=Q.toString()+"?client_product_id="+c.toString()+"&status="+Z.toString()+"&event_type=video"}else if(y||"invalid-url"!==D)o=(0,r.JwJ)(I)?`${U.toString()}?store_id=${X.toString()}&client_collection_id=${"index"==f&&(0,r.FKG)(I).length>0?(0,r.FKG)(I)[0]:b}`:"78232846646"==I?`${J.toString()}?store_id=${X.toString()}&client_collection_id=${"index"==f&&(0,r.FKG)(I).length>0?(0,r.FKG)(I)[0]:b}`:`${H.toString()}?store_id=${X.toString()}&client_collection_id=${"index"==f&&(0,r.FKG)(I).length>0?(0,r.FKG)(I)[0]:b}`;else if(w){const e=v.Jh,t=(0,v.t6)(f);o=R.toString()+X.toString()+"?eventset_type="+e+"&source="+t+"&source_id="+I}else{var d,u,p,m;if(("72201044272"==I||"2665447536"==I&&C)&&!_)o=M.toString()+X.toString()+"?status="+Z.toString()+"&is_active="+Y.toString()+"&latitude="+(null!==(d=null===(u=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===u?void 0:u.latitude)&&void 0!==d?d:"")+"&longitude="+(null!==(p=null===(m=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===m?void 0:m.longitude)&&void 0!==p?p:"")+"&user_type="+(null!==T&&void 0!==T&&T.userType?"olduser":"newuser");else if((0,r.JwJ)(I)&&!_)o=F.toString()+X.toString()+"?status="+Z.toString()+"&is_active="+Y.toString();else if("78232846646"==I&&C){var g,S,E,x;o=K.toString()+X.toString()+"?status="+Z.toString()+"&is_active="+Y.toString()+"&latitude="+(null!==(g=null===(S=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===S?void 0:S.latitude)&&void 0!==g?g:"")+"&longitude="+(null!==(E=null===(x=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===x?void 0:x.longitude)&&void 0!==E?E:"")+"&user_type="+(null!==T&&void 0!==T&&T.userType?"olduser":"newuser")}else o="78232846646"==I?z.toString()+X.toString()+"?status="+Z.toString()+"&is_active="+Y.toString():B.toString()+X.toString()+"?status="+Z.toString()+"&is_active="+Y.toString()+(_?"&template_type=stories":"")}const P=null===(e=window)||void 0===e||null===(t=e.whatmore)||void 0===t||null===(i=t.storyEvents)||void 0===i?void 0:i.events;if(_&&f.startsWith("index")&&"object"==typeof P&&(null===P||void 0===P?void 0:P.length)>0){var q,W,N;const e=null===(q=window)||void 0===q||null===(W=q.whatmore)||void 0===W||null===(N=W.storyEvents)||void 0===N?void 0:N.events;l(e),$(!0)}else fetch(o).then((e=>e.json())).then((e=>{var t;if(w){const t=v.Jh;return(0,A.Po)(e,t)}return(0,r.JwJ)(I)&&(null===e||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.length)>0&&(null==localStorage.getItem("_whatmore_qview_index")&&localStorage.setItem("_whatmore_qview_index",0),(0,s.d3)(null===e||void 0===e?void 0:e.questions)),(0,A.Np)(e,y||"invalid-url"!==D)})).then((e=>{O&&console.debug("initial received events size : "+e.length);let t=e;return t=(0,r.xku)(I)?(0,A.d8)(t):(0,A.Zf)(t),t})).then((e=>{var t;if("28849832033"!==I&&"85317058852"!==I||!Array.isArray(e)||(e=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(e)),(j||L)&&(null==e||e&&0==(null===(t=e)||void 0===t?void 0:t.length))){(async()=>{const{eventsData:e,storiesData:t,bannerData:i}=await n.e(365).then(n.bind(n,6018));l(_?t:w?i:e)})()}else l(e);$(!0)})).catch((e=>{h(e.message),$(!0)}))}),[]),(0,i.useEffect)((()=>{"index"===f?t&&t.length>0&&(0,V.yP)({userInteractionType:m.O.HOMEPAGE_VISITED,widgetSourceDetails:x}):"collection"===f&&(t&&t.length>0||(0,r.BZ$)(I))&&(0,V.yP)({userInteractionType:m.O.COLLECTION_PAGE_VISITED,widgetSourceDetails:x})}),[t]),W&&(null==t||0==t.length||p)&&G.Sn.forEach((e=>{var t,n,i,o;const l=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-stories-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-stories-a"]'),a=null!==(n=e.querySelector('.whatmore-template-type[data-wh="template-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-feed-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-a-1"]')||e.querySelector('.whatmore-template-type[data-wh="template-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-h"]'))&&void 0!==n?n:e.querySelector('.whatmore-template-type[data="template-a"]')||e.querySelector('.whatmore-template-type[data="template-b"]')||e.querySelector('.whatmore-template-type[data="template-f"]')||e.querySelector('.whatmore-template-type[data="template-stories"]')||e.querySelector('.whatmore-template-type[data="template-e"]')||e.querySelector('.whatmore-template-type[data="template-a-1"]')||e.querySelector('.whatmore-template-type[data="template-g"]')||e.querySelector('.whatmore-template-type[data="template-h"]'),r=null!==(i=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-c"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-d"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-h"]'))&&void 0!==i?i:e.querySelector('.whatmore-template-type[data="template-collections-a"]')||e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-collections-c"]')||e.querySelector('.whatmore-template-type[data="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data="template-collections-e"]')||e.querySelector('.whatmore-template-type[data="template-collections-d"]')||e.querySelector('.whatmore-template-type[data="template-collections-f"]')||e.querySelector('.whatmore-template-type[data="template-collections-g"]')||e.querySelector('.whatmore-template-type[data="template-collections-h"]'),s=null!==(o=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==o?o:e.querySelector('.whatmore-template-type[data="template-banner-a"]'),c=e;if(_){const t=e.querySelector(".whatmore-shimmer-stories");t&&(t.style.display="none")}else if(!y){const t=e.querySelector(".loading-skeleton-wrapper");t&&(t.style.display="none")}(s||r||a||l)&&(a&&c||l&&c||s&&c||r&&c)&&(c.style.minHeight="0px")})),null==t||0==t.length||p?(0,S.jsx)("div",{}):(O&&(0,k.xv)(t),O&&console.debug("final transformed events data : "+JSON.stringify(t)),O&&console.debug("valid events size : "+t.length),(0,S.jsx)(N,{heading:e.heading,events:t}))}},7802:function(e,t,n){n.d(t,{Hl:function(){return o},Np:function(){return a},Po:function(){return r},Z_:function(){return i},Zf:function(){return c},d8:function(){return s},zJ:function(){return l}});const i=function(e,t){return!((void 0==e.products||0==e.products.length)&&(void 0==e.cta||0==e.cta.length))},o=function(e,t){return!(void 0==e.products||0==e.products.length)},l=function(e){if(null!=e)return e.filter((e=>{var t;return null===(t=null===e||void 0===e?void 0:e.in_stock)||void 0===t||t}))},a=function(e,t=!1){var n,i;if(null!=e)return t?[...e.events[0].events,...null!==(i=null===e||void 0===e?void 0:e.all_events)&&void 0!==i?i:[]]:[...e.events,...null!==(n=null===e||void 0===e?void 0:e.all_events)&&void 0!==n?n:[]]};const r=function(e,t){let n=[];if(null==e)return[];if("eventsets"in e&&e.eventsets[t]){const i=function(e){if(null==e||0==e.length)return[];let t=[];return e.forEach((e=>{t=t.concat(e.events)})),t}(e.eventsets[t]);n=[...i]}return"all_events"in e&&Array.isArray(e.all_events)&&(n=[...n,...e.all_events]),n};function s(e){if(null!=e){var t=0;return e.forEach((e=>{e.index=t++})),e}}function c(e){if(null==e)return;let t=0;return e.reduce(((e,n)=>{var i;return(null===(i=null===n||void 0===n?void 0:n.in_stock)||void 0===i||i)&&(n.index=t++,e.push(n)),e}),[])}},8945:function(e,t,n){function i(e,t){let n=0;let i=new MutationObserver((function(){document.querySelector("."+e)?(t(),i.disconnect()):0==n&&(n=1,setTimeout((()=>{t(),i.disconnect()}),8e3))}));i.observe(document.body,{childList:!0,subtree:!0})}n.d(t,{H:function(){return i}})}}]);