"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[423],{517:function(e,t,o){o.r(t);var r=o(9950),a=o(340),i=o(9983),l=(o(3997),o(9130),o(4669),o(9733),o(4365),o(7229),o(6042),o(572)),n=o(8603),s=o(1941),c=o(5830),d=o(7509),h=o(4737),m=o(2410),p=o(9611),u=o(8385),g=o(932),v=o(6641),w=o(5901),f=o(6649),x=o(1348),y=o(5873),C=o(4414);const k=(0,n.A)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o]=(0,s.A)(),[n,A]=(0,g.A)(),[S,j]=(0,r.useState)(Array(t.length).fill(0).map((()=>Math.random()))),M=(0,c.Xd)("whatmoreVideoTileSize"),R=(0,c.Xd)("whatmoreVideoTileSizePortrait"),b="portrait"===o?R:M,B="portrait"==o?0:(0,c.Xd)("whatmoreLandscapePadding"),E=(0,c.Xd)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:P}=(0,r.useContext)(h.B),T=(0,c.Xd)("whatmoreShopId"),{whatmoreRootId:V}=(0,r.useContext)(h.B),X=e.onClick;function L(e){X(e)}(0,r.useEffect)((()=>{(0,v.Fk)("Video shopping powered by Whatmore!")}),[]),delete i.Ay.styles.global;var I=[];for(let r=0,a=!1;r<t.length;)a&&r!=t.length-1&&S[r]>.2?(I.push((0,C.jsx)(p.A,{mode:o,event1:t[r],event2:t[r+1],onClick:()=>{L(t[r-1])}},"collections-tile-"+r)),r+=2,a=!a):(I.push((0,C.jsx)(m.A,{mode:o,event:t[r],onClick:()=>{L(t[r-1])},borderRadius:"10%",removeBorders:!1},"collections-tile-"+r)),r+=1,a=!a);(0,r.useEffect)((()=>{y.Sn.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-a"]')))return;e&&(e.style.minHeight="0px")}))}),[]);const[q,z,F]=(0,f.A)({triggerOnce:!1});return(0,C.jsx)(l.C,{value:k,children:(0,C.jsx)("div",{className:P?"whatmore-collection-events":"whatmore-carousel-events",children:(0,C.jsx)(a.s,{theme:i.Ay,cssVarsRoot:V,resetCSS:!1,children:(0,C.jsxs)(d.h.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,C.jsx)("div",{ref:q,style:{marginLeft:B+"px",marginRight:B+"px"},children:(0,C.jsx)(u.c,{renderElement:e=>(0,C.jsx)(C.Fragment,{children:e.eventData}),dataList:I,spacing:E,defaultHeight:n*b*.01+"px",defaultWidth:A*b*.01+"px",retainAlreadyRenderedElements:!0})}),(0,x.wQ2)(T)&&P&&!z&&-1==e.index&&(0,C.jsx)(w.A,{event:t[0],inVideoClick:L,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}}}]);