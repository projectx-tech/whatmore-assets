"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[91],{6071:function(e,t,o){o.r(t);var r=o(7313),a=o(6090),l=o(7616),i=(o(6143),o(7850),o(4444),o(7244),o(123),o(5892),o(1811),o(9302)),n=o(2575),s=o(8866),c=o(7753),h=o(7129),d=o(364),m=o(32),p=o(8631),u=o(6066),g=o(8782),v=o(9821),w=o(7381),f=o(9854),x=o(5380),y=o(3933),C=o(6417);const S=(0,n.Z)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o,n,M]=(0,s.Z)(),[j,k]=(0,r.useState)(Array(t.length).fill(0).map((()=>Math.random()))),[P,Z,b,O,R]=(0,v.Z)(),I=(0,c.MO)("whatmoreCollectionsTileSize"),E=(0,c.MO)("whatmoreCollectionsTileSizePortrait"),T="portrait"===o?E:I,q="portrait"==o?0:(0,c.MO)("whatmoreLandscapePadding"),B=(0,c.MO)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:L}=(0,r.useContext)(d.I),V=(0,c.MO)("whatmoreShopId"),{whatmoreRootId:z}=(0,r.useContext)(d.I),A=e.onClick,[D,H,W]=(0,y.YD)({triggerOnce:!1});function _(e){A(e)}delete l.ZP.styles.global;var F=[];for(let r=0,a=!1;r<t.length;)a&&r!=t.length-1&&j[r]>.2?(F.push((0,C.jsx)(u.Z,{event1:t[r],event2:t[r+1],onClick:()=>{_(t[r-1])},removeBorders:!0},"collections-tile-"+r)),r+=2,a=!a):(F.push((0,C.jsx)(p.Z,{mode:o,event:t[r],onClick:()=>{_(t[r-1])},removeBorders:!0,borderRadius:"0%"},"collections-tile-"+r)),r+=1,a=!a);return(0,r.useEffect)((()=>{(0,w.Oo)("Video shopping powered by Whatmore!")}),[]),(0,r.useEffect)((()=>{m.IR.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-d"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-d"]')))return;e&&(e.style.minHeight="0px")}))}),[]),(0,C.jsx)(i.C,{value:S,children:(0,C.jsx)("div",{className:L?"whatmore-collection-events":"whatmore-carousel-events",children:(0,C.jsx)(a.x,{theme:l.ZP,cssVarsRoot:z,resetCSS:!1,children:(0,C.jsxs)(h.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,C.jsx)("div",{ref:D,style:{marginLeft:q+"px",marginRight:q+"px"},children:(0,C.jsx)(g.P,{renderElement:e=>(0,C.jsx)(C.Fragment,{children:e.eventData}),dataList:F,spacing:B,defaultHeight:P*T*.01+"px",defaultWidth:Z*T*.01+"px",retainAlreadyRenderedElements:!0})}),(0,f.dhc)(V)&&L&&!H&&-1==e.index&&(0,C.jsx)(x.Z,{event:t[0],inVideoClick:_,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}}}]);