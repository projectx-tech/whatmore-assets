"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[760],{8289:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var l=n(5830),o=n(9950),a=n(964),i=n(140),r=n(1348),s=n(4533),d=n(6613),c=n(1085),u=n(3330),h=n(852),p=n(4737),m=n(2039),v=n(4833),g=n(2979),S=n(6157),y=n(5100),w=n(8945),_=n(9821),f=n(4414);const x=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(669),n.e(665)]).then(n.bind(n,7206)))),I=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(437),n.e(296),n.e(620),n.e(116)]).then(n.bind(n,7144)))),E=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(920),n.e(423)]).then(n.bind(n,517)))),O=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(920),n.e(412)]).then(n.bind(n,7646)))),j=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(221)]).then(n.bind(n,5451)))),T=o.lazy((()=>Promise.all([n.e(572),n.e(491)]).then(n.bind(n,3319)))),C=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(378),n.e(437),n.e(181),n.e(987),n.e(669),n.e(650),n.e(956)]).then(n.bind(n,8650)))),q=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(669),n.e(620),n.e(474)]).then(n.bind(n,6945)))),b=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(296),n.e(669),n.e(485)]).then(n.bind(n,9418)))),D=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(676)]).then(n.bind(n,3369)))),N=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(669),n.e(891)]).then(n.bind(n,7178)))),L=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(437),n.e(296),n.e(669),n.e(620),n.e(933)]).then(n.bind(n,6989)))),P=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(378),n.e(437),n.e(181),n.e(987),n.e(669),n.e(650),n.e(806)]).then(n.bind(n,3278)))),W=o.lazy((()=>Promise.all([n.e(572),n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(1)]).then(n.bind(n,4596))));var $=function(e){const[t]=(0,l.QN)("isInDesignMode"),[n]=(0,l.QN)("isDemoBrand"),[$]=(0,l.QN)("whatmoreTopBottomPadding"),[k]=(0,l.QN)("whatmoreStoriesTopBottomPadding"),{whatmoreIsStoriesTemplate:F}=(0,o.useContext)(p.B),[G]=(0,l.QN)("whatmoreShopId"),{whatmoreEventsBrowsingTemplate:B}=(0,o.useContext)(p.B),R=(0,l.Xd)("isLandingSharedLink"),z=(0,l.Xd)("whatmoreShareTemplateId"),A=(0,l.Xd)("whatmoreShareStoryId"),M=(0,l.Xd)("whatmoreShareEventId"),{whatmoreWidgetSourceDetails:J,whatmoreUserInfo:V}=(0,o.useContext)(p.B),Q=R&&B===(0,v.Mm)(z),[X,H]=(0,o.useState)(Q),[U,K]=(0,o.useState)(-1),[Y,Z]=(0,o.useState)(null);let ee=e.events,te=null===e||void 0===e?void 0:e.allEvents,ne=[],le=[];if("template-banner-a"!==B){let e=0;for(let t=0;t<(null===ee||void 0===ee?void 0:ee.length);t++){var oe,ae;((0,m.ij)(ee[t])||(0,m.Il)(ee[t]))&&(null===(oe=null===(ae=ee[t])||void 0===ae?void 0:ae.in_stock)||void 0===oe||oe||(0,r.xku)(G))&&(ne.push({...null===ee||void 0===ee?void 0:ee[t],index:e}),e++)}for(let t=0;t<(null===te||void 0===te?void 0:te.length);t++){var ie,re;!(0,m.ij)(null===te||void 0===te?void 0:te[t])&&!(0,m.Il)(null===te||void 0===te?void 0:te[t])||null!==(ie=null===te||void 0===te||null===(re=te[t])||void 0===re?void 0:re.in_stock)&&void 0!==ie&&!ie||(le.push({...null===te||void 0===te?void 0:te[t],index:e}),e++)}}let se=[...ne,...le];var de=null;F&&!de&&(de=function(e){var t=e.reduce(((e,t,n)=>{var l,o=t.storyset_id;return o in e?(e[o].total_events=e[o].total_events+1,e[o].events.push(t)):e[o]={id:t.storyset_id,title:t.storyset_name,thumbnail_image:t.storyset_thumbnail_image,total_events:1,start_event_index:n,storyset_dynamic_thumbnail:null!==(l=null===t||void 0===t?void 0:t.storyset_dynamic_thumbnail)&&void 0!==l&&l,events:[t]},e}),{}),n=Object.values(t);return n.sort(((e,t)=>e.start_event_index-t.start_event_index)),n}(ne));const ce=J.landingLocationType,ue=J.templateType;function he(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,d.MN)()&&(0,_._)()&&!l&&(0,c.bo)(),t||n||(async()=>{const t=de[e].events[0],n=(0,v.Wd)(ce)+(0,v.gf)(ue)+(null!==t&&void 0!==t&&t.isRelatedEvent?"R":"E")+"_"+(null===t||void 0===t?void 0:t.event_id);(0,i.lB)(t),(0,u.Si)(G,a.TB,a.OL),(0,s.Ch)(t.event_id,t.products,"homepage","stories",n,null===t||void 0===t?void 0:t.location,null===V||void 0===V?void 0:V.userType)})();var r=0;null!=o&&de[e].events.map(((e,t)=>{e.event_id==o&&(r=t)})),K(r),Z(e)}async function pe(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,d.MN)()&&(0,_._)()&&!l&&await(0,c.bo)(),K(e.index),((0,m.ij)(e)||(0,m.Il)(e))&&(t||n||(async()=>{const t=(0,v.Wd)(ce)+(0,v.gf)(ue)+(null!==e&&void 0!==e&&e.isRelatedEvent?"R":"E")+"_"+(null===e||void 0===e?void 0:e.event_id);(0,i.lB)(e),(0,u.Si)(G,a.TB,a.Dk),(0,s.Ch)(e.event_id,e.products,"homepage","carousel",t)})())}function me(e){return(0,f.jsx)(f.Fragment,{})}return(0,o.useEffect)((()=>{if(Q)if((0,w.H)("whatmore-video-player",(()=>{H(!1)})),null!=A&&F){const e=de.find((e=>A==e.id));if(e)return void he(de.indexOf(e),!0,M)}else if(null!=M){const e=ne.find((e=>M==e.event_id));if(e)return void pe(e,!0)}}),[]),(0,f.jsxs)(f.Fragment,{children:[X&&(0,f.jsx)(y.A,{}),(0,f.jsx)("div",{className:"whatmore-widget-container",style:{height:"100%",marginTop:(F?k:$)+"px",marginBottom:(F?k:$)+"px"},children:"template-b"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(x,{events:ne,onClick:pe,heading:e.heading})})}):"template-a-1"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(I,{events:ne,onClick:pe,heading:e.heading})}):"template-feed-a"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(L,{events:ne,onClick:pe,heading:e.heading})}):"template-collections-a"===B||"template-c"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(E,{events:ne,index:U,setScreen:K,onClick:pe,heading:e.heading})})}):"template-collections-b"===B||"template-d"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(O,{events:ne,index:U,setScreen:K,onClick:pe,heading:e.heading})})}):"template-collections-c"===B||"template-e"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(j,{events:ne,index:U,setScreen:K,onClick:pe,heading:e.heading})})}):"template-collections-d"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(x,{events:ne,index:U,setScreen:K,onClick:pe,heading:e.heading})})}):"template-collections-e"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(q,{events:ne,index:U,setScreen:K,onClick:pe,heading:e.heading})})}):"template-collections-stories"===B||"template-stories"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(W,{events:ne,index:U,setScreen:K,onClick:pe,heading:e.heading})})}):"template-f"===B||"template-collections-f"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(b,{events:ne,onClick:pe,heading:e.heading})})}):"template-g"===B||"template-collections-g"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(D,{events:ne,onClick:pe,heading:e.heading})})}):"template-h"===B||"template-collections-h"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(N,{events:ne,onClick:pe,heading:e.heading})})}):"template-banner-a"===B?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.BANNER_WIDGET_VIEW,event:ee[0],triggerFlag:!t&&!n,children:(0,f.jsx)(P,{events:ee})})}):F?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.STORIES_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(T,{eventsStories:de,onClick:he,template:B})})}):(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(q,{events:ne,onClick:pe,heading:e.heading})})})}),-1==U||-2==U?(0,f.jsx)(me,{}):(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(g.S,{userInteractionType:S.O.EVENT_VIEW,event:ee[U],productList:ee[U].products,cta:ee[U].cta,triggerFlag:!t&&!n,children:(0,f.jsx)(C,{events:se,index:U,onBack:function(e){(0,r.ei)(G)&&(0,l.Xd)("whatmoreAddedToCart")&&(0,h.H)(G,(()=>{}),100,window.location.hostname,e),K(-1),H(!1)},slideDirection:F||"horizontal"===(0,r.br0)(G)?"horizontal":"vertical",eventsStories:de,initialStoryIndex:Y,template:B})})})]})};const k=function(e,t,n){const o=(0,l.Xd)("whatmoreShopId");var a=t.reduce(((e,t,n)=>(t.products.map((e=>e.client_product_id)).forEach((t=>{t in e||(e[t]=!0)})),e)),{}),i=Object.keys(a);if("60960964855"==o&&"undefined"!=typeof fera&&"function"===typeof fera.getRatings){var r={};fera.getRatings(i,(e=>{new Promise(((t,n)=>{e.forEach((e=>{r[e.external_product_id]={avgRating:e.average,totalRatings:e.count}})),t(r)})).then((e=>n(e)))}))}if("23114481744"==o){const e="1e6MQXxzYR19mpw9Km6Dcm86";r={};fetch("https://api.juniphq.com/v1/products?filter[remote_ids]="+i.toString(),{headers:{"Junip-Store-Key":e}}).then((e=>e.json())).then((e=>(e.products.forEach((e=>{r[e.remote_id]={avgRating:parseFloat(e.rating_average).toFixed(1),totalRatings:e.rating_count}})),r))).then((e=>n(e))).catch((e=>console.error(e)))}};var F=n(7802),G=n(6641),B=n(1351),R=n(4820),z=n(5873),A=n(6018);var M=function(e){const[t,n]=(0,o.useState)(),[i,u]=(0,o.useState)([]),[h,m]=(0,o.useState)(),{whatmoreIsStoriesTemplate:g}=(0,o.useContext)(p.B),{whatmoreIsCollectionsTemplate:y}=(0,o.useContext)(p.B),{whatmoreIsBannerTemplate:w}=(0,o.useContext)(p.B),[x]=(0,l.QN)("whatmoreShopId"),[I]=(0,l.QN)("whatmoreCollectionId"),E=(0,l.Xd)("whatmoreLandingLocationType"),O=(0,l.Xd)("whatmoreLoggingActive"),{whatmoreWidgetSourceDetails:j}=(0,o.useContext)(p.B),{whatmoreUserInfo:T,whatmoreIsPreviewMode:C}=(0,o.useContext)(p.B),q=(0,l.Xd)("whatmoreCollectionUrl"),[b]=(0,l.QN)("isInDesignMode"),[D]=(0,l.QN)("isDemoBrand"),N=(0,r.mJ$)(x)?(0,r.jLA)(x)?q:window.location.href.split(/[?#]/)[0]:I,[L,P]=(0,l.QN)("productRatings"),[W,M]=(0,o.useState)(!1);var J=(0,r.SOt)(x)?a.aD+"/v2/events/":a.$$+"/v2/events/",V=(0,r.SOt)(x)?a.aD+"/v3/events/":a.$$+"/v3/events/",Q=(0,r.SOt)(x)?a.aD+"/v4/events/":a.$$+"/v4/events/",X=(0,r.SOt)(x)?a.aD+"/v5/events/":a.$$+"/v5/events/",H=(0,r.SOt)(x)?a.aD+"/v6/events/":a.$$+"/v6/events/",U=(0,r.SOt)(x)?a.aD+"/get_eventset/":a.$$+"/get_eventset/",K=(0,r.SOt)(x)?a.aD+"/v2/collection":a.$$+"/v2/collection",Y=(0,r.SOt)(x)?a.aD+"/v3/collection":a.$$+"/v3/collection",Z=(0,r.SOt)(x)?a.aD+"/v4/collection":a.$$+"/v4/collection",ee=(0,r.SOt)(x)?a.aD+"/v2/brand/"+x+"/product-events":a.$$+"/v2/brand/"+x+"/product-events",te=e.shopId,ne="live,upcoming",le="true";return(0,o.useEffect)((()=>{(0,s.wm)();const e=()=>{const e="_whatmore_bulk_events",t=JSON.parse(localStorage.getItem(e))||[];t&&t.length>0&&((0,R.u)(t),localStorage.removeItem(e))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,o.useEffect)((()=>{null!=t&&0!=t.length&&!h&&(0,d.MN)()&&!(0,l.Xd)("whatmoreVideoPlayerPoolInitiated")&&(0,_._)()&&(0,c.Pc)(c.F5)}),[t]),(0,o.useEffect)((()=>{var e;if(E.startsWith("product"))if((0,r.vvU)(x))e=J.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+le.toString()+(g?"&template_type=stories":"");else{var t=(0,l.Xd)("whatmoreProductId");t=(0,r.BcY)(x)?function(e,t){return"STRQMPNF7QK"==t?encodeURIComponent(e):e.split(/[?#]/)[0]}(window.location.href,x):t,e=ee.toString()+"?client_product_id="+t.toString()+"&status="+ne.toString()+"&event_type=video"}else if(y||"invalid-url"!==q)e=(0,r.JwJ)(x)?`${Y.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==E&&(0,r.FKG)(x).length>0?(0,r.FKG)(x)[0]:N}`:"78232846646"==x?`${Z.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==E&&(0,r.FKG)(x).length>0?(0,r.FKG)(x)[0]:N}`:`${K.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==E&&(0,r.FKG)(x).length>0?(0,r.FKG)(x)[0]:N}`;else if(w){const t=v.Jh,n=(0,v.t6)(E);e=U.toString()+te.toString()+"?eventset_type="+t+"&source="+n+"&source_id="+x}else{var o,a,i,d;if(("72201044272"==x||"2665447536"==x&&C)&&!g)e=V.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+le.toString()+"&latitude="+(null!==(o=null===(a=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===a?void 0:a.latitude)&&void 0!==o?o:"")+"&longitude="+(null!==(i=null===(d=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===d?void 0:d.longitude)&&void 0!==i?i:"")+"&user_type="+(null!==T&&void 0!==T&&T.userType?"olduser":"newuser");else if((0,r.JwJ)(x)&&!g)e=Q.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+le.toString();else if("78232846646"==x&&C){var c,h,p,S;e=H.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+le.toString()+"&latitude="+(null!==(c=null===(h=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===h?void 0:h.latitude)&&void 0!==c?c:"")+"&longitude="+(null!==(p=null===(S=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===S?void 0:S.longitude)&&void 0!==p?p:"")+"&user_type="+(null!==T&&void 0!==T&&T.userType?"olduser":"newuser")}else e="78232846646"==x?X.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+le.toString():J.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+le.toString()+(g?"&template_type=stories":"")}fetch(e).then((e=>e.json())).then((e=>{var t;if(w){const t=v.Jh;return(0,F.Po)(e,t)}return(0,r.JwJ)(x)&&(null===e||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.length)>0&&(null==localStorage.getItem("_whatmore_qview_index")&&localStorage.setItem("_whatmore_qview_index",0),(0,s.d3)(null===e||void 0===e?void 0:e.questions)),(null===e||void 0===e?void 0:e.all_events)&&u(null===e||void 0===e?void 0:e.all_events),(0,F.Np)(e,y||"invalid-url"!==q)})).then((e=>(O&&console.debug("initial received events size : "+e.length),g||y||w?e:(0,F.zJ)(e,te)))).then((e=>(("28849832033"===x||"85317058852"===x&&Array.isArray(e))&&(e=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(e)),null!=e&&0!=e.length&&(0,r.WiD)(x)&&function(e,t,n){const o=setInterval((()=>{null===(0,l.Xd)("productRatings")&&k(e,t,n)}),1e3);setTimeout((()=>{clearInterval(o)}),1e4)}(x,e,(e=>{P(e)})),e))).then((e=>{(D||b)&&(null==e||e&&0==(null===e||void 0===e?void 0:e.length))?n(g?A.Yo:w?A.N9:A.uG):n(e),M(!0)})).catch((e=>{m(e.message),M(!0)}))}),[]),(0,o.useEffect)((()=>{"index"===E?t&&t.length>0&&(0,B.yP)({userInteractionType:S.O.HOMEPAGE_VISITED,widgetSourceDetails:j}):"collection"===E&&(t&&t.length>0||(0,r.BZ$)(x))&&(0,B.yP)({userInteractionType:S.O.COLLECTION_PAGE_VISITED,widgetSourceDetails:j})}),[t]),W&&(null==t||0==t.length||h)&&z.Sn.forEach((e=>{var t,n,l,o;const a=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-stories-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-stories-a"]'),i=null!==(n=e.querySelector('.whatmore-template-type[data-wh="template-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-feed-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-a-1"]')||e.querySelector('.whatmore-template-type[data-wh="template-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-h"]'))&&void 0!==n?n:e.querySelector('.whatmore-template-type[data="template-a"]')||e.querySelector('.whatmore-template-type[data="template-b"]')||e.querySelector('.whatmore-template-type[data="template-f"]')||e.querySelector('.whatmore-template-type[data="template-stories"]')||e.querySelector('.whatmore-template-type[data="template-e"]')||e.querySelector('.whatmore-template-type[data="template-a-1"]')||e.querySelector('.whatmore-template-type[data="template-g"]')||e.querySelector('.whatmore-template-type[data="template-h"]'),r=null!==(l=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-c"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-d"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-h"]'))&&void 0!==l?l:e.querySelector('.whatmore-template-type[data="template-collections-a"]')||e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-collections-c"]')||e.querySelector('.whatmore-template-type[data="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data="template-collections-e"]')||e.querySelector('.whatmore-template-type[data="template-collections-d"]')||e.querySelector('.whatmore-template-type[data="template-collections-f"]')||e.querySelector('.whatmore-template-type[data="template-collections-g"]')||e.querySelector('.whatmore-template-type[data="template-collections-h"]'),s=null!==(o=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==o?o:e.querySelector('.whatmore-template-type[data="template-banner-a"]'),d=e;if(g){const t=e.querySelector(".whatmore-shimmer-stories");t&&(t.style.display="none")}else if(!y){const t=e.querySelector(".loading-skeleton-wrapper");t&&(t.style.display="none")}(s||r||i||a)&&(i&&d||a&&d||s&&d||r&&d)&&(d.style.minHeight="0px")})),null==t||0==t.length||h?(0,f.jsx)("div",{}):(O&&(0,G.xv)(t),function(e){if(null!=e){var t=0;e.forEach((e=>{e.index=t++}))}}(t),O&&console.debug("final transformed events data : "+JSON.stringify(t)),O&&console.debug("valid events size : "+t.length),(0,f.jsx)($,{heading:e.heading,events:t,allEvents:i}))},J=n(6649);var V=function(e){const[t]=(0,l.QN)("whatmoreShopId"),[n]=(0,l.QN)("whatmoreHeading"),[a,i]=(0,o.useState)(["initial",window.pageYOffset]),[s,d]=(0,o.useState)(!1),c="2665447536"==t?30:10,h=(0,l.Xd)("isLandingSharedLink");(0,o.useEffect)((()=>{if((0,u.hr)(t),!(0,r.FlM)(t))return;const e=c;let n=window.pageYOffset,l=!1;const o=()=>{const t=window.pageYOffset;var o,a;Math.abs(t-n)<e?l=!1:(a=!0,i(o=[t>n?"scrolled-down":"scrolled-up",t]),o[1]>c&&d(a),n=t>0?t:0,l=!1)},a=()=>{l||(window.requestAnimationFrame(o),l=!0)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]);const[p,m,v]=(0,J.A)({triggerOnce:!0});return(0,f.jsx)("div",{ref:p,style:{display:"block",height:"100%"},children:s||m||h||!(0,r.FlM)(t)||(0,r.wQ2)(t)?(0,f.jsx)(M,{heading:n,shopId:t}):(0,f.jsx)("div",{})})}},7802:function(e,t,n){n.d(t,{Hl:function(){return o},Np:function(){return i},Po:function(){return r},Z_:function(){return l},zJ:function(){return a}});const l=function(e,t){return!((void 0==e.products||0==e.products.length)&&(void 0==e.cta||0==e.cta.length))},o=function(e,t){return!(void 0==e.products||0==e.products.length)},a=function(e,t){if(null!=e)return e},i=function(e){if(null!=e)return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.events[0].events:e.events};const r=function(e,t){var n;if(null==e)return[];if(!("eventsets"in e))return[];const l=null!==(n=e.eventsets[t])&&void 0!==n?n:null;return l?function(e){if(null==e||0==e.length)return[];let t=[];return e.forEach((e=>{e.events.forEach((e=>{t.push(e)}))})),t}(l):[]}}}]);