"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262],{7129:function(e,t,n){n.d(t,{V:function(){return r}});const r=(0,n(7313).createContext)({tileTopMargin:10,tileBottomMMargin:10,tileLeftMargin:10,tileRightMargin:10,showPlayButton:!0})},4892:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7313),i=n(868),o=n(8984),s=(n(6422),n(6417));var u=function(e){var t,n;const i=(0,r.useRef)(null),[o,u]=(0,r.useState)(!1),a=null!==(t=e.height)&&void 0!==t?t:"100%",c=null!==(n=e.width)&&void 0!==n?n:"100%";return(0,s.jsx)("div",{style:{width:a,height:c,overflow:"hidden"},children:(0,s.jsx)("video",{ref:i,className:"whatmore-video-player",width:c,height:a,preload:"auto",loop:!0,playsInline:!0,muted:!0,autoPlay:!0,src:e.url,style:{backgroundColor:"white"}})})};var a=function(e){var t,n,a;const c=null!==(t=e.pauseFromPlayTimeInMs)&&void 0!==t?t:200;if((0,o.KE)())return(0,s.jsx)(u,{height:"100%",width:"100%",url:(0,i.V)(e.url),isPlaying:e.isPlaying,pauseFromPlayTimeInMs:c});const d=(0,r.useRef)(null),[l,h]=(0,r.useState)(!1),f=null!==(n=e.height)&&void 0!==n?n:"100%",v=null!==(a=e.width)&&void 0!==a?a:"100%";return(0,r.useEffect)((()=>{d.current&&(e.isPlaying?d.current.play():d.current.play().then((()=>{setTimeout((()=>{d.current.pause(),h(!0)}),c)})))}),[e.isPlaying,l]),(0,s.jsx)("div",{style:{width:f,height:v,overflow:"hidden"},children:(0,s.jsx)("video",{ref:d,className:"whatmore-video-player",width:v,height:f,preload:"auto",loop:!0,playsInline:!0,muted:!0,src:(0,i.V)(e.url),style:{backgroundColor:"white"}})})}},868:function(e,t,n){n.d(t,{V:function(){return i}});const r={"https://d3syezql093hs1.cloudfront.net":"https://whatmore-brand-video-assets.azureedge.net","https://d2r0bijhs9mx1s.cloudfront.net":"https://whatmore-brand-thumbnail-video-assets.azureedge.net","https://d2oouab8j9eigo.cloudfront.net":"https://whatmore-brand-story-assets.azureedge.net","https://d28nus7q7qajdn.cloudfront.net":"https://whatmore-video-assets.azureedge.net","https://d1qflh9ill7vje.cloudfront.net":"https://whatmore-plugin-assets.azureedge.net","https://d3o9roqe5p68r1.cloudfront.net":"https://whatmore-stage-plugin-assets.azureedge.net"},i=function(e){if(e.startsWith("https://cdn.shopify.com"))return e;if(e.includes(".azureedge.net"))return e;if(e.includes(".cloudfront.net")){for(const t of Object.keys(r))if(e.includes(t))return e.replace(t,r[t]);return e}return e}},6805:function(e,t,n){n.d(t,{$I:function(){return u},$w:function(){return c},AK:function(){return o},AL:function(){return s},YP:function(){return i},me:function(){return r},rE:function(){return a}});const r="device_type",i="device_mode",o="mobile",s="tablet",u="desktop",a="portrait",c="landscape"},6422:function(e,t,n){var r=n(7313),i=n(7371);const{useGlobalState:o}=(0,i.r)({muted:!1});t.Z=function(e){const[t,n]=o("muted");return(0,r.useEffect)((()=>{}),[]),[t,n]}},8866:function(e,t,n){var r=n(7313);function i(){return[window.innerHeight,window.innerWidth]}t.Z=function(e){var[t,n]=i();const[o,s]=(0,r.useState)(["portrait",t,n]);return(0,r.useLayoutEffect)((()=>{function e(){var[e,t]=i();s(e>t?["portrait",e,t]:["landscape",e,t])}return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),screen.orientation&&screen.orientation.addEventListener("change",e),e(),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),screen.orientation&&screen.orientation.removeEventListener("change",e)}}),[]),o}},9821:function(e,t,n){var r=n(6367),i=n(9543),o=n(8866),s=n(6805);t.Z=function(e){const[t,n,u]=(0,o.Z)(),[a]=(0,i.j1)("whatmoreLandscapePadding"),[c]=(0,i.j1)("whatmoreVideoTileSize"),d=(0,r.useMediaQuery)({query:"(min-width: 1025px)"}),l=(0,r.useMediaQuery)({query:"(min-width: 481px)"}),h=!("portrait"!=t||!l),f=c/100;var v=Math.min(u,n),[g,p,w,m]=[.6*v*(16/9),.6*v,1.4,0];function y(e){return Math.round(10*e)/10}var b={DEVICE_TYPE:s.AK,DEVICE_MODE:s.rE};if(d){const e=.5*p,t=.5*g;[g,p,w,m]=[t,e,(u-2*a)/(1.1*e),a],b[s.me]=s.$I,b[s.YP]=s.$w}else if(h){var E=.8*p,V=.8*g;"portrait"==t?(E*=f,V*=f,[g,p,w,m]=[V,E,y(u/(1.2*E)),0],b[s.me]=s.AL,b[s.YP]=s.rE):([g,p,w,m]=[V,E,(u-2*a)/(1.1*E),a],b[s.me]=s.AL,b[s.YP]=s.$w)}else{E=p,V=g;"portrait"==t?(E*=f,V*=f,[g,p,w,m]=[V,E,y(u/(1.2*E)),0],b[s.me]=s.AK,b[s.YP]=s.rE):(E=.7*p,V=.7*g,[g,p,w,m]=[V,E,(u-2*a)/(1.1*E),a],b[s.me]=s.AK,b[s.YP]=s.$w)}return[g,p,w,m,b]}},123:function(){},7244:function(){},6143:function(){},3933:function(e,t,n){n.d(t,{YD:function(){return l}});var r=n(7313);const i=new Map,o=new WeakMap;let s,u=0;function a(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(n=e.root)?(o.has(n)||(u+=1,o.set(n,u.toString())),o.get(n)):"0":e[t]);var n})).toString()}function c(e){let t=a(e),n=i.get(t);if(!n){const r=new Map;let o;const s=new IntersectionObserver((t=>{t.forEach((t=>{var n;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=i),null==(n=r.get(t.target))||n.forEach((e=>{e(i,t)}))}))}),e);o=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:r},i.set(t,n)}return n}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:o,observer:u,elements:a}=c(n);let d=a.get(e)||[];return a.has(e)||a.set(e,d),d.push(t),u.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(a.delete(e),u.unobserve(e)),0===a.size&&(u.disconnect(),i.delete(o))}}r.Component;function l(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:i,root:o,triggerOnce:s,skip:u,initialInView:a,fallbackInView:c,onChange:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[f,v]=r.useState(null),g=r.useRef(),[p,w]=r.useState({inView:!!a,entry:void 0});g.current=l,r.useEffect((()=>{if(u||!f)return;let r;return r=d(f,((e,t)=>{w({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&s&&r&&(r(),r=void 0)}),{root:o,rootMargin:i,threshold:e,trackVisibility:n,delay:t},c),()=>{r&&r()}}),[Array.isArray(e)?e.toString():e,f,o,i,s,u,n,c,t]);const m=null==(h=p.entry)?void 0:h.target;r.useEffect((()=>{f||!m||s||u||w({inView:!!a,entry:void 0})}),[f,m,s,u,a]);const y=[v,p.inView,p.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}}}]);