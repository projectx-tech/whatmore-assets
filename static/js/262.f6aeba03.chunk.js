"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262],{3262:function(t,e,r){r.r(e),r.d(e,{initiateCartSliderEvent:function(){return n}});var o=r(1745);const n=async function(t,e,r,n,i="",a="",u="",c="",d="",s=""){if("STRNV8MHJTF"!=t&&"STR6HU283UZ"!=t&&"STR9T3LLEJB"!=t&&"STRWJMIOJNX"!=t&&"STRUDQ36YAC"!=t&&"STR1D5ONOZX"!=t){await fetch("https://"+window.location.hostname+"/cart.js",{cache:"reload"}).then((t=>t.json()));if(null==sessionStorage.getItem("wht_atc_form")){var l;fetch(null===s||void 0===s||null===(l=s.split("?"))||void 0===l?void 0:l[0]).then((t=>t.text())).then((t=>{var e;const r=(new DOMParser).parseFromString(t,"text/html"),n=Array.from(r.querySelectorAll('form[action*="/cart/add"]')).find((t=>t.querySelector('button[type="submit"]')));let l=n.querySelector('input[name="id"]');l||(l=document.createElement("input"),l.type="hidden",l.name="id",l.value="123",n.appendChild(l)),console.log(s,"html"),sessionStorage.setItem("wht_atc_form",n.outerHTML),n.hasAttribute("data-product-id")&&n.setAttribute("data-product-id",a);const m=n.querySelector('input[name="id"]');m&&(m.setAttribute("value",i),m.hasAttribute("disabled")&&m.removeAttribute("disabled"));const p=n.querySelector('input[name="product-id"]');p&&p.setAttribute("value",a);const h=document.createElement("div");h.appendChild(n),document.body.appendChild(h),console.log(h,"formElement");const y=null===(e=Array.from(document.querySelectorAll('form[action*="/cart/add"]')).find((t=>{const e=t.querySelector('input[name="id"]');return e&&e.value==i})))||void 0===e?void 0:e.querySelector('button[type="submit"]');y&&y.click(),setTimeout((()=>{(0,o.js)().then((t=>t.json())).then((t=>{const e=t.items.find((t=>t.id==i)),r=e.key,n=e.quantity,a=e.properties;(0,o.CP)(r,n,a,u,c,d,!0,!0,!0)}))}),2e3)}))}else{var m;const t=sessionStorage.getItem("wht_atc_form"),e=(new DOMParser).parseFromString(t,"text/html").querySelector('form[action*="/cart/add"]');e.hasAttribute("data-product-id")&&e.setAttribute("data-product-id",a);const r=e.querySelector('input[name="id"]');r&&(r.setAttribute("value",i),r.hasAttribute("disabled")&&r.removeAttribute("disabled"));const n=e.querySelector('input[name="product-id"]');n&&n.setAttribute("value",a);const s=document.createElement("div");s.appendChild(e),document.body.appendChild(s);const l=null===(m=Array.from(document.querySelectorAll('form[action*="/cart/add"]')).find((t=>{const e=t.querySelector('input[name="id"]');return e&&e.value==i})))||void 0===m?void 0:m.querySelector('button[type="submit"]');l&&l.click(),setTimeout((()=>{(0,o.js)().then((t=>t.json())).then((t=>{const e=t.items.find((t=>t.id==i)),r=e.key,n=e.quantity,a=e.properties;(0,o.CP)(r,n,a,u,c,d,!0,!0,!0)}))}),2e3)}setTimeout(e,r)}else{console.log("Executing cart refresh script..");document.getElementById("whatsmorecart").value=Math.random()}}}}]);