"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[709],{9262:function(e,t,n){n(7313),n(9821),n(2634),n(6417)},8709:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var i=n(9543),o=n(7313),r=n(2860),a=n(499),s=n(4897),c=n(5160),d=n(9854),l=n(6967),u=n(8984),h=n(58),f=n(4669),p=n(4998),g=n(6966),m=n(9158),v=n(9263),x=(n(9262),n(4664)),w=n(7616),j=(n(6143),n(7244),n(123),n(9302)),b=n(2575),y=n(3271),C=n(8866),S=n(7129),T=n(9821),I=n(3933),_=n(6417);function k(e){const{ref:t,inView:n,entry:i}=(0,I.YD)({triggerOnce:!1});return(0,_.jsx)(y.Kq,{direction:"row",height:"fit-content",width:"100%",justifyContent:"center",alignItems:"center",children:e.data.map(((i,o)=>(0,_.jsx)("div",{ref:t,children:n?e.renderElement({eventData:i}):(0,_.jsx)("div",{height:e.defaultHeight,width:e.defaultWidth})},"key"+o)))})}function E(e){var t;const[n,i,o]=(0,T.Z)(),r=null!==(t=e.elementsPerRow)&&void 0!==t?t:Math.floor(Math.min(o,e.dataList.length)),a=function(e,t){var n=[];const i=t;for(let o=0;o<e.length;o+=i){const t=e.slice(o,o+i);n.push(t)}return n}(e.dataList,r);return(0,_.jsx)(y.Kq,{direction:"column",height:"100%",width:"100%",justifyContent:"flex-start",alignItems:"center",children:a.map(((t,o)=>(0,_.jsx)(k,{renderElement:e.renderElement,data:t,defaultHeight:n,defaultWidth:i},"key-"+o)))})}const P=(0,b.Z)({key:"whatmore-css-hv"});var M=function(e){var t;const[n,r,a]=(0,C.Z)(),[s]=(0,i.j1)("whatmoreShopId"),[c]=(0,i.j1)("whatmorePrimaryColor"),[l]=(0,i.j1)("whatmoreSecondaryColor"),[u]=(0,i.j1)("whatmoreTitleFont"),[h]=(0,i.j1)("whatmoreTitleFontSize"),{whatmoreRootId:f}=(0,o.useContext)(g.I),p=e.events,b=e.onClick,T=null!==(t=(0,d.aR)(s))&&void 0!==t?t:u;function I(e){b(e)}return delete w.ZP.styles.global,(0,_.jsx)(j.C,{value:P,children:(0,_.jsx)("div",{children:(0,_.jsx)(x.x,{theme:w.ZP,cssVarsRoot:f,resetCSS:!1,children:(0,_.jsxs)(S.V.Provider,{value:{tileTopMargin:3,tileBottomMMargin:3,tileLeftMargin:3,tileRightMargin:3,showPlayButton:!1},children:[e.heading.trim().length>0?(0,_.jsx)(y.M5,{children:(0,_.jsx)(y.xv,{bgColor:c,bgClip:"text",fontSize:h,sx:{fontFamily:T+" !important"},align:"center",children:e.heading})}):(0,_.jsx)(_.Fragment,{}),"landscape"===n?(0,_.jsx)(E,{renderElement:e=>{const t=e.eventData;return(0,_.jsx)(_.Fragment,{children:"video"===t.event_type?(0,_.jsx)(v.Z,{isOnFocus:!0,playOnUnfocus:!1,animateOnFocus:!0,event:t,onClick:()=>{I(t)}}):(0,_.jsx)(m.Z,{isOnFocus:!0,playOnUnfocus:!1,animateOnFocus:!0,event:t,onClick:()=>{I(t)}})})},dataList:p,elementsPerRow:2}):(0,_.jsx)(E,{renderElement:e=>{const t=e.eventData;return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(v.Z,{isOnFocus:!0,playOnUnfocus:!1,animateOnFocus:!0,event:t,onClick:()=>{I(t)}})})},dataList:p,elementsPerRow:null})]})})})})};const O=o.lazy((()=>Promise.all([n.e(853),n.e(610),n.e(143)]).then(n.bind(n,4143)))),R=o.lazy((()=>Promise.all([n.e(853),n.e(183),n.e(610),n.e(462),n.e(838)]).then(n.bind(n,2157)))),Z=o.lazy((()=>Promise.all([n.e(853),n.e(183),n.e(610),n.e(462),n.e(757)]).then(n.bind(n,5523)))),L=o.lazy((()=>Promise.all([n.e(853),n.e(610),n.e(827)]).then(n.bind(n,3827)))),F=o.lazy((()=>Promise.all([n.e(853),n.e(610),n.e(71)]).then(n.bind(n,6071)))),z=o.lazy((()=>n.e(580).then(n.bind(n,3580)))),A=o.lazy((()=>Promise.all([n.e(853),n.e(183),n.e(610),n.e(462),n.e(746)]).then(n.bind(n,3754))));var V=function(e){const[t]=(0,i.j1)("isInDesignMode"),[n]=(0,i.j1)("isDemoBrand"),[m]=(0,i.j1)("whatmoreTopBottomPadding"),[v]=(0,i.j1)("whatmoreStoriesTopBottomPadding"),{whatmoreIsStoriesTemplate:x}=(0,o.useContext)(g.I),[w]=(0,i.j1)("whatmoreShopId"),{whatmoreEventsBrowsingTemplate:j}=(0,o.useContext)(g.I),[b,y]=(0,o.useState)(-1),[C,S]=(0,o.useState)(null);var T=e.events,I=null;function k(e){(0,u.KE)()&&(0,h.QV)(),t||n||(async()=>{const t=I[e].events[0];(0,c.wh)(t),(0,f.Tc)(w,r.Xh,r.OW),(0,l.H4)(t.event_id,t.products,"homepage","stories")})(),y(I[e].start_event_index),S(e)}function E(e){if((0,u.KE)()&&(0,h.QV)(),"video"===e.event_type)return t||n||(async()=>{(0,c.wh)(e),(0,f.Tc)(w,r.Xh,r.pR),(0,l.H4)(e.event_id,e.products,"homepage","carousel")})(),void y(e.index);var{status:i,bannerText:o,timeToStartInMins:d}=s.Z.getEventStatus(e);d<=20&&i.name!==a.Z.LIVE.name?console.debug(" TODO : show toast on upcoming live event."):y(e.index)}function P(e){return(0,_.jsx)(_.Fragment,{})}return x&&!I&&(I=function(e){var t=e.reduce(((e,t,n)=>{var i=t.storyset_id;return i in e?(e[i].total_events=e[i].total_events+1,e[i].events.push(t)):e[i]={id:t.storyset_id,title:t.storyset_name,thumbnail_image:t.storyset_thumbnail_image,total_events:1,start_event_index:n,events:[t]},e}),{}),n=Object.values(t);return n.sort(((e,t)=>e.start_event_index-t.start_event_index)),n}(T)),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:{marginTop:(x?v:m)+"px",marginBottom:(x?v:m)+"px"},children:"template-b"===j?(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(R,{events:T,onClick:E,heading:e.heading})}):"template-a-1"===j?(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(Z,{events:T,onClick:E,heading:e.heading})}):"template-feed-a"===j?(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(M,{events:T,onClick:E,heading:e.heading})}):"template-collections-a"===j?(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(L,{events:T,onClick:E,heading:e.heading})}):"template-collections-b"===j?(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(F,{events:T,onClick:E,heading:e.heading})}):x?(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(z,{eventsStories:I,onClick:k,template:j})}):(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(O,{events:T,onClick:E,heading:e.heading})})}),-1==b?(0,_.jsx)(P,{}):(0,_.jsx)(o.Suspense,{children:(0,_.jsx)(A,{events:T,index:b,onBack:function(e){(0,d.n2)(w)&&(0,i.MO)("whatmoreAddedToCart")&&(0,p.D)(w,(()=>{}),100,window.location.hostname),y(-1)},slideDirection:x||"horizontal"===(0,d.e8)(w)?"horizontal":"vertical",eventsStories:I,initialStoryIndex:C,template:j})})]})};const D=function(e,t,n){if("undefined"!=typeof fera&&"function"===typeof fera.getRatings){var i=t.reduce(((e,t,n)=>{const i=t.products[0].client_product_id;return i in e||(e[i]=!0),e}),{}),o=Object.keys(i),r={};fera.getRatings(o,(e=>{e.forEach((e=>{r[e.external_product_id]={avgRating:e.average,totalRatings:e.count},n(r)}))}))}};n(4844),n(7247);var K=function(e){const[t,n]=(0,o.useState)(),[a,s]=(0,o.useState)(),{whatmoreIsStoriesTemplate:c}=(0,o.useContext)(g.I),[f]=(0,i.j1)("whatmoreShopId"),[p,m]=(0,i.j1)("productRatings");var v=r.Gc+"/v1/events/",x=e.shopId;return(0,o.useEffect)((()=>{(0,l.hb)()}),[]),(0,o.useEffect)((()=>{null==t||0==t.length||a||!(0,u.KE)()||(0,i.MO)("whatmoreVideoPlayerPoolInitiated")||(0,h.b5)(h.UD)}),[t]),(0,o.useEffect)((()=>{fetch(v.toString()+x.toString()+"?status="+"live,upcoming".toString()+"&is_active="+"true".toString()+(c?"&template_type=stories":"")).then((e=>e.json())).then((e=>function(e,t){if(null!=e)return e.filter((e=>e.products.length>0))}(e))).then((e=>(null!=e&&0!=e.length&&(0,d.LU)(f)&&function(e,t,n){const o=setInterval((()=>{null===(0,i.MO)("productRatings")&&D(e,t,n)}),3e3);setTimeout((()=>{clearInterval(o)}),1e4)}(f,e,(e=>{m(e)})),e))).then((e=>{null==e||0==e.length||c||(0,d.NO)(x,e),n(e)})).catch((e=>{s(e.message)}))}),[]),null==t||0==t.length||a?(0,_.jsx)("div",{}):(function(e,t){if(null!=e){var n=0;e.forEach((e=>{e.index=n++}))}}(t),(0,_.jsx)(V,{heading:e.heading,events:t}))};var B=function(e){const[t]=(0,i.j1)("isInDesignMode"),[n]=(0,i.j1)("isDemoBrand"),[a]=(0,i.j1)("whatmoreShopId"),[s]=(0,i.j1)("whatmoreHeading"),[c]=(0,i.j1)("whatmorePrimaryColor"),[d]=(0,i.j1)("whatmoreSecondaryColor");return(0,o.useEffect)((()=>{(0,f.ll)(a)}),[]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{children:t||n?(0,_.jsx)("div",{children:(0,_.jsx)(K,{heading:s,shopId:r.aA})}):(0,_.jsx)("div",{children:(0,_.jsx)(K,{heading:s,shopId:a})})})})}},9158:function(e,t,n){var i=n(3271),o=n(5098),r=n(7313),a=n(9821),s=n(2634),c=n(5180),d=n(1868),l=n(9543),u=n(7129),h=n(6417);t.Z=function(e){var t,n,[f,p]=(0,a.Z)();const[g]=(0,l.j1)("whatmorePrimaryFont");var m=(0,r.useContext)(u.V);const v=e.event,x=e.onClick,w=null===(t=e.isOnFocus)||void 0===t||t,j=(e.playOnUnfocus,null!==(n=e.animateOnFocus)&&void 0!==n&&n);return(0,h.jsxs)(i.xu,{animation:j?w?d.L:d.K:"none",marginTop:m.tileTopMargin,marginBottom:m.tileBottomMMargin,marginLeft:m.tileLeftMargin,marginRight:m.tileRightMargin,width:p,height:f,borderRadius:"lg",sx:{boxShadow:"0px 0px 10px 3px #B0B0B0"},overflow:"hidden",onClick:()=>{x(v)},cursor:"pointer",children:[(0,h.jsx)(o.Ee,{width:"full",height:"full",src:v.thumbnail_image,objectFit:"cover",fallback:(0,h.jsx)(c.Z,{width:p,height:f}),borderRadius:"lg"}),(0,h.jsx)(i.xu,{style:{position:"relative",zIndex:1,bottom:"100%",overflow:"hidden"},width:"full",height:"full",borderRadius:"lg",overflow:"hidden",className:"whatmore-ios-css-relative-fix",children:(0,h.jsxs)(i.Kq,{direction:"column",height:"full",width:"full",justifyContent:"space-between",children:[(0,h.jsx)(i.xu,{w:"100%",borderRadius:"lg",bgGradient:"linear(to-t, transparent,  blackAlpha.200, blackAlpha.400, blackAlpha.600)",children:(0,h.jsx)(i.Kq,{direction:"column",justifyContent:"flex-start",children:(0,h.jsx)(i.xu,{width:"100%",marginLeft:"5px",marginRight:"5px",marginTop:"10px",children:(0,h.jsx)(i.Kq,{direction:"row",justifyContent:"space-between",children:(0,h.jsx)(s.Z,{event:v,fontSize:.05*f+"px",maxWidth:.8*p})})})})}),(0,h.jsx)(i.xu,{w:"100%",borderRadius:"lg",bgGradient:"linear(to-b, transparent,  blackAlpha.300, blackAlpha.400, blackAlpha.500, blackAlpha.600)",children:(0,h.jsx)(i.Kq,{direction:"column",width:"full",height:"full",justifyContent:"flex-end",alignContent:"center",children:(0,h.jsx)(i.xu,{width:"full",borderRadius:"lg",children:(0,h.jsxs)(i.Kq,{direction:"column",justifyContent:"space-between",alignContent:"flex-start",marginLeft:"5px",marginRight:"5px",marginBottom:"2px",children:[(0,h.jsx)(i.xv,{color:"white",fontSize:.08*p+"px",fontWeight:"normal",align:"left",children:"         "}),(0,h.jsx)(i.xv,{fontSize:.08*p+"px",fontWeight:"normal",align:"left",sx:{fontFamily:g+" !important",color:"white !important"},children:v.title.substring(0,40)}),(0,h.jsx)(i.xv,{fontSize:.08*p+"px",fontWeight:"bold",align:"left",sx:{fontFamily:g+" !important",color:"white !important"},children:v.presenter_name.substring(0,15)})]})})})})]})})]})}},1868:function(e,t,n){n.d(t,{K:function(){return l},L:function(){return d}});var i,o,r=n(168),a=n(686);const s=(0,a.F4)(i||(i=(0,r.Z)(["\n    0% {\n        transform: scale(1);\n    }\n    100% {\n        transform: scale(1.05);\n    }\n"]))),c=(0,a.F4)(o||(o=(0,r.Z)(["\n    0% {\n        transform: scale(1.05);\n    }\n    100% {\n        transform: scale(1);\n    }\n"]))),d="\n    ".concat(s,"; \n    infinite;\n    animation-duration:0.2s; \n    animation-direction: linear ;\n    animation-timing-function: ease-in;\n    animation-fill-mode: forwards;\n"),l="\n    ".concat(c,"; \n    infinite;\n    animation-duration:0.2s; \n    animation-direction: linear ;\n    animation-timing-function: ease-in;\n    animation-fill-mode: forwards;\n")},2634:function(e,t,n){var i=n(3271),o=n(4897),r=n(499),a=n(6417);t.Z=function(e){var t,n=e.event,s=e.fontSize,c=null!==(t=e.maxWidth)&&void 0!==t?t:"100%",{status:d,bannerText:l,timeToStartInMins:u}=o.Z.getEventStatus(n);return d.name===r.Z.LIVE.name?(0,a.jsx)(i.xu,{maxWidth:c,width:"fit-content",borderRadius:"md",paddingLeft:"2px",paddingRight:"2px",backgroundColor:"tomato",color:d.color,children:(0,a.jsx)(i.Kq,{direction:"row",justifyContent:"flex-start",width:"fit-content",alignContent:"center",paddingLeft:"2px",paddingRight:"2px",children:(0,a.jsx)(i.xv,{fontSize:s,fontWeight:"bold",color:"white",children:l})})}):(0,a.jsx)(i.xu,{maxWidth:c,borderRadius:"md",paddingLeft:"2px",paddingRight:"2px",backgroundColor:"white",color:d.color,children:(0,a.jsx)(i.Kq,{direction:"row",justifyContent:"flex-start",width:"fit-content",alignContent:"center",children:(0,a.jsx)(i.xv,{fontSize:s,fontWeight:"medium",children:l})})})}},499:function(e,t){t.Z={LIVE:{name:"LIVE",color:"gray.600"},UPCOMING:{name:"UPCOMING",color:"gray.600"},DEFAULT:{name:"LIVE EVENT",color:"gray.600"},COMPLETED:{name:"ENDED",color:"gray.600"}}},4897:function(e,t,n){var i=n(499);t.Z=class{static getEventStatus(e){e.time_zone="GMT+5:30";var t=e.start_time+":00",n=e.end_time,o=e.scheduled_date,r=e.status,a=e.time_zone;if(r.toUpperCase()==i.Z.LIVE.name)return{status:i.Z.LIVE,bannerText:" "+i.Z.LIVE.name+" ",timeToStartInMins:0};if(r.toUpperCase()==i.Z.UPCOMING.name){var s=new Date(o+" "+t+" "+a),c=(new Date(o+" "+n+" "+a),function(e){var t=new Date,n=(e.getTime()-t.getTime())/1e3,o=n/60,r=o/60,a=r/24;return n<=0?{status:i.Z.COMPLETED,bannerText:" "+i.Z.COMPLETED.name+" ",timeToStartInMins:0}:n>=1&&n<=30?{status:i.Z.UPCOMING,bannerText:"Starts in "+Math.round(n)+" sec ",timeToStartInMins:n/60}:o<60?{status:i.Z.UPCOMING,bannerText:"Starts in "+Math.round(o)+" min ",timeToStartInMins:o}:r<24?{status:i.Z.UPCOMING,bannerText:"Starts in "+Math.round(r)+" hr ",timeToStartInMins:60*r}:a<7?{status:i.Z.UPCOMING,bannerText:" "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]+" ",timeToStartInMins:60*a*24}:{status:i.Z.UPCOMING,bannerText:"Upcoming",timeToStartInMins:2880}}(s));return{status:c.status,bannerText:c.bannerText,timeToStartInMins:c.timeToStartInMins}}return console.error("invalid status for event :: id : "+e.event_id+", status : "+e.status),{status:i.Z.DEFAULT,bannerText:"live event",timeToStartInMins:2880}}}},7758:function(e,t,n){var i=n(3271),o=n(237),r=n(6417);t.Z=function(e){const t=e.event,n=e.fontSize;return t.total_views<=0?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.xu,{width:"fit-content",borderRadius:"md",padding:"2px",paddingLeft:"6px",paddingRight:"6px",backgroundColor:"blackAlpha.700",color:"white",children:(0,r.jsxs)(i.kC,{direction:"row",justifyContent:"center",gap:"3px",alignItems:"center",children:[(0,r.jsx)(i.M5,{children:(0,r.jsx)(o.Z,{sx:{color:"white !important",fontSize:n,fontWeight:"normal"}})}),(0,r.jsx)(i.xv,{sx:{color:"white !important",fontSize:n+" !important",fontWeight:"normal",lineHeight:"120% !important"},children:" "+(a=t.total_views,(a<1e3?a:a<1e5?(a/1e3).toFixed(0)+"K":(a/1e5).toFixed(0)+"L")+" ")})]})})});var a}},7129:function(e,t,n){n.d(t,{V:function(){return i}});const i=(0,n(7313).createContext)({tileTopMargin:10,tileBottomMMargin:10,tileLeftMargin:10,tileRightMargin:10,showPlayButton:!0})},5180:function(e,t,n){var i=n(3271),o=n(208),r=n(6417);t.Z=function(e){var t,n,a;const s=null!==(t=e.height)&&void 0!==t?t:"100%",c=null!==(n=e.width)&&void 0!==n?n:"100%",d=null!==(a=e.borderRadius)&&void 0!==a?a:"lg";return(0,r.jsx)(i.xu,{borderRadius:d,overflow:"hidden",children:(0,r.jsx)(o.Od,{height:s,width:c,speed:.5,startColor:"gray.400",endColor:"white"})})}},4998:function(e,t,n){n.d(t,{D:function(){return i}});const i=async function(e,t,n,i){var o=await fetch("https://"+window.location.hostname+"/cart.js",{cache:"reload"}).then((e=>e.json()));if("27358003275"==e||"63748341981"==e||"68237558034"==e)document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0,detail:{cart:o,openMiniCart:!0}}));else if("19506115"==e)window.PXUTheme.jsAjaxCart.showDrawer(),window.PXUTheme.jsAjaxCart.updateView();else if("54465429691"==e)refreshCart(o),window.setTimeout((function(){$.fancybox.close(),$(".cart-button").click()}),500);else if("25427564"==e){(new theme.CartDrawer).open()}else"62602182872"==e||"57362710572"==e?(CartJS.getCart(),$(".block-cart").addClass("active")):document.documentElement.dispatchEvent(new CustomEvent("product:added",{bubbles:!0,detail:{}}));setTimeout(t,n)}},5945:function(e,t,n){function i(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}n.d(t,{s:function(){return i}})},4892:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(7313),o=n(868),r=n(8984),a=(n(6422),n(6417));var s=function(e){var t,n;const o=(0,i.useRef)(null),[r,s]=(0,i.useState)(!1),c=null!==(t=e.height)&&void 0!==t?t:"100%",d=null!==(n=e.width)&&void 0!==n?n:"100%";return(0,a.jsx)("div",{style:{width:c,height:d,overflow:"hidden"},children:(0,a.jsx)("video",{ref:o,className:"whatmore-video-player",width:d,height:c,preload:"auto",loop:!0,playsInline:!0,muted:!0,autoPlay:!0,src:e.url,style:{backgroundColor:"white"}})})};var c=function(e){var t,n,c;const d=null!==(t=e.pauseFromPlayTimeInMs)&&void 0!==t?t:200;if((0,r.KE)())return(0,a.jsx)(s,{height:"100%",width:"100%",url:(0,o.V)(e.url),isPlaying:e.isPlaying,pauseFromPlayTimeInMs:d});const l=(0,i.useRef)(null),[u,h]=(0,i.useState)(!1),f=null!==(n=e.height)&&void 0!==n?n:"100%",p=null!==(c=e.width)&&void 0!==c?c:"100%";return(0,i.useEffect)((()=>{l.current&&(e.isPlaying?l.current.play():l.current.play().then((()=>{setTimeout((()=>{l.current.pause(),h(!0)}),d)})))}),[e.isPlaying,u]),(0,a.jsx)("div",{style:{width:f,height:p,overflow:"hidden"},children:(0,a.jsx)("video",{ref:l,className:"whatmore-video-player",width:p,height:f,preload:"auto",loop:!0,playsInline:!0,muted:!0,src:(0,o.V)(e.url),style:{backgroundColor:"white"}})})}},9263:function(e,t,n){n.d(t,{Z:function(){return k}});var i,o=n(3271),r=n(6336),a=n(7313),s=n(9821),c=n(7758),d=n(1868),l=n(9723),u=n(168),h=n(5098),f=n(686),p=n(9543),g=n(5180),m=n(5945),v=n(6417);const x=(0,f.F4)(i||(i=(0,u.Z)(["\n    0% { \n        opacity: 1;\n        transform: translateY(100%);\n    }\n    10%{\n        transform: translateY(0%);\n    }\n    12%{\n        transform: translateY(-5%);\n    }\n    20%{\n        transform: translateY(0%);\n    }\n"]))),w="\n    ".concat(x," ").concat(3,"s ease-in-out;\n");var j=function(e){var[t,n]=(0,s.Z)();const[i]=(0,p.j1)("whatmorePrimaryFont"),[r]=(0,p.j1)("whatmorePrimaryColor"),[c]=(0,p.j1)("whatmoreSecondaryColor"),[d,l]=(0,a.useState)(0),u=e.event,f=u.products.length;if(0==f)return(0,v.jsx)(v.Fragment,{});(0,a.useEffect)((()=>{const e=setInterval((()=>{l((e=>(e+1)%f))}),3e3);return()=>{clearInterval(e)}}),[]);const x=.3*n,j=x+"px",b=x+"px",y=.08*n+"px";return(0,v.jsx)(o.xu,{width:n+"px",height:"fit-content",bgGradient:"linear(to-b, transparent,  blackAlpha.500, blackAlpha.600, blackAlpha.700, blackAlpha.800)",children:(0,v.jsxs)(o.Kq,{direction:"row",width:"100%",height:"fit-content",justifyContent:"space-between",alignContent:"center",paddingX:"5px",paddingY:"5px",animation:w,children:[(0,v.jsx)(o.xu,{width:j,height:b,boxShadow:"dark-lg",borderRadius:"lg",overflow:"hidden",backgroundColor:"gray.100",children:(0,v.jsx)(h.Ee,{width:j,height:b,src:u.products[d].thumbnail_image,objectFit:"cover",fallback:(0,v.jsx)(g.Z,{width:"100%",height:"100%"}),borderRadius:"lg"})}),(0,v.jsx)(o.xu,{width:n-5-x+"px",height:b,borderRadius:"lg",overflow:"visible",children:(0,v.jsx)(o.Kq,{direction:"column",width:"100%",height:"100%",justifyContent:"center",alignContent:"flex-end",children:(0,v.jsx)(o.xv,{noOfLines:2,fontWeight:"normal",align:"left",sx:{fontFamily:i+" !important",color:"white !important",fontSize:y+" !important"},children:(0,m.s)(u.products[d].title)})})})]},d)})},b=n(4892),y=n(7129),C=n(6805),S=n(9854);function T(e){var t,[n,i]=(0,s.Z)();const[c]=(0,p.j1)("whatmoreShopId");var d=(0,a.useContext)(y.V);const u=e.event,h=null!==(t=e.unfocusedDisplay)&&void 0!==t&&t,f=.5*i;return(0,v.jsx)(o.xu,{style:{position:"relative",zIndex:1,bottom:"200%",overflow:"hidden"},width:"full",height:"full",borderRadius:"lg",overflow:"hidden",className:"whatmore-ios-css-fixes",backgroundColor:"transparent",children:(0,v.jsxs)(o.Kq,{direction:"column",height:"full",width:"full",justifyContent:"space-between",children:[(0,v.jsx)(r.Rg,{unmountOnExit:!0,in:!0,delay:1,children:(0,v.jsx)(o.xv,{children:"    "})}),d.showPlayButton&&!h?(0,v.jsx)(o.xu,{width:"100%",marginLeft:"5px",marginRight:"5px",style:{position:"relative",top:"10%",overflow:"hidden"},children:(0,v.jsx)(o.Kq,{direction:"row",justifyContent:"center",children:(0,v.jsx)(r.Rg,{unmountOnExit:!0,in:!0,delay:2,children:(0,v.jsx)(l.Z,{sx:{color:"#F5F5F5 !important",opacity:.8,fontSize:f,filter:"drop-shadow(0 0 15px black);"}})})})}):(0,v.jsx)(v.Fragment,{}),(0,S.PW)(c)?(0,v.jsx)(r.Rg,{unmountOnExit:!0,in:!0,delay:1,children:(0,v.jsx)(r.Rg,{unmountOnExit:!0,in:!0,delay:1,children:(0,v.jsx)(j,{event:u})})}):(0,v.jsx)(o.xu,{height:"20px"})]})})}function I(e){var[t,n]=(0,s.Z)();const[i]=(0,p.j1)("whatmorePrimaryFont"),r=e.event;return r.title.trim().length?(0,v.jsx)(o.xu,{w:"100%",borderRadius:"lg",bgGradient:"linear(to-b, transparent,  blackAlpha.500, blackAlpha.600, blackAlpha.700, blackAlpha.800)",children:(0,v.jsx)(o.Kq,{direction:"column",width:"full",height:"full",justifyContent:"flex-end",alignContent:"center",children:(0,v.jsx)(o.xu,{width:"full",borderRadius:"lg",padding:"2px",children:(0,v.jsxs)(o.Kq,{direction:"column",justifyContent:"space-between",alignContent:"flex-start",marginLeft:"5px",marginRight:"5px",marginBottom:"2px",children:[(0,v.jsx)(o.xv,{color:"white",fontSize:.08*n+"px",fontWeight:"normal",align:"left",children:"         "}),(0,v.jsx)(o.xv,{fontSize:.08*n+"px",fontWeight:"normal",align:"left",sx:{fontFamily:i+" !important",color:"white !important"},children:r.title.substring(0,60)})]})})})}):(0,v.jsx)(v.Fragment,{})}function _(e){const[t,n,i,a,d]=(0,s.Z)(),[l]=(0,p.j1)("whatmoreShowViews"),u=e.event,h=e.isOnFocus;return(0,v.jsx)(o.xu,{style:{position:"relative",zIndex:1,bottom:"100%",overflow:"hidden"},width:"full",height:"full",borderRadius:"lg",overflow:"hidden",className:"whatmore-ios-css-fixes",backgroundColor:"transparent",children:(0,v.jsxs)(o.Kq,{direction:"column",height:"full",width:"full",justifyContent:"space-between",children:[(0,v.jsx)(o.xu,{w:"100%",borderRadius:"lg",bgGradient:"linear(to-t, transparent, blackAlpha.200, blackAlpha.400, blackAlpha.600)",children:(0,v.jsx)(o.Kq,{direction:"column",justifyContent:"flex-start",children:"show"===l?(0,v.jsx)(o.xu,{width:"100%",marginLeft:"5px",marginRight:"5px",marginTop:"10px",children:(0,v.jsx)(o.Kq,{direction:"row",justifyContent:"space-between",children:(0,v.jsx)(c.Z,{event:u,fontSize:.07*n+"px"})})}):(0,v.jsx)(v.Fragment,{})})}),C.$w===d[C.YP]?(0,v.jsx)(v.Fragment,{}):h?(0,v.jsx)(r.Rg,{unmountOnExit:!0,in:!1,delay:1,children:(0,v.jsx)(I,{event:u})}):(0,v.jsx)(r.Rg,{unmountOnExit:!0,in:!0,delay:.5,children:(0,v.jsx)(I,{event:u})})]})})}var k=function(e){var t,n,i;const[r,c,l,u,h]=(0,s.Z)();var f=(0,a.useContext)(y.V);const p=e.event,g=e.onClick,m=null===(t=e.isOnFocus)||void 0===t||t,x=null!==(n=e.playOnUnfocus)&&void 0!==n&&n,w=null!==(i=e.animateOnFocus)&&void 0!==i&&i;return(0,v.jsxs)(o.xu,{animation:w?m?d.L:d.K:"none",marginTop:f.tileTopMargin,marginBottom:f.tileBottomMMargin,marginLeft:f.tileLeftMargin,marginRight:f.tileRightMargin,width:c,height:r,borderRadius:"lg",sx:{boxShadow:"0px 0px 10px 3px #B0B0B0"},overflow:"hidden",onClick:()=>{g(p)},cursor:"pointer",children:[(0,v.jsx)(b.Z,{height:"100%",width:"100%",url:p.thumbnail_image,isPlaying:m||x}),(0,v.jsxs)(o.xu,{width:c,height:r,children:[(0,v.jsx)(_,{event:p,isOnFocus:m}),m||C.$w===h[C.YP]?(0,v.jsx)(T,{event:p,unfocusedDisplay:!m}):null]})]})}},868:function(e,t,n){n.d(t,{V:function(){return o}});const i={"https://d3syezql093hs1.cloudfront.net":"https://whatmore-brand-video-assets.azureedge.net","https://d2r0bijhs9mx1s.cloudfront.net":"https://whatmore-brand-thumbnail-video-assets.azureedge.net","https://d2oouab8j9eigo.cloudfront.net":"https://whatmore-brand-story-assets.azureedge.net","https://d28nus7q7qajdn.cloudfront.net":"https://whatmore-video-assets.azureedge.net","https://d1qflh9ill7vje.cloudfront.net":"https://whatmore-plugin-assets.azureedge.net","https://d3o9roqe5p68r1.cloudfront.net":"https://whatmore-stage-plugin-assets.azureedge.net"},o=function(e){if(e.startsWith("https://cdn.shopify.com"))return e;if(e.includes(".azureedge.net"))return e;if(e.includes(".cloudfront.net")){for(const t of Object.keys(i))if(e.includes(t))return e.replace(t,i[t]);return e}return e}},6805:function(e,t,n){n.d(t,{$I:function(){return s},$w:function(){return d},AK:function(){return r},AL:function(){return a},YP:function(){return o},me:function(){return i},rE:function(){return c}});const i="device_type",o="device_mode",r="mobile",a="tablet",s="desktop",c="portrait",d="landscape"},6422:function(e,t,n){var i=n(7313),o=n(7371);const{useGlobalState:r}=(0,o.r)({muted:!1});t.Z=function(e){const[t,n]=r("muted");return(0,i.useEffect)((()=>{}),[]),[t,n]}},8866:function(e,t,n){var i=n(7313);function o(){return[window.innerHeight,window.innerWidth]}t.Z=function(e){var[t,n]=o();const[r,a]=(0,i.useState)(["portrait",t,n]);return(0,i.useLayoutEffect)((()=>{function e(){var[e,t]=o();a(e>t?["portrait",e,t]:["landscape",e,t])}return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),screen.orientation&&screen.orientation.addEventListener("change",e),e(),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),screen.orientation&&screen.orientation.removeEventListener("change",e)}}),[]),r}},9821:function(e,t,n){var i=n(6367),o=n(9543),r=n(8866),a=n(6805);t.Z=function(e){const[t,n,s]=(0,r.Z)(),[c]=(0,o.j1)("whatmoreLandscapePadding"),[d]=(0,o.j1)("whatmoreVideoTileSize"),l=(0,i.useMediaQuery)({query:"(min-width: 1025px)"}),u=(0,i.useMediaQuery)({query:"(min-width: 481px)"}),h=!("portrait"!=t||!u),f=d/100;var p=Math.min(s,n),[g,m,v,x]=[.6*p*(16/9),.6*p,1.4,0];function w(e){return Math.round(10*e)/10}var j={DEVICE_TYPE:a.AK,DEVICE_MODE:a.rE};if(l){const e=.5*m,t=.5*g;[g,m,v,x]=[t,e,(s-2*c)/(1.1*e),c],j[a.me]=a.$I,j[a.YP]=a.$w}else if(h){var b=.8*m,y=.8*g;"portrait"==t?(b*=f,y*=f,[g,m,v,x]=[y,b,w(s/(1.2*b)),0],j[a.me]=a.AL,j[a.YP]=a.rE):([g,m,v,x]=[y,b,(s-2*c)/(1.1*b),c],j[a.me]=a.AL,j[a.YP]=a.$w)}else{b=m,y=g;"portrait"==t?(b*=f,y*=f,[g,m,v,x]=[y,b,w(s/(1.2*b)),0],j[a.me]=a.AK,j[a.YP]=a.rE):(b=.7*m,y=.7*g,[g,m,v,x]=[y,b,(s-2*c)/(1.1*b),c],j[a.me]=a.AK,j[a.YP]=a.$w)}return[g,m,v,x,j]}},5160:function(e,t,n){n.d(t,{$L:function(){return s},JX:function(){return a},rp:function(){return c},wh:function(){return o},wz:function(){return r}});var i=n(2860);n(9543);function o(e){console.debug("updating user view count for event.");const t={event_id:e.event_id,increase_by:1};fetch(i.Gc+"/event/metrics/views",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>(console.debug("updating user view count response : HTTP "+e.status),e.json()))).then((e=>{console.debug("updating user view count response : "+JSON.stringify(e))})).catch((e=>{console.error("error updating user view count user for event : ",e)}))}function r(e,t){console.debug("updating event-product click count for event {} and product {}.",e.event_id,t.product_id);const n={event_id:e.event_id,product_id:t.product_id,increase_by:1};fetch(i.Gc+"/event/metrics/clicks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>(console.debug("updating user event-product click count response : HTTP "+e.status),e.json()))).then((e=>{console.debug("updating user event-product click count response : "+JSON.stringify(e))})).catch((t=>{console.error("error updating user event-product click count for event {} : ",e.event_id,t)}))}function a(e,t,n){console.debug("updating event-product add to cart count for event {} and product {}.",e.event_id,t.product_id);const o={event_id:e.event_id,product_id:t.product_id,increase_by:n};fetch(i.Gc+"/event/metrics/add_to_cart",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>(console.debug("updating user event-product add to cart count response : HTTP "+e.status),e.json()))).then((e=>{console.debug("updating user event-product add to cart count response : "+JSON.stringify(e))})).catch((t=>{console.error("error updating user event-product add to cart count for event {} : ",e.event_id,t)}))}function s(e,t){console.debug("updating event-product buy now count for event {} and product {}.",e.event_id,t.product_id);const n={event_id:e.event_id,product_id:t.product_id,increase_by:1};fetch(i.Gc+"/event/metrics/buy_now",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>(console.debug("updating user event-product buy now count response : HTTP "+e.status),e.json()))).then((e=>{console.debug("updating user event-product buy now count response : "+JSON.stringify(e))})).catch((t=>{console.error("error updating user event-product buy now count for event {} : ",e.event_id,t)}))}async function c(){let{storeId:e="",eventId:t=0,productId:n="",variantId:o="",cartToken:r="",checkoutToken:a="",quantity:s=0,price:c="",actionType:d="",trackingId:l=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={event_id:t,product_id:n,cart_token:r,checkout_token:a,quantity:s,price:c,variant_id:o,action_type:d,tracking_id:l};console.debug("initiating ATC metadata event for eventId {}, productId {}, variantId {} ",t,n,o);const h=await fetch(i.Gc+"/cart-metadata/"+e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(u)}).then((e=>(console.debug("initiating ATC metadata event for eventId {}, productId {}, variantId {} : HTTP "+e.status),e.json()))).catch((e=>{console.error("error initiating ATC metadata event for eventId {}, productId {}, variantId {} : ",t,n,o)}));return h}},4669:function(e,t,n){n.d(t,{Tc:function(){return l},ll:function(){return d}});var i=n(1824),o=n(9854);n(9543);const r="Whatmore Video Shopping",a="Video View",s={carousel:"Carousel",stories:"Stories",video_popup:"Video Popup"},c={homepage:"Home Page",product_page:"Product Page"};async function d(e){null!==(0,o.BH)(e)&&i.ZP.initialize((0,o.BH)(e),{useExistingGa:!0})}async function l(e,t,n){null!==(0,o.BH)(e)&&(i.ZP.event({category:r,action:a,label:c[t]+":"+s[n]}),console.debug("pushed view event to GA"))}},237:function(e,t,n){var i=n(5318);t.Z=void 0;var o=i(n(5045)),r=n(6417),a=(0,o.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=a},123:function(){},7244:function(){},6143:function(){},3933:function(e,t,n){n.d(t,{YD:function(){return u}});var i=n(7313);const o=new Map,r=new WeakMap;let a,s=0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(n=e.root)?(r.has(n)||(s+=1,r.set(n,s.toString())),r.get(n)):"0":e[t]);var n})).toString()}function d(e){let t=c(e),n=o.get(t);if(!n){const i=new Map;let r;const a=new IntersectionObserver((t=>{t.forEach((t=>{var n;const o=t.isIntersecting&&r.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((e=>{e(o,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},o.set(t,n)}return n}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;if("undefined"===typeof window.IntersectionObserver&&void 0!==i){const o=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:r,observer:s,elements:c}=d(n);let l=c.get(e)||[];return c.has(e)||c.set(e,l),l.push(t),s.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(c.delete(e),s.unobserve(e)),0===c.size&&(s.disconnect(),o.delete(r))}}i.Component;function u(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:r,triggerOnce:a,skip:s,initialInView:c,fallbackInView:d,onChange:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[f,p]=i.useState(null),g=i.useRef(),[m,v]=i.useState({inView:!!c,entry:void 0});g.current=u,i.useEffect((()=>{if(s||!f)return;let i;return i=l(f,((e,t)=>{v({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&a&&i&&(i(),i=void 0)}),{root:r,rootMargin:o,threshold:e,trackVisibility:n,delay:t},d),()=>{i&&i()}}),[Array.isArray(e)?e.toString():e,f,r,o,a,s,n,d,t]);const x=null==(h=m.entry)?void 0:h.target;i.useEffect((()=>{f||!x||a||s||v({inView:!!c,entry:void 0})}),[f,x,a,s,c]);const w=[p,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}}}]);