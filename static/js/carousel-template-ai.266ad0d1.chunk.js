/*! For license information please see carousel-template-ai.266ad0d1.chunk.js.LICENSE.txt */
(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[151],{22:function(e,t,r){"use strict";r.d(t,{$S:function(){return s},_:function(){return i},b4:function(){return n},dl:function(){return o},nN:function(){return c},tn:function(){return l},vF:function(){return a}});const i="device_type",o="device_mode",n="mobile",a="tablet",s="desktop",l="portrait",c="landscape"},932:function(e,t,r){"use strict";var i=r(5830),o=r(1941),n=r(22),a=r(1348);t.A=function(e){const[t,r,s]=(0,o.A)(),[l]=(0,i.QN)("whatmoreLandscapePadding"),[c]=(0,i.QN)("whatmoreShopId"),[d]=(0,i.QN)("whatmoreVideoTileSize"),[u]=(0,i.QN)("whatmoreVideoTileSizePortrait"),p=s>r,m="portrait"==t?u:d,h=!("portrait"!=t||!(s>=481)),v=m/100*1.3*.5,f=m/100;var w=Math.min(s,r),[S,C,g,x]=[.6*w*(16/9),.6*w,1.4,0];function N(e){return Math.round(10*e)/10}var y={DEVICE_TYPE:n.b4,DEVICE_MODE:n.tn};if(p){const e=C*v,t=S*v;[S,C,g,x]=[t,e,(s-2*l-2*(0,a.$du)(c))/(1.1*e),l],y[n._]=n.$S,y[n.dl]=n.nN}else if(h){var R=.8*C,D=.8*S;"portrait"==t?(R*=f,D*=f,[S,C,g,x]=[D,R,N(s/(1.2*R)),0],y[n._]=n.vF,y[n.dl]=n.tn):([S,C,g,x]=[D,R,(s-2*l)/(1.1*R),l],y[n._]=n.vF,y[n.dl]=n.nN)}else{R=C,D=S;"portrait"==t?(R=R*f*.9,D=D*f*.9,[S,C,g,x]=[D,R,N(s/(1.15*R)),0],y[n._]=n.b4,y[n.dl]=n.tn):(R=.7*C,D=.7*S,[S,C,g,x]=[D,R,(s-2*l)/(1.1*R),l],y[n._]=n.b4,y[n.dl]=n.nN)}return[S,C,g,x,y]}},2173:function(e,t,r){const i=r(8558);e.exports=function(e){if("string"!==typeof e)return;const t=e.toUpperCase();return Object.prototype.hasOwnProperty.call(i,t)?i[t]:void 0},e.exports.currencySymbolMap=i},7136:function(e,t,r){"use strict";var i=r(9950),o=r(932),n=r(7509),a=r(5830),s=r(4414);t.A=function(e){var[t,r]=(0,o.A)();(0,i.useContext)(n.h);const l=(0,a.Xd)("whatmoreShopId");return e.event,(0,s.jsx)("div",{style:{margin:"0 auto",width:"8968077397"==l?void 0:r,aspectRatio:"8968077397"==l?9/16:void 0,height:"8968077397"==l?"100%":t,overflow:"hidden"}})}},7509:function(e,t,r){"use strict";r.d(t,{h:function(){return i}});const i=(0,r(9950).createContext)({tileTopMargin:10,tileBottomMMargin:10,tileLeftMargin:10,tileRightMargin:10,showPlayButton:!0})},8558:function(e){e.exports={AED:"\u062f.\u0625",AFN:"\u060b",ALL:"L",AMD:"\u058f",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20bc",BAM:"KM",BBD:"$",BDT:"\u09f3",BGN:"\u043b\u0432",BHD:".\u062f.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"\u20bf",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNH:"\xa5",CNY:"\xa5",COP:"$",COU:"COU",CRC:"\u20a1",CUC:"$",CUP:"\u20b1",CVE:"$",CZK:"K\u010d",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062f\u062c",EEK:"kr",EGP:"\xa3",ERN:"Nfk",ETB:"Br",ETH:"\u039e",EUR:"\u20ac",FJD:"$",FKP:"\xa3",GBP:"\xa3",GEL:"\u20be",GGP:"\xa3",GHC:"\u20b5",GHS:"GH\u20b5",GIP:"\xa3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",IMP:"\xa3",INR:"\u20b9",IQD:"\u0639.\u062f",IRR:"\ufdfc",ISK:"kr",JEP:"\xa3",JMD:"J$",JOD:"JD",JPY:"\xa5",KES:"KSh",KGS:"\u043b\u0432",KHR:"\u17db",KMF:"CF",KPW:"\u20a9",KRW:"\u20a9",KWD:"KD",KYD:"$",KZT:"\u20b8",LAK:"\u20ad",LBP:"\xa3",LKR:"\u20a8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043d",MMK:"K",MNT:"\u20ae",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"\u20a8",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20a6",NIO:"C$",NOK:"kr",NPR:"\u20a8",NZD:"$",OMR:"\ufdfc",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20b1",PKR:"\u20a8",PLN:"z\u0142",PYG:"Gs",QAR:"\ufdfc",RMB:"\uffe5",RON:"lei",RSD:"\u0414\u0438\u043d.",RUB:"\u20bd",RWF:"R\u20a3",SAR:"\ufdfc",SBD:"$",SCR:"\u20a8",SDG:"\u062c.\u0633.",SEK:"kr",SGD:"S$",SHP:"\xa3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xa3",STD:"Db",STN:"Db",SVC:"$",SYP:"\xa3",SZL:"E",THB:"\u0e3f",TJS:"SM",TMT:"T",TND:"\u062f.\u062a",TOP:"T$",TRL:"\u20a4",TRY:"\u20ba",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20b4",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"\u043b\u0432",VEF:"Bs",VES:"Bs.S",VND:"\u20ab",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20a3",XSU:"Sucre",XUA:"XUA",YER:"\ufdfc",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},9112:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var i=r(9950),o=r(340),n=r(5089),a=r(5873),s=r(572),l=r(8603),c=r(9946),d=r(9094),u=(r(9130),r(932)),p=r(1941),m=r(5491),h=r.n(m),v=r(5830),f=r(7509),w=r(7136),S=r(1348),C=r(5551),g=r(1351),x=r(6157),N=(r(6641),r(9879)),y=r(22),R=r(6594),D=r(8149),M=r(7740),_=r(4414);var A=function(e){var t,r,o,n,a,s,l,c,d,p,m,h,f,w,C;const[g,x,A,T,P]=(0,u.A)(),B=1*x,b=1*g,U=((0,v.Xd)("whatmoreUITheme"),(0,v.Xd)("whatmoreShopId")),j="portrait"===P[y.dl],E=j?(0,S.HWj)(U):(0,S.N_4)(U),F=x*(j?1.15:1.05)*E+"px",$=x*(j?1.2:1.1)*E+"px",I=x*(j?.9:.8)*E+"px",L=x*(j?.8:.7)*E+"px",O=(0,v.Xd)("whatmorePrimaryFont"),K=(0,v.Xd)("whatmoreSecondaryColor"),k=e.onClick,G=null===(t=e.isOnFocus)||void 0===t||t,H=null!==(r=e.playOnUnfocus)&&void 0!==r&&r,[V,W]=(0,i.useState)(e.event),[X,Y]=(0,i.useState)(),[z,Z]=(0,i.useState)(!1),Q=null!==(o=null===(n=V.products)||void 0===n?void 0:n.find(e=>"active"==e.product_status))&&void 0!==o?o:null===(a=V.products)||void 0===a?void 0:a[0],J=Math.round(+(null===Q||void 0===Q?void 0:Q.price)),q=Math.round(+(null===Q||void 0===Q?void 0:Q.compare_price)),ee=q&&0!=q&&q>J?Math.round((q-J)/q*100):NaN,[te,re]=(0,i.useState)(ee),[ie,oe]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{(0,S.w4b)(U)?(0,R.fu)(V,(0,S.NCy)(U),U).then(e=>{var t,r,i;W(e);const o=Math.round(null===(t=e.products)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.price),n=Math.round(null===e||void 0===e||null===(i=e.products[0])||void 0===i?void 0:i.compare_price),a=n&&0!=n&&n>o?Math.round((n-o)/n*100):NaN;re(a),oe(!0)}).catch(e=>{console.warn("Whatmore AI Template: Failed to enrich event with price data, using fallback",e),oe(!0)}):(async()=>{try{const e=await(0,D.M)(Q,(0,S.NCy)(U),U);Y(e),oe(!0)}catch(e){console.warn("Whatmore AI Template: Failed to fetch product details, using fallback data",e),oe(!0)}})()},[]),(0,i.useEffect)(()=>{var t;if(null!==(t=e.tileRef)&&void 0!==t&&t.current){const t=e.tileRef.current;t.style.setProperty("--wtmr-font-family",O),t.style.setProperty("--wtmr-discount-badge-bg",K)}},[O,K,e.tileRef]),(0,_.jsxs)("div",{ref:e.tileRef,className:"wtmr-carousel-tile",style:{maxWidth:B},onClick:()=>k(V),children:[(0,_.jsxs)("div",{className:"wtmr-carousel-tile__video-container",style:{maxHeight:b},children:[(0,_.jsx)(N.A,{className:"wtmr-carousel-tile__video",height:(0,S.u06)(U)+" !important",width:"100%",url:V.thumbnail_image,isPlaying:G||H,event:V}),Q&&(0,_.jsx)("div",{className:"wtmr-carousel-tile__add-to-cart-overlay",onClick:e=>e.stopPropagation(),children:(0,_.jsx)("span",{className:"wtmr-carousel-tile__add-to-cart-label",children:"ADD TO CART"})})]}),Q&&(0,_.jsxs)("div",{className:"wtmr-carousel-tile__product-details-container",children:[(0,_.jsxs)("div",{className:"wtmr-carousel-tile__product-information-section",children:[(null===Q||void 0===Q?void 0:Q.thumbnail_image)&&(0,_.jsx)("div",{className:"wtmr-carousel-tile__product-image-container",children:(0,_.jsx)("img",{className:"wtmr-carousel-tile__product-image "+(z?"wtmr-carousel-tile__product-image--loaded":""),src:(null===Q||void 0===Q||null===(s=Q.thumbnail_image)||void 0===s||null===(l=s.split("?"))||void 0===l?void 0:l[0])+"?width=400&height=400",alt:"thumbnail",onLoad:()=>Z(!0)})}),(0,_.jsxs)("div",{className:"wtmr-carousel-tile__product-text-container",children:[(null===Q||void 0===Q?void 0:Q.product_type)&&(0,_.jsx)("span",{className:"wtmr-carousel-tile__product-category-label",style:{"--category-font-size":I},children:null===Q||void 0===Q?void 0:Q.product_type}),(null===Q||void 0===Q?void 0:Q.title)&&(0,_.jsx)("h3",{className:"wtmr-carousel-tile__product-name",style:{"--name-font-size":F},children:null===Q||void 0===Q?void 0:Q.title})]})]}),ie&&(0,_.jsxs)("div",{className:"wtmr-carousel-tile__product-pricing-section",children:[(0,_.jsx)("span",{className:"wtmr-carousel-tile__price-selling",style:{"--price-font-size":$},children:(0,R.Sb)(parseFloat((0,M.U)()?(null!==(c=null===X||void 0===X||null===(d=X.variants)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.price)&&void 0!==c?c:null===X||void 0===X?void 0:X.price)/100:null===Q||void 0===Q?void 0:Q.price)," ",U,null===(m=V.products[0])||void 0===m?void 0:m.currency)}),!isNaN(q)&&q>J&&(0,_.jsx)("span",{className:"wtmr-carousel-tile__price-original",style:{"--price-font-size":$},children:(0,R.Sb)(parseFloat((0,M.U)()?(null!==(h=null===X||void 0===X||null===(f=X.variants)||void 0===f||null===(w=f[0])||void 0===w?void 0:w.compare_at_price)&&void 0!==h?h:null===X||void 0===X?void 0:X.compare_at_price)/100:null===Q||void 0===Q?void 0:Q.compare_price)," ",U,null===(C=V.products[0])||void 0===C?void 0:C.currency)}),!isNaN(te)&&0!=te&&(0,_.jsx)("div",{className:"wtmr-carousel-tile__discount-percentage-badge",children:(0,_.jsxs)("span",{className:"wtmr-carousel-tile__discount-percentage-value",style:{"--discount-font-size":L},children:[te,"%"]})})]})]})]})};const T=(0,l.A)({key:"whatmore-css-ai"});function P(e){const[t,r,o]=(0,u.A)(),[n,a,s]=(0,p.A)(),l=(0,v.Xd)("whatmoreShopId"),m=e.events,h=e.onClick,f=o*(0,S.kcl)(l),N=(0,S.cbh)(l),[y,R]=(0,i.useState)(N?m.length:f),{whatmoreWidgetSourceDetails:D}=(0,i.useContext)(C.B);return(0,i.useEffect)(()=>{y<=f&&R(e=>e+f)},[f]),(0,_.jsx)("div",{className:"wtmr-carousel-container-portrait whatmore-events-carousel-portrait ai-carousel-portrait",style:{width:s-48,zIndex:1},children:(0,_.jsx)(c.RC,{slidesPerView:m.length>1?f:1,initialSlide:m.length>1?1:0,centeredSlides:!0,centeredSlidesBounds:!1,watchSlidesProgress:!0,modules:[d.U1],spaceBetween:12,freeMode:{enabled:!0,sticky:!1,momentum:!0,momentumRatio:.7,momentumBounce:!1,momentumVelocityRatio:.9},touchRatio:1.2,simulateTouch:!0,allowTouchMove:!0,grabCursor:!0,resistance:!0,resistanceRatio:.75,speed:400,onSlideChange:e=>{(0,g.UM)({userInteractionType:x.O.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:D}),e.realIndex>e.previousIndex&&R(e=>e+f)},loop:N,style:{paddingTop:"8px",paddingBottom:"8px"},children:m.map((e,t)=>t<=y&&(0,_.jsx)(c.qr,{children:({isActive:t,isPrev:r,isNext:i,isVisible:o})=>r||i||t?(0,_.jsx)("div",{className:"wm-carousel__slide-wrapper "+(t?"wtmr-carousel__slide-wrapper--active":"wtmr-carousel__slide-wrapper--inactive"),children:(0,_.jsx)(A,{isOnFocus:t&&o,playOnUnfocus:!1,event:e,onClick:()=>{h(e)}})}):(0,_.jsx)(w.A,{})},"whatmore-event-tile-ai-portrait-"+e.index))})})}function B(e){const[t,r,o,n]=(0,u.A)(),[a,s,l]=(0,p.A)(),[m,f]=(0,i.useState)(-1),N=(0,v.Xd)("whatmoreShopId"),y=e.onClick,R=e.events,D=(0,S.cbh)(N),[M,T]=(0,i.useState)(D?R.length:o),P=Math.min(o,R.length),{whatmoreWidgetSourceDetails:B}=(0,i.useContext)(C.B),b=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(b.current){const e=r*P*(0,S.fHt)(N)+"px";R.length<4?b.current.style.setProperty("width",e,"important"):b.current.style.width=e}},[r,P,N,M,R.length]),(0,i.useEffect)(()=>{M<=o&&T(e=>e+o)},[o]),(0,_.jsx)("div",{className:"wtmr-carousel-container-landscape whatmore-events-carousel-landscape ai-carousel-landscape",style:{width:l,paddingLeft:n+"px",paddingRight:n+"px"},children:(0,_.jsx)("div",{ref:b,style:{zIndex:1},children:(0,_.jsx)(c.RC,{slidesPerView:P,watchSlidesProgress:!0,modules:[d.FJ,d.U1],freeMode:{enabled:!0,sticky:!1,momentum:!0,momentumRatio:.5,momentumBounce:!1,momentumVelocityRatio:.7},onSlideChange:e=>{(0,g.UM)({userInteractionType:x.O.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:B}),e.realIndex>e.previousIndex&&T(e=>e+o)},spaceBetween:0,loop:!1,touchRatio:1,simulateTouch:!0,allowTouchMove:!0,grabCursor:!0,resistance:!0,resistanceRatio:.75,speed:500,mousewheel:{forceToAxis:!0,sensitivity:.6,releaseOnEdges:!0,invert:!1},children:R.map((e,t)=>{const r=h()(()=>f(t),50);return t<=M&&(0,_.jsx)(c.qr,{onMouseEnter:()=>{r()},onMouseLeave:()=>{r.cancel(),f(-1)},style:{height:"100%"},children:({isActive:r,isPrev:i,isNext:o,isVisible:n})=>n||i||o?(0,_.jsx)("div",{style:{height:"100%",transform:t===m?"translate3d(0, -1px, 0)":"translate3d(0, 0, 0)",transition:"transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.3s ease-out, opacity 0.3s ease-out",filter:t===m?"brightness(1.02)":"none",opacity:t===m?1:.98,willChange:"transform, filter, opacity"},children:(0,_.jsx)(A,{isOnFocus:t==m,playOnUnfocus:!(0,S.aO7)(N)||t==parseInt(P/2)&&-1==m,event:e,onClick:()=>{y(e)}})}):(0,_.jsx)(w.A,{})},"wht-event-tile-ai-landscape-"+e.index)})})})})}var b=function(e){const[t,r,l]=(0,p.A)(),[c]=(0,v.QN)("whatmoreShopId"),[d]=(0,v.QN)("whatmorePrimaryColor"),[u]=(0,v.QN)("whatmoreTitleFont"),m="portrait"==t?(0,v.Xd)("whatmoreTitleFontSizePortrait"):(0,v.Xd)("whatmoreTitleFontSize"),{whatmoreRootId:h}=(0,i.useContext)(C.B),{whatmoreCollectionHeading:w}=(0,i.useContext)(C.B),{whatmoreIsCollectionsTemplate:S}=(0,i.useContext)(C.B),g=e.events,x=e.onClick,N=u,y=(0,i.useRef)(null);function R(e){x(e)}return(0,i.useEffect)(()=>{a.Sn.forEach(e=>{var t;const r=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-ai"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-ai"]');if(!r)return;r&&e&&(e.style.minHeight="0px")})},[]),(0,i.useEffect)(()=>{if(y.current){const e=y.current;e.style.setProperty("--wtmr-font-family",N),e.setAttribute("data-mode",t)}},[N,t]),delete n.Ay.styles.global,(0,_.jsx)(s.C,{value:T,children:(0,_.jsx)("div",{ref:y,className:"wtmr-carousel whatmore-carousel-events ai-carousel-container",style:{height:"100%",background:"transparent",position:"relative"},children:(0,_.jsx)(o.s,{theme:n.Ay,cssVarsRoot:h,resetCSS:!1,children:(0,_.jsxs)(f.h.Provider,{value:{tileTopMargin:8,tileBottomMMargin:8,tileLeftMargin:2,tileRightMargin:2,showPlayButton:!0},children:[console.log("test",e.heading.trim())&&(e.heading.trim().length>0||S)&&(0,_.jsx)("div",{className:"wtmr-carousel-header",children:(0,_.jsx)("h2",{className:"wtmr-carousel-title",style:{fontSize:m+"px"},children:S?"W"!==w?w:"":e.heading})}),"landscape"===t?(0,_.jsx)(B,{events:g,onClick:R}):(0,_.jsx)(P,{events:g,onClick:R})]})})})})}},9211:function(e,t,r){"use strict";function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}r.d(t,{A:function(){return o}});var o=function e(t,r){function o(e,o,n){if("undefined"!==typeof document){"number"===typeof(n=i({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in n)n[s]&&(a+="; "+s,!0!==n[s]&&(a+="="+n[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],i={},o=0;o<r.length;o++){var n=r[o].split("="),a=n.slice(1).join("=");try{var s=decodeURIComponent(n[0]);if(i[s]=t.read(a,s),e===s)break}catch(l){}}return e?i[e]:i}},remove:function(e,t){o(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);