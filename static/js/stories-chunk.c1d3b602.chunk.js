"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[296],{73580:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var o=r(47313),i=r(78866),n=r(99543),l=(r(99111),r(70123),r(19778),r(49854)),a=r(80868),s=r(46417);var p=function(t){var e,r;const[p,c,x]=(0,i.Z)(),h=(0,n.MO)("whatmorePrimaryFont"),d=(0,n.MO)("whatmoreSecondaryColor"),f=(0,n.MO)("whatmoreShopId"),[m,u]=(0,o.useState)(!1),w=t.storyId,y=(0,a.V)(t.imageUrl),g=t.title,j=t.onClick,b=t.template,v=(0,l.f63)(f),S="template-stories-a"===b?"50%":"30%",k="portrait"==p?1:(0,l.Zyc)(f),C=Math.floor(t.tileSize*k),F=.12*C*(0,l.LM2)(f),z=null!==(e=(0,l.QaQ)(f))&&void 0!==e?e:h,M=null!==(r=(0,l.u2W)(f))&&void 0!==r?r:[d,v,d,v,d];return(0,s.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center",flexShrink:0,height:"fit-content",width:C*(0,l.jJ6)(f)+"px",marginLeft:"10px",marginRight:"10px",marginTop:"10px",marginBottom:"10px",cursor:"pointer"},onClick:()=>{u(!0),j(w)},className:[m?"whatmore-scale-on-tap":""].join(" "),children:[(0,s.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"fit-content",borderRadius:S,boxShadow:"0px 2px 1px 0px "+M[0]+"50, 0px -2px 1px 0px "+M[1]+"50, 2px 0px 1px 0px "+M[2]+"50, -2px 0px 1px 0px "+M[3]+"80, 2px -2px 1px 0px "+M[4]+"80, -2px 2px 1px 0px "+M[0]+"DA, 2px 2px 1px 0px "+M[1]+"DA, -2px -2px 1px 0px "+M[2]+"DA"},children:(0,s.jsx)("div",{className:"whatmore-story-thumbnail-wrapper",style:{flexShrink:0,objectFit:"cover",height:C+"px",width:C+"px",borderRadius:S,border:"3px solid white",backgroundColor:"#343434"===d?"#d3d3d3":d,overflow:"hidden"},children:(0,s.jsx)("img",{className:"whatmore-story-thumbnail",src:y,loading:"lazy",style:{objectFit:"cover",height:C+"px",width:C+"px",backgroundColor:"white"},alt:"story image"})})}),(0,s.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"100%",marginTop:"10px"},children:(0,s.jsx)("p",{ref:t=>{t&&t.style.setProperty("font-size",F+"px","important")},style:{textAlign:"center",color:(0,l.WS3)(f),fontFamily:z,fontWeight:"normal",lineHeight:"110%",margin:0,padding:0,overflow:"hidden",textOverflow:"ellipsis",width:"auto"},children:g.substring(0,24)})})]})},c=r(30364),x=r(86173);const h=(0,r(16826).Z)({key:"whatmore-stories-css"});var d=function(t){const[e,r,a]=(0,i.Z)(),[d]=(0,n.j1)("whatmoreLandscapePadding"),[f]=(0,n.j1)("whatmoreStoryTileSize"),[m]=(0,n.j1)("whatmoreStoryTileSizeDesktop"),[u]=(0,n.j1)("whatmoreShopId"),[w,y]=(0,o.useState)("portrait"===e?"flex-start":"center"),g=(0,o.useRef)(null);var j=t.eventsStories;const b=t.onClick,v=t.template;(0,o.useEffect)((()=>{c.$.forEach((t=>{var e;if(!(null!==(e=t.querySelector('.whatmore-template-type[data-wh="template-stories-a"]'))&&void 0!==e?e:t.querySelector('.whatmore-template-type[data="template-stories-a"]')))return;t&&(t.style.minHeight="0px")}))}),[]);const S=t=>{if(g.current){const e="left"===t?4*-k:4*k;g.current.scrollBy({left:e,behavior:"smooth"})}};(0,o.useEffect)((()=>{!function(){if(g.current){const t=g.current.scrollWidth,e=g.current.offsetWidth;y(t>e?"flex-start":"center")}}()}),[w,a]);const k="landscape"===e?r*(m/100)*.3:a*(f/100)*.5;return(0,s.jsx)(x.C,{value:h,children:"landscape"==e&&!(0,l.DF0)(u)||"portrait"==e&&!(0,l.JaA)(u)?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:w,height:"fit-content",width:"100%"},className:"whatmore-story-horizontal-flex",ref:g,children:j.map(((t,e)=>(0,s.jsx)(p,{storyId:t.id,tileSize:(0,l.OFP)(u)?100:k,onClick:t=>{b(e)},template:v,imageUrl:t.thumbnail_image,title:t.title},"whatmore-story-"+t.id)))}),"landscape"===e&&(0,l.sMW)(u)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>S("left"),style:{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, 0.4)",position:"absolute",top:"40%",transform:"translateY(-50%)",left:0},children:(0,s.jsx)("p",{style:{fontSize:"22px",color:"white",padding:"8px"},children:"<"})}),(0,s.jsx)("button",{onClick:()=>S("right"),style:{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, 0.4)",position:"absolute",top:"40%",transform:"translateY(-50%)",right:0},children:(0,s.jsx)("p",{style:{fontSize:"22px",color:"white",padding:"8px"},children:">"})})]})]})})}}}]);