"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[166,760],{1351:function(e,t,n){n.d(t,{Qj:function(){return c},kz:function(){return d},UM:function(){return h},yP:function(){return m},DG:function(){return u}});var i=n(1348),o=n(5830),a=n(6157);const r=[22302,25292,22303,24099,21448,118713,142787,33063,25291,25290,21447,21450,21452,21449,22301,34595,36295,22304,22300,21451,24098,24090,34283,34285,54204,54210,25286,34630,24096,54211,21453,22306,33071,54251,33080,33100,33076,34632,25293,34640,142791,142789,142851,142896,142879,142906,142907,152096,117191,117148,117223,117229,117261,117269,149242,149243,164450];function l(e,t,n={},l){const s=(0,o.Xd)("whatmoreShopId");(e!=a.O.EVENT_VIEW||(0,i.NFF)(s))&&(e!=a.O.VIDEO_PLAYBACK||(0,i.Eel)(s))&&(e!=a.O.SHOPNOW_ATC_CLICKED&&e!=a.O.PRODUCT_TILE_ATC_CLICKED||(0,i.T9r)(s))&&(e!=a.O.VIDEO_LIKED||(0,i.Mz3)(s))&&(e!=a.O.VIDEO_SHARE_CTA_CLICKED||(0,i.OLZ)(s))&&(e!=a.O.PRODUCT_TILE_SHOPNOW_CLICKED&&e!=a.O.SHOPNOW_CLICKED||(0,i.nEf)(s))&&"function"==typeof fbq&&(async()=>{fbq("trackCustom",c[e],{id:null===t||void 0===t?void 0:t.client_product_id,product_url:null===t||void 0===t?void 0:t.product_link,...e===a.O.VIDEO_PLAYBACK?{watch_time:n.watch_time,video_duration:n.video_duration}:{}}),"20157815"==s&&e==a.O.EVENT_VIEW&&r.includes(null===l||void 0===l?void 0:l.event_id)&&fbq("trackCustom","whatmore_video_view_collection_necklace",{id:null===t||void 0===t?void 0:t.client_product_id,product_url:null===t||void 0===t?void 0:t.product_link})})()}var s=n(7145);const c={[a.O.EVENT_VIEW]:"whatmore_video_click_event",[a.O.VIDEO_LIKED]:"whatmore_video_like_event",[a.O.VIDEO_SHARE_CTA_CLICKED]:"whatmore_video_share_event",[a.O.PRODUCT_TILE_ATC_CLICKED]:"whatmore_video_atc_event",[a.O.SHOPNOW_ATC_CLICKED]:"whatmore_video_atc_event",[a.O.SHOPNOW_CLICKED]:"whatmore_product_tile_click_event",[a.O.PRODUCT_TILE_SHOPNOW_CLICKED]:"whatmore_product_tile_click_event",[a.O.VIDEO_PLAYBACK]:"whatmore_video_watch_event"};function d({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a}){var r;(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a}),e in c&&l(e,null!==(r=null===o||void 0===o?void 0:o[1])&&void 0!==r?r:null===o||void 0===o?void 0:o[0],t,i)}function u({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a}){var r;(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a}),e in c&&l(e,null!==(r=null===o||void 0===o?void 0:o[1])&&void 0!==r?r:null===o||void 0===o?void 0:o[0],t,i)}function h({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a}){(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a})}function m({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a}){(0,s.B)({userInteractionType:e,userInteractionMetadata:t,widgetSourceDetails:n,event:i,productList:o,ctaList:a})}},5100:function(e,t,n){var i=n(9950),o=n(1941),a=n(5830),r=n(4414);const l=i.memo((()=>{const e=(0,a.Xd)("isLandingSharedLink"),[t]=(0,o.A)();return e?(0,r.jsxs)("div",{className:`shimmer-container ${t}`,children:["portrait"===t?(0,r.jsx)("div",{className:"shimmer-item portrait-full",children:(0,r.jsx)("div",{className:"shimmer-effect"})}):Array(3).fill().map(((e,t)=>(0,r.jsx)("div",{className:"shimmer-item landscape-item "+(1===t?"center-item":""),children:(0,r.jsx)("div",{className:"shimmer-effect"})},t))),(0,r.jsx)("style",{children:"\n                    .shimmer-container {\n                        display: flex;\n                        position: fixed;\n                        top: 0;\n                        left: 0;\n                        width: 100vw;\n                        height: 100vh;\n                        overflow-x: scroll;\n                        scroll-snap-type: x mandatory;\n                        scroll-behavior: smooth;\n                        z-index: 1000;\n                    }\n\n                    .portrait {\n                        justify-content: center;\n                        align-items: center;\n                        background: rgba(0, 0, 0, 0.6);\n                    }\n\n                    .landscape {\n                        justify-content: center;\n                        align-items: center;\n                        background: rgba(0, 0, 0, 0.8);\n                    }\n\n                    .shimmer-item {\n                        scroll-snap-align: start;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        position: relative;\n                        transition: transform 0.3s ease;\n                    }\n\n                    .portrait-full {\n                        width: 100vw;\n                        height: 100vh;\n                        margin: 0; \n                    }\n\n                    .landscape-item {\n                        width: 250px;\n                        height: 450px;\n                        background: #D3D3D3;\n                        border-radius: 8px;\n                        margin-left: -50px; \n                    }\n\n                    .center-item {\n                        width: 360px;\n                        height: 620px;\n                        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.5); \n                        z-index: 10; \n                    }\n\n                    .shimmer-effect {\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        width: 100%;\n                        height: 100%;\n                        background: linear-gradient(90deg, rgba(0, 0, 0, 0.3) 25%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.3) 75%);\n                        animation: shimmer 2s infinite;\n                        background-size: 200% 100%;\n                    }\n\n                    @keyframes shimmer {\n                        0% {\n                            background-position: -200% 0;\n                        }\n                        100% {\n                            background-position: 200% 0;\n                        }\n                    }\n                "})]}):(0,r.jsx)(r.Fragment,{})}));t.A=l},8289:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var i=n(5830),o=n(9950),a=n(964),r=n(140),l=n(1348),s=n(4533),c=n(6613),d=n(1085),u=n(3330),h=n(852),m=n(4737),p=n(2039),v=n(4833),g=n(2979),_=n(6157),S=n(5100),w=n(8945),y=n(9821),f=(n(3080),n(3568)),I=n(4414);const E=o.lazy((()=>n.e(665).then(n.bind(n,8582)))),x=o.lazy((()=>Promise.all([n.e(620),n.e(116)]).then(n.bind(n,7144)))),O=o.lazy((()=>Promise.all([n.e(257),n.e(794),n.e(423)]).then(n.bind(n,517)))),T=o.lazy((()=>Promise.all([n.e(257),n.e(794),n.e(412)]).then(n.bind(n,7646)))),C=o.lazy((()=>Promise.all([n.e(257),n.e(794),n.e(221)]).then(n.bind(n,5451)))),j=o.lazy((()=>n.e(491).then(n.bind(n,3319)))),L=o.lazy((()=>Promise.all([n.e(832),n.e(620),n.e(474)]).then(n.bind(n,6945)))),D=o.lazy((()=>n.e(485).then(n.bind(n,9418)))),b=o.lazy((()=>n.e(676).then(n.bind(n,3369)))),q=o.lazy((()=>Promise.all([n.e(832),n.e(891)]).then(n.bind(n,7178)))),N=o.lazy((()=>Promise.all([n.e(832),n.e(306)]).then(n.bind(n,9406)))),k=o.lazy((()=>n.e(933).then(n.bind(n,6989)))),W=o.lazy((()=>n.e(806).then(n.bind(n,3278)))),P=o.lazy((()=>Promise.all([n.e(257),n.e(1)]).then(n.bind(n,4596))));var A=function(e){var t,n;const[A]=(0,i.QN)("isInDesignMode"),[R]=(0,i.QN)("isDemoBrand"),[F]=(0,i.QN)("whatmoreTopBottomPadding"),[M]=(0,i.QN)("whatmoreStoriesTopBottomPadding"),{whatmoreIsStoriesTemplate:V,whatmoreIsCollectionsTemplate:$}=(0,o.useContext)(m.BR),[B]=(0,i.QN)("whatmoreShopId"),[G]=(0,i.QN)("whatmoreLandingLocationType"),{whatmoreEventsBrowsingTemplate:z}=(0,o.useContext)(m.BR),K=(0,i.Xd)("isLandingSharedLink"),H=(0,i.Xd)("whatmoreShareTemplateId"),J=(0,i.Xd)("whatmoreShareStoryId"),Q=(0,i.Xd)("whatmoreShareEventId"),{whatmoreWidgetSourceDetails:U,whatmoreUserInfo:X}=(0,o.useContext)(m.BR),Y=K&&z===(0,v.Mm)(H),[Z,ee]=(0,o.useState)(Y),[te,ne]=(0,o.useState)(-1),[ie,oe]=(0,o.useState)(null);let ae=e.events,re=null===e||void 0===e?void 0:e.allEvents,le=[...ae,...re];var se=null;V&&!se&&(se=function(e){var t=e.reduce(((e,t,n)=>{var i,o=t.storyset_id;return o in e?(e[o].total_events=e[o].total_events+1,e[o].events.push(t)):e[o]={id:t.storyset_id,title:t.storyset_name,thumbnail_image:t.storyset_thumbnail_image,total_events:1,start_event_index:n,storyset_dynamic_thumbnail:null!==(i=null===t||void 0===t?void 0:t.storyset_dynamic_thumbnail)&&void 0!==i&&i,events:[t]},e}),{}),n=Object.values(t);return n.sort(((e,t)=>e.start_event_index-t.start_event_index)),n}(ae));const ce=U.landingLocationType,de=U.templateType;function ue(e,t=!1,n=null){(0,c.MN)()&&(0,y._)()&&!t&&(0,d.bo)(),A||R||(async()=>{const t=se[e].events[0],n=(0,v.Wd)(ce)+(0,v.gf)(de)+(null!==t&&void 0!==t&&t.isRelatedEvent?"R":"E")+"_"+(null===t||void 0===t?void 0:t.event_id);(0,r.lB)(t),(0,u.Si)(B,a.TB,a.OL),(0,s.Ch)(t.event_id,t.products,"homepage","stories",n,null===t||void 0===t?void 0:t.location,null===X||void 0===X?void 0:X.userType)})();var i=0;null!=n&&se[e].events.map(((e,t)=>{e.event_id==n&&(i=t)})),ne(i),oe(e)}async function he(e,t=!1){(0,c.MN)()&&(0,y._)()&&!t&&await(0,d.bo)(),ne(e.index),((0,p.ij)(e)||(0,p.Il)(e))&&(A||R||(async()=>{const t=(0,v.Wd)(ce)+(0,v.gf)(de)+(null!==e&&void 0!==e&&e.isRelatedEvent?"R":"E")+"_"+(null===e||void 0===e?void 0:e.event_id);(0,r.lB)(e),(0,u.Si)(B,a.TB,a.Dk),(0,s.Ch)(e.event_id,e.products,"homepage","carousel",t)})())}function me(e){return(0,I.jsx)(I.Fragment,{})}return(0,o.useEffect)((()=>{if(Y)if((0,w.H)("whatmore-video-player",(()=>{ee(!1)})),null!=J&&V){const e=se.find((e=>J==e.id));if(e)return void ue(se.indexOf(e),!0,Q)}else if(null!=Q){const e=le.find((e=>Q==e.event_id));if(e)return void he(e,!0)}}),[]),(0,I.jsxs)(I.Fragment,{children:[Z&&(0,I.jsx)(S.A,{}),-1==te||-2==te?(0,I.jsx)(me,{}):(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.EVENT_VIEW,event:ae[te],productList:null===(t=ae[te])||void 0===t?void 0:t.products,cta:null===(n=ae[te])||void 0===n?void 0:n.cta,triggerFlag:!A&&!R,children:(0,I.jsx)(f.default,{events:le,index:te,onBack:function(){(0,l.ei)(B)&&(0,i.Xd)("whatmoreAddedToCart")&&(0,h.H)(B,(()=>{}),100,window.location.hostname),ne(-1),ee(!1)},slideDirection:V||"horizontal"===(0,l.br0)(B)?"horizontal":"vertical",eventsStories:se,initialStoryIndex:ie,template:z})})}),(0,I.jsx)("div",{className:"whatmore-widget-container",style:{height:"100%",marginTop:(V?M:F)+"px",marginBottom:(V?M:F)+"px"},children:"template-b"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(E,{events:ae,onClick:he,heading:e.heading})})}):"template-a-1"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(x,{events:ae,onClick:he,heading:e.heading})}):"template-feed-a"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(k,{events:ae,onClick:he,heading:e.heading})}):"template-collections-a"===z||"template-c"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(O,{events:ae,index:te,setScreen:ne,onClick:he,heading:e.heading})})}):"template-collections-b"===z||"template-d"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(T,{events:ae,index:te,setScreen:ne,onClick:he,heading:e.heading})})}):"template-collections-c"===z||"template-e"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(C,{events:ae,index:te,setScreen:ne,onClick:he,heading:e.heading})})}):"template-collections-d"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(E,{events:ae,index:te,setScreen:ne,onClick:he,heading:e.heading})})}):"template-collections-e"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(L,{events:ae,index:te,setScreen:ne,onClick:he,heading:e.heading})})}):"template-collections-stories"===z||"template-stories"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.COLLECTION_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(P,{events:ae,index:te,setScreen:ne,onClick:he,heading:e.heading})})}):"template-f"===z||"template-collections-f"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(D,{events:ae,onClick:he,heading:e.heading})})}):"template-g"===z||"template-collections-g"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(b,{events:ae,onClick:he,heading:e.heading})})}):"template-h"===z||"template-collections-h"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(q,{events:ae,onClick:he,heading:e.heading})})}):"template-i"===z||"template-collections-i"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(N,{index:te,events:ae,onClick:he,heading:e.heading})})}):"template-banner-a"===z?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.BANNER_WIDGET_VIEW,event:ae[0],triggerFlag:!A&&!R,children:(0,I.jsx)(W,{events:ae})})}):V?(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.STORIES_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(j,{eventsStories:se,onClick:ue,template:z})})}):(0,I.jsx)(o.Suspense,{children:(0,I.jsx)(g.S,{userInteractionType:_.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!A&&!R,children:(0,I.jsx)(L,{events:ae,onClick:he,heading:e.heading})})})})]})};const R=function(e,t,n){const o=(0,i.Xd)("whatmoreShopId");var a=t.reduce(((e,t,n)=>(t.products.map((e=>e.client_product_id)).forEach((t=>{t in e||(e[t]=!0)})),e)),{}),r=Object.keys(a);if("60960964855"==o&&"undefined"!=typeof fera&&"function"===typeof fera.getRatings){var l={};fera.getRatings(r,(e=>{new Promise(((t,n)=>{e.forEach((e=>{l[e.external_product_id]={avgRating:e.average,totalRatings:e.count}})),t(l)})).then((e=>n(e)))}))}if("23114481744"==o){const e="1e6MQXxzYR19mpw9Km6Dcm86";l={};fetch("https://api.juniphq.com/v1/products?filter[remote_ids]="+r.toString(),{headers:{"Junip-Store-Key":e}}).then((e=>e.json())).then((e=>(e.products.forEach((e=>{l[e.remote_id]={avgRating:parseFloat(e.rating_average).toFixed(1),totalRatings:e.rating_count}})),l))).then((e=>n(e))).catch((e=>console.error(e)))}};var F=n(7802),M=n(6641),V=n(1351),$=n(4820),B=n(5873),G=n(6018);var z=function(e){const[t,n]=(0,o.useState)(),[r,u]=(0,o.useState)([]),[h,p]=(0,o.useState)(),{whatmoreIsStoriesTemplate:g}=(0,o.useContext)(m.BR),{whatmoreIsCollectionsTemplate:S}=(0,o.useContext)(m.BR),{whatmoreIsBannerTemplate:w}=(0,o.useContext)(m.BR),[f]=(0,i.QN)("whatmoreShopId"),[E]=(0,i.QN)("whatmoreCollectionId"),x=(0,i.Xd)("whatmoreLandingLocationType"),O=(0,i.Xd)("whatmoreLoggingActive"),{whatmoreWidgetSourceDetails:T}=(0,o.useContext)(m.BR),{whatmoreUserInfo:C,whatmoreIsPreviewMode:j}=(0,o.useContext)(m.BR),L=(0,i.Xd)("whatmoreCollectionUrl"),[D]=(0,i.QN)("isInDesignMode"),[b]=(0,i.QN)("isDemoBrand"),q=(0,l.mJ$)(f)?(0,l.jLA)(f)?L:window.location.href.split(/[?#]/)[0]:E,[N,k]=(0,i.QN)("productRatings"),[W,P]=(0,o.useState)(!1);var z=(0,l.SOt)(f)?a.aD+"/v2/events/":a.$$+"/v2/events/",K=(0,l.SOt)(f)?a.aD+"/v3/events/":a.$$+"/v3/events/",H=(0,l.SOt)(f)?a.aD+"/v4/events/":a.$$+"/v4/events/",J=(0,l.SOt)(f)?a.aD+"/v5/events/":a.$$+"/v5/events/",Q=(0,l.SOt)(f)?a.aD+"/v6/events/":a.$$+"/v6/events/",U=(0,l.SOt)(f)?a.aD+"/get_eventset/":a.$$+"/get_eventset/",X=(0,l.SOt)(f)?a.aD+"/v2/collection":a.$$+"/v2/collection",Y=(0,l.SOt)(f)?a.aD+"/v3/collection":a.$$+"/v3/collection",Z=(0,l.SOt)(f)?a.aD+"/v4/collection":a.$$+"/v4/collection",ee=(0,l.SOt)(f)?a.aD+"/v2/brand/"+f+"/product-events":a.$$+"/v2/brand/"+f+"/product-events",te=e.shopId,ne="live,upcoming",ie="true";return(0,o.useEffect)((()=>{(0,s.wm)();const e=()=>{const e="_whatmore_bulk_events",t=JSON.parse(localStorage.getItem(e))||[];t&&t.length>0&&((0,$.u)(t),localStorage.removeItem(e))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,o.useEffect)((()=>{null!=t&&0!=t.length&&!h&&(0,c.MN)()&&!(0,i.Xd)("whatmoreVideoPlayerPoolInitiated")&&(0,y._)()&&(0,d.Pc)(d.F5)}),[t]),(0,o.useEffect)((()=>{var e,t,o,a,r;if(x.startsWith("product"))if((0,l.vvU)(f))r=z.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+ie.toString()+(g?"&template_type=stories":"");else{var c=(0,i.Xd)("whatmoreProductId");c=(0,l.BcY)(f)?function(e,t){return"STRQMPNF7QK"==t?encodeURIComponent(e):e.split(/[?#]/)[0]}(window.location.href,f):c,r=ee.toString()+"?client_product_id="+c.toString()+"&status="+ne.toString()+"&event_type=video"}else if(S||"invalid-url"!==L)r=(0,l.JwJ)(f)?`${Y.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==x&&(0,l.FKG)(f).length>0?(0,l.FKG)(f)[0]:q}`:"78232846646"==f?`${Z.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==x&&(0,l.FKG)(f).length>0?(0,l.FKG)(f)[0]:q}`:`${X.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==x&&(0,l.FKG)(f).length>0?(0,l.FKG)(f)[0]:q}`;else if(w){const e=v.Jh,t=(0,v.t6)(x);r=U.toString()+te.toString()+"?eventset_type="+e+"&source="+t+"&source_id="+f}else{var d,h,m,_;if(("72201044272"==f||"2665447536"==f&&j)&&!g)r=K.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+ie.toString()+"&latitude="+(null!==(d=null===(h=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===h?void 0:h.latitude)&&void 0!==d?d:"")+"&longitude="+(null!==(m=null===(_=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===_?void 0:_.longitude)&&void 0!==m?m:"")+"&user_type="+(null!==C&&void 0!==C&&C.userType?"olduser":"newuser");else if((0,l.JwJ)(f)&&!g)r=H.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+ie.toString();else if("78232846646"==f&&j){var y,I,E,T;r=Q.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+ie.toString()+"&latitude="+(null!==(y=null===(I=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===I?void 0:I.latitude)&&void 0!==y?y:"")+"&longitude="+(null!==(E=null===(T=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===T?void 0:T.longitude)&&void 0!==E?E:"")+"&user_type="+(null!==C&&void 0!==C&&C.userType?"olduser":"newuser")}else r="78232846646"==f?J.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+ie.toString():z.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+ie.toString()+(g?"&template_type=stories":"")}if(g&&x.startsWith("index")&&(null===(e=window)||void 0===e||null===(t=e.whatmore)||void 0===t||null===(o=t.storyEvents)||void 0===o||null===(a=o.events)||void 0===a?void 0:a.length)>0){var N,W,A;const e=null===(N=window)||void 0===N||null===(W=N.whatmore)||void 0===W||null===(A=W.storyEvents)||void 0===A?void 0:A.events;n(e),P(!0)}else fetch(r).then((e=>e.json())).then((e=>{var t;if(w){const t=v.Jh;return(0,F.Po)(e,t)}if((0,l.JwJ)(f)&&(null===e||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.length)>0&&(null==localStorage.getItem("_whatmore_qview_index")&&localStorage.setItem("_whatmore_qview_index",0),(0,s.d3)(null===e||void 0===e?void 0:e.questions)),null!==e&&void 0!==e&&e.all_events){let t=null===e||void 0===e?void 0:e.all_events;(0,l.xku)(f)||(t=(0,F.zJ)(null===e||void 0===e?void 0:e.all_events)),u(t)}return(0,F.Np)(e,S||"invalid-url"!==L)})).then((e=>{O&&console.debug("initial received events size : "+e.length);let t=e;return(0,l.xku)(f)||(t=(0,F.zJ)(e)),t})).then((e=>(("28849832033"===f||"85317058852"===f&&Array.isArray(e))&&(e=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(e)),null!=e&&0!=e.length&&(0,l.WiD)(f)&&function(e,t,n){const o=setInterval((()=>{null===(0,i.Xd)("productRatings")&&R(e,t,n)}),1e3);setTimeout((()=>{clearInterval(o)}),1e4)}(f,e,(e=>{k(e)})),e))).then((e=>{(b||D)&&(null==e||e&&0==(null===e||void 0===e?void 0:e.length))?n(g?G.Yo:w?G.N9:G.uG):n(e),P(!0)})).catch((e=>{p(e.message),P(!0)}))}),[]),(0,o.useEffect)((()=>{"index"===x?t&&t.length>0&&(0,V.yP)({userInteractionType:_.O.HOMEPAGE_VISITED,widgetSourceDetails:T}):"collection"===x&&(t&&t.length>0||(0,l.BZ$)(f))&&(0,V.yP)({userInteractionType:_.O.COLLECTION_PAGE_VISITED,widgetSourceDetails:T})}),[t]),W&&(null==t||0==t.length||h)&&B.Sn.forEach((e=>{var t,n,i,o;const a=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-stories-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-stories-a"]'),r=null!==(n=e.querySelector('.whatmore-template-type[data-wh="template-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-feed-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-a-1"]')||e.querySelector('.whatmore-template-type[data-wh="template-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-h"]'))&&void 0!==n?n:e.querySelector('.whatmore-template-type[data="template-a"]')||e.querySelector('.whatmore-template-type[data="template-b"]')||e.querySelector('.whatmore-template-type[data="template-f"]')||e.querySelector('.whatmore-template-type[data="template-stories"]')||e.querySelector('.whatmore-template-type[data="template-e"]')||e.querySelector('.whatmore-template-type[data="template-a-1"]')||e.querySelector('.whatmore-template-type[data="template-g"]')||e.querySelector('.whatmore-template-type[data="template-h"]'),l=null!==(i=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-c"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-d"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-h"]'))&&void 0!==i?i:e.querySelector('.whatmore-template-type[data="template-collections-a"]')||e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-collections-c"]')||e.querySelector('.whatmore-template-type[data="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data="template-collections-e"]')||e.querySelector('.whatmore-template-type[data="template-collections-d"]')||e.querySelector('.whatmore-template-type[data="template-collections-f"]')||e.querySelector('.whatmore-template-type[data="template-collections-g"]')||e.querySelector('.whatmore-template-type[data="template-collections-h"]'),s=null!==(o=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==o?o:e.querySelector('.whatmore-template-type[data="template-banner-a"]'),c=e;if(g){const t=e.querySelector(".whatmore-shimmer-stories");t&&(t.style.display="none")}else if(!S){const t=e.querySelector(".loading-skeleton-wrapper");t&&(t.style.display="none")}(s||l||r||a)&&(r&&c||a&&c||s&&c||l&&c)&&(c.style.minHeight="0px")})),null==t||0==t.length||h?(0,I.jsx)("div",{}):(O&&(0,M.xv)(t),function(e){if(null!=e){var t=0;e.forEach((e=>{e.index=t++}))}}([...t,...r]),O&&console.debug("final transformed events data : "+JSON.stringify(t)),O&&console.debug("valid events size : "+t.length),(0,I.jsx)(A,{heading:e.heading,events:t,allEvents:r}))},K=n(6649);var H=function(e){const[t]=(0,i.QN)("whatmoreShopId"),[n]=(0,i.QN)("whatmoreHeading"),[a,r]=(0,o.useState)(["initial",window.pageYOffset]),[s,c]=(0,o.useState)(!1),d="2665447536"==t?30:10,h=(0,i.Xd)("isLandingSharedLink");(0,o.useEffect)((()=>{if((0,u.hr)(t),!(0,l.FlM)(t))return;const e=d;let n=window.pageYOffset,i=!1;const o=()=>{const t=window.pageYOffset;var o,a;Math.abs(t-n)<e?i=!1:(a=!0,r(o=[t>n?"scrolled-down":"scrolled-up",t]),o[1]>d&&c(a),n=t>0?t:0,i=!1)},a=()=>{i||(window.requestAnimationFrame(o),i=!0)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]);const[m,p,v]=(0,K.A)({triggerOnce:!0});return(0,I.jsx)("div",{ref:m,style:{display:"block",height:"100%"},children:s||p||h||!(0,l.FlM)(t)||(0,l.wQ2)(t)?(0,I.jsx)(z,{heading:n,shopId:t}):(0,I.jsx)("div",{})})}},8945:function(e,t,n){function i(e,t){let n=0;let i=new MutationObserver((function(){document.querySelector("."+e)?(t(),i.disconnect()):0==n&&(n=1,setTimeout((()=>{t(),i.disconnect()}),8e3))}));i.observe(document.body,{childList:!0,subtree:!0})}n.d(t,{H:function(){return i}})}}]);