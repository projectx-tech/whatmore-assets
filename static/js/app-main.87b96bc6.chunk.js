(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[590],{184:function(t,e,o){var n=o(2022),i=o(9248);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},1581:function(t,e,o){var n=o(4635),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,l=n?n.toStringTag:void 0;t.exports=function(t){var e=r.call(t,l),o=t[l];try{t[l]=void 0;var n=!0}catch(c){}var i=a.call(t);return n&&(e?t[l]=o:delete t[l]),i}},1745:function(t,e,o){"use strict";o.d(e,{RX:function(){return f},sw:function(){return u},iL:function(){return h},oV:function(){return m},Lt:function(){return c},js:function(){return s},tN:function(){return p},_N:function(){return v}});var n=o(1348);const i="_whatmore-tracking-id";var r=o(2089),a=o(4533),l=o(5830);function c(){const t="https://"+window.location.hostname+"/cart.json";return fetch(t,{method:"GET"})}async function s(){const t="https://"+window.location.hostname+"/cart.json";return await fetch(t,{method:"GET"})}async function u(t){var e;let o,c=(0,r.Ak)(),u=null,f=null,m={},h=null,p=null,v=null,g={};const w=(0,l.Xd)("whatmoreShopId");let S=(0,a.CK)(),y=null===(e=localStorage)||void 0===e?void 0:e.wht_is_impression,_=S.length>0;S.forEach((t=>{g.hasOwnProperty(null===t||void 0===t?void 0:t.product_id)||(g[null===t||void 0===t?void 0:t.product_id]={widgetInfo:null===t||void 0===t?void 0:t.widget_info,location:null===t||void 0===t?void 0:t.location,userType:null===t||void 0===t?void 0:t.user_type})})),await s().then((t=>t.json())).then((e=>{c=e.token,o=e.attributes;let r=[];if(r=!0===t?e.items.map((t=>{const e=g[null===t||void 0===t?void 0:t.variant_id];return{...t,location:null===e||void 0===e?void 0:e.location,userType:null===e||void 0===e?void 0:e.userType,widget_info:null===e||void 0===e?void 0:e.widgetInfo}})):e.items.map((t=>{const e=g[null===t||void 0===t?void 0:t.product_id];return{...t,location:null===e||void 0===e?void 0:e.location,userType:null===e||void 0===e?void 0:e.userType,widget_info:null===e||void 0===e?void 0:e.widgetInfo}})),0==r.length)return console.debug("Whatmore :: no cart items available for view products"),null;let s={};r.map(((e,o)=>{if(u=e.key,f=e.quantity,m=e.properties,h=e.widget_info,p=e.location,v=e.userType,("63330517149"==w||"77604192550"==w)&&g.hasOwnProperty(JSON.stringify(!0===t?e.variant_id:e.product_id))){const t="wtot";s={...s,[null===e||void 0===e?void 0:e.product_id]:(0,a.wm)()+`#${h}`},d(t,s)}if(null!==m&&i in m||!g.hasOwnProperty(JSON.stringify(!0===t?e.variant_id:e.product_id))){if((y||_)&&0==o&&!(0,n.tSy)(w)){d(_?"__wvs":"__wvi","1")}}else!async function(t,e,o,n,r="default",c,s,u,d){const f=(0,l.Xd)("whatmoreShopId"),m=s?(0,a.wm)()+("72201044272"==f?`#${n}#${r}#${c?"olduser":"newuser"}`:`#${n}`):d?"_wt_vs":u?"_wt_vi":"";if(""==m||"_wt_vs"==m||"_wt_vi"==m||"77604192550"==f||"80856187185"==f||"86486974743"==f)return;let h={id:t,quantity:e,properties:{...m?{[i]:m}:{},...o}};const p=await fetch("https://"+window.location.hostname+"/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then((t=>t.json())).catch((t=>{console.error("Whatmore :: Error while updating cart line item properties.",t)}))}(u,f,m,h,p,v,!0,y,_)}))})).catch((t=>{console.error("Whatmore :: Error while fetching cart_token for cart attribute update.",t)}))}async function d(t,e){const o={[t]:e};return await fetch("https://"+window.location.hostname+"/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attributes:o})}).then((t=>t.json())).catch((t=>{console.error("Whatmore :: Error while updating cart attribute.",t)}))}async function f(t,e,o,r,l="default",c){if("24366857"==o||"68234805419"==o||"86879863060"==o)return Promise.resolve({ok:!0,json:()=>{}});let s;if((0,n.dnh)(o)){const n=(0,a.wm)()+("72201044272"==o?`#${r}#${l}#${c?"olduser":"newuser"}:direct`:`#${r}:direct`);s={items:t.map((t=>({id:t,quantity:e,properties:{[i]:n}})))}}else s={items:t.map((t=>({id:t,quantity:e})))};return await fetch("https://"+window.location.hostname+"/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}function m(t,e,o,i,r="default",a){const l="https://"+window.location.hostname;var c;const s="72201044272"==o?`came-from-whatmore-live_${i}_${r}_${a?"olduser":"newuser"}`:`came-from-whatmore-live_${i}`;(0,n.BLb)(o)?(c=`${l}/cart/${t}:${e}?`+(0,n.VCz)(o)+"&"+(0,n.Spk)(o)+"&"+(0,n.KMo)(o),(0,n.dnh)(o)&&(c=`${c}&ref=`+s)):(c=`${l}/cart/${t}:${e}`,(0,n.dnh)(o)&&(c=`${c}?ref=`+s)),window.location.href=c}function h(t){const e="https://"+window.location.hostname+"/cart";(0,n.BLb)(t)?window.location.href=e+"?"+(0,n.VCz)(t)+"&"+(0,n.Spk)(t)+"&"+(0,n.yD5)(t):window.location.href=e}async function p(t,e=""){let o;if("27303477337"===e){var n,i;const e="https://"+window.location.hostname,r=window.location.pathname.split("/");o=e+"/"+(null!==r&&void 0!==r&&null!==(n=r[1])&&void 0!==n&&n.startsWith("en-")?(null===r||void 0===r?void 0:r[1])+"/":"")+(null===t||void 0===t||null===(i=t.product_link)||void 0===i?void 0:i.split(".co")[1])+".js"}else o=(null===t||void 0===t?void 0:t.product_link)+".js";const r=await fetch(o,{method:"GET"});if(!r.ok)throw new Error(`Error! status: ${r.status}`);return await r.json()}async function v(t){const e=t.product_link+".json",o=await fetch(e,{method:"GET"});if(!o.ok)throw new Error(`Error! status: ${o.status}`);return await o.json()}},2022:function(t,e,o){var n=o(4635),i=o(1581),r=o(5336),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):r(t)}},2089:function(t,e,o){"use strict";o.d(e,{Ak:function(){return n}});let n=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"),"")},2588:function(t,e,o){var n=o(6914),i=o(4567),r=o(184),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var o=l.test(t);return o||c.test(t)?s(t.slice(2),o?2:8):a.test(t)?NaN:+t}},4378:function(t,e,o){var n=o(4759);t.exports=function(){return n.Date.now()}},4533:function(t,e,o){"use strict";o.d(e,{CK:function(){return j},Ch:function(){return b},Fu:function(){return _},Hm:function(){return x},d3:function(){return I},wm:function(){return S},zv:function(){return y}});var n=o(2089),i=o(5830),r=o(4820);const a="_whatmore_user_id",l="_whatmore_session_id",c="_whatmore_viewed_products",s="_whatmore_add_to_cart_products",u="_whatmore_session_time",d="_whatmore_store_id",f="_whatmore_qview_index",m="_whatmore_brand_questions",h=(0,i.Xd)("whatmoreShopId"),p=18e5,v=2592e5,g=6e5,w="_whatmore_bulk_events";function S(){return localStorage.getItem(d)!=h&&localStorage.setItem(d,h),null==localStorage.getItem(a)&&function(){new Date;const t=(0,n.Ak)();localStorage.setItem(a,t)}(),localStorage.getItem(a)}function y(){const t=new Date,e=JSON.parse(localStorage.getItem(w))||[],o=localStorage.getItem(u);return(null==localStorage.getItem(l)||null==o||t.getTime()>o)&&(localStorage.removeItem(l),localStorage.removeItem(u),function(){const t=(0,n.Ak)(),e=(new Date).getTime()+p;localStorage.setItem(l,t),localStorage.setItem(u,e)}(),e&&e.length>0&&((0,r.u)(e),localStorage.removeItem(w))),localStorage.getItem(l)}function _(t,e,o,n,i){const r=(new Date).getTime(),a={event_id:t.event_id,product_id:e.client_product_id,product_title:e.title,price:e.price,timestamp:r,widget_info:o,location:n,user_type:i?"olduser":"newuser",variants:[]};if(null===localStorage.getItem(s))localStorage.setItem(s,JSON.stringify([a]));else{let t=JSON.parse(localStorage.getItem(s)).filter((t=>t.timestamp+v>r));localStorage.setItem(s,JSON.stringify([...t,a]))}}function b(t,e,o,n,i,r="default",a){const l=[],s=(new Date).getTime();if(e.map((e=>{const c={event_id:t,product_id:e.client_product_id,product_title:e.title,price:e.price,timestamp:s,variants:[],page:o,widget_type:n,widget_info:i,location:r,user_type:a?"olduser":"newuser"};l.push(c)})),null===localStorage.getItem(c))console.debug("viewed Products",JSON.stringify(l)),localStorage.setItem(c,JSON.stringify(l));else{let e=JSON.parse(localStorage.getItem(c)),o=!1;e.map((e=>{let n=Object.assign({},e);return e.event_id===t&&(e.timestamp=s,o=!0),n})),o?localStorage.setItem(c,JSON.stringify(e)):localStorage.setItem(c,JSON.stringify([...e,...l]))}}function j(){const t=(new Date).getTime();let e=JSON.parse(localStorage.getItem(c));if(!e)return[];let o=e.filter((e=>e.timestamp+v>t));return localStorage.setItem(c,JSON.stringify(o)),o}function x(){if(null!=localStorage.getItem(f)){const t=parseInt(localStorage.getItem(f))+1;localStorage.setItem(f,t)}}function I(t){const e=(new Date).getTime();if(null==localStorage.getItem(m)){const o={questionList:null===t||void 0===t?void 0:t.filter((t=>1==(null===t||void 0===t?void 0:t.is_active))),timestamp:e};localStorage.setItem(m,JSON.stringify(o))}else{const o=JSON.parse(localStorage.getItem(m));if((null===o||void 0===o?void 0:o.timestamp)+g>e){const o={questionList:null===t||void 0===t?void 0:t.filter((t=>1==(null===t||void 0===t?void 0:t.is_active))),timestamp:e};localStorage.setItem(m,JSON.stringify(o))}}}},4567:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},4635:function(t,e,o){var n=o(4759).Symbol;t.exports=n},4759:function(t,e,o){var n=o(6658),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();t.exports=r},4820:function(t,e,o){"use strict";o.d(e,{u:function(){return r}});var n=o(964),i=o(6641);const r=function(t){let e={};const o=t.length<10;e.metric_event_list=t,(async()=>{!function(t,e){const o="ingesting analytis-event";(0,i.gv)(o);const r=t;fetch(n.qW+"/event_metrics/bulk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r),keepalive:e}).then((t=>t.json())).then((t=>{})).catch((t=>{console.error("error "+o,t)}))}(e,o)})()}},5336:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5491:function(t,e,o){var n=o(4567),i=o(4378),r=o(2588),a=Math.max,l=Math.min;t.exports=function(t,e,o){var c,s,u,d,f,m,h=0,p=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function w(e){var o=c,n=s;return c=s=void 0,h=e,d=t.apply(n,o)}function S(t){var o=t-m;return void 0===m||o>=e||o<0||v&&t-h>=u}function y(){var t=i();if(S(t))return _(t);f=setTimeout(y,function(t){var o=e-(t-m);return v?l(o,u-(t-h)):o}(t))}function _(t){return f=void 0,g&&c?w(t):(c=s=void 0,d)}function b(){var t=i(),o=S(t);if(c=arguments,s=this,m=t,o){if(void 0===f)return function(t){return h=t,f=setTimeout(y,e),p?w(t):d}(m);if(v)return clearTimeout(f),f=setTimeout(y,e),w(m)}return void 0===f&&(f=setTimeout(y,e)),d}return e=r(e)||0,n(o)&&(p=!!o.leading,u=(v="maxWait"in o)?a(r(o.maxWait)||0,e):u,g="trailing"in o?!!o.trailing:g),b.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=m=s=f=void 0},b.flush=function(){return void 0===f?d:_(i())},b}},6641:function(t,e,o){"use strict";o.d(e,{Fk:function(){return s},gv:function(){return c},xv:function(){return l}});var n=o(5830);const i="Whatmore : ",r=(0,n.Xd)("whatmoreShopId");function a(t){console.debug(i+t)}function l(t,e="200"){var o;null!==(o="true"==localStorage.getItem("whatmoreActivateLogs"))&&void 0!==o&&o&&(a("total events received : "+(t&&t.length)),a("events data : "+JSON.stringify(t)))}function c(t){var e;null!==(e="true"==localStorage.getItem("whatmoreActivateLogs"))&&void 0!==e&&e&&a(t)}const s=t=>{"STR60LW4WMA"!=r&&console.log(`%c ${t}`,"background: #D53F8C; color: white; font-size: 19px; padding: 5px; font-weight: semibold;","\n\nFind us here -> https://www.whatmore.ai")}},6658:function(t,e,o){var n="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g;t.exports=n},6914:function(t,e,o){var n=o(8798),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},7220:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return _}});var n=o(5830),i=o(9950),r=o(1348),a=o(1745);const l=function(t){new PerformanceObserver((e=>{for(const o of e.getEntries()){[`${window.location.origin}/cart/add.js`,`${window.location.origin}/cart/add`].includes(o.name)&&(console.debug("Whatmore :: Fetch request detected to",o.name),(0,r.dnh)(whatmoreShopId)&&setTimeout((()=>{(0,a.sw)(t)}),1e3))}})).observe({entryTypes:["resource"]})};var c=o(7740),s=o(4737),u=o(4833);var d,f=o(5491),m=o.n(f),h=o(964),p=o(4414);const v=i.lazy((()=>Promise.all([o.e(297),o.e(336),o.e(568),o.e(294),o.e(387),o.e(760)]).then(o.bind(o,8289)))),g=i.lazy((()=>Promise.all([o.e(257),o.e(336),o.e(294),o.e(774)]).then(o.bind(o,3389)))),w=i.lazy((()=>Promise.all([o.e(257),o.e(336),o.e(294),o.e(387),o.e(717)]).then(o.bind(o,8154)))),S=null!==(d="true"==localStorage.getItem("whatmoreActivateLogs"))&&void 0!==d&&d;let y=m()((t=>{var e,o;if(null!=(null===(e=window)||void 0===e||null===(o=e.whatmore)||void 0===o?void 0:o.frontendCustomizations)){var i,a;const e=null===(i=window)||void 0===i||null===(a=i.whatmore)||void 0===a?void 0:a.frontendCustomizations;(0,r.Tzr)(e,t),(0,n.t2)("brandCustomizationsLoaded",!0)}else fetch(h.$$+"/customization/frontend/"+t).then((t=>t.json())).then((e=>{(0,r.Tzr)(e,t),(0,n.t2)("brandCustomizationsLoaded",!0)})).catch((t=>{console.error("Whatmore : Error while fetching brandCustomizations : "+t)}))}),100,{leading:!0,trailing:!1});var _=function(){var t;const[e]=(0,n.QN)("whatmoreLandingLocationType"),[d]=(0,n.QN)("whatmoreShopId"),f=(0,n.Xd)("isInDesignMode"),[m,h]=(0,n.QN)("brandCustomizationsLoaded"),[_]=(0,n.QN)("whatmoreEmbedAppUseVariant"),b=(0,n.Xd)("isWhatmorePreviewMode"),{whatmoreEventsBrowsingTemplate:j}=(0,i.useContext)(s.B),[x]=null===(t=performance)||void 0===t?void 0:t.getEntriesByType("navigation");if((0,i.useEffect)((()=>{if(!m){const t=3e5;(0,r.tVc)(t)&&"reload"!=(null===x||void 0===x?void 0:x.type)||b?h(!0):y(d)}null==localStorage.getItem("_user_wh_lc")&&"72201044272"==d&&o.e(259).then(o.bind(o,3446)).then((({getLocationDetails:t})=>t())).then((t=>(localStorage.setItem("_user_wh_lc",JSON.stringify(t)),{}))).catch((t=>{localStorage.setItem("_user_wh_lc",JSON.stringify({latitude:"",longitude:""})),console.error(`Error: ${t}`)}))}),[]),(0,i.useEffect)((()=>{l("true"===_),(0,r.WmJ)(d)&&function(t){let e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}((0,r.WmJ)(d))}),[m]),!m)return(0,p.jsx)(p.Fragment,{});if((0,c.U)()){if((0,u.Ig)(j))return(0,p.jsx)(p.Fragment,{});if("index"===e||"collection"===e||e.startsWith("collection")||e.startsWith("page")){if(!(0,u.io)(j))return S&&console.debug("Whatmore : Shopify, rendering index/collection page carousels : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(v,{})})});if(function(){var t,o,i,a,l,c,s,u,m,h,p,v;const g=(0,n.Xd)("whatmoreCollectionId");return f||(null===(t=window)||void 0===t||null===(o=t.Shopify)||void 0===o||null===(i=o.theme)||void 0===i?void 0:i.role)&&"main"!==(null===(a=window)||void 0===a||null===(l=a.Shopify)||void 0===l||null===(c=l.theme)||void 0===c?void 0:c.role)||(0,r.hbj)(d)&&(null===(s=window)||void 0===s||null===(u=s.Shopify)||void 0===u||null===(m=u.theme)||void 0===m?void 0:m.role)&&"main"===(null===(h=window)||void 0===h||null===(p=h.Shopify)||void 0===p||null===(v=p.theme)||void 0===v?void 0:v.role)&&((0,r.R2w)(d)&&e.includes("index")||g&&(0,r.Idi)(d).includes(g)||(0,r.isL)(d))}())return S&&console.debug("Whatmore : Shopify, rendering index/collection page spotlight : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(w,{})})})}var I,T,O,N,$,W,E,P,J,k,C,F;return e.startsWith("product")?(0,u.io)(j)?(null!==(I=window)&&void 0!==I&&null!==(T=I.Shopify)&&void 0!==T&&null!==(O=T.theme)&&void 0!==O&&O.role&&"main"===(null===(N=window)||void 0===N||null===($=N.Shopify)||void 0===$||null===(W=$.theme)||void 0===W?void 0:W.role)||window.location.href.includes("localhost:"))&&(0,r.fDZ)(d)?(S&&console.debug("Whatmore : Shopify, rendering PDP-page popup : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(g,{})})})):(null!==(E=window)&&void 0!==E&&null!==(P=E.Shopify)&&void 0!==P&&null!==(J=P.theme)&&void 0!==J&&J.role&&"main"!==(null===(k=window)||void 0===k||null===(C=k.Shopify)||void 0===C||null===(F=C.theme)||void 0===F?void 0:F.role)||f)&&(0,r.C1J)(d)?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(g,{})})}):(S&&console.debug("Whatmore : Shopify, PDP-page popup disabled."),(0,p.jsx)(p.Fragment,{})):(S&&console.debug("Whatmore : Shopify, rendering PDP-page carousels : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(v,{})})})):((0,r.dnh)(d)&&(0,r.bQo)(d)&&"cart"===e&&(S&&console.debug("Whatmore : initiating whatmore attribution from cart page."),(0,a.sw)("true"===_)),(0,p.jsx)(p.Fragment,{}))}return"index"===e||"collection"===e?(0,u.io)(j)?(S&&console.debug("Whatmore : External, rendering index/collection page popup : "+j),(0,p.jsx)(p.Fragment,{})):(S&&console.debug("Whatmore : External, rendering index/collection page carousels : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(v,{})})})):e.startsWith("product")||"embed"===e?(0,u.Ig)(j)||(0,u.io)(j)?(0,r.fDZ)(d)?(S&&console.debug("Whatmore : External, rendering PDP-page popup : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(g,{})})})):(S&&console.debug("Whatmore : External, PDP-page popup disabled."),(0,p.jsx)(p.Fragment,{})):(S&&console.debug("Whatmore : External, rendering PDP-page carousels : "+j),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.Suspense,{children:(0,p.jsx)(v,{})})})):(0,p.jsx)(p.Fragment,{})}},7740:function(t,e,o){"use strict";o.d(e,{U:function(){return i}});var n=o(5830);function i(){const t=(0,n.Xd)("whatmoreShopId");return!!(void 0!=window.Shopify||window.location.href.includes("shopify")||window.location.href.includes("localhost:")||window.location.href.includes("dashboard.whatmore.live")||window.location.href.includes("app.whatmore.live")||window.location.href.includes("trycloudflare.com"))&&!t.includes("STR")}},8798:function(t){var e=/\s/;t.exports=function(t){for(var o=t.length;o--&&e.test(t.charAt(o)););return o}},9248:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}}}]);