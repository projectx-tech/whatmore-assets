"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262,939],{3262:function(t,e,o){o.r(e),o.d(e,{initiateCartSliderEvent:function(){return n}});var r=o(5830),i=o(1745);const n=async function(t,e,o,n,a="",d="",c="",u="",s="",l=""){(0,r.Xd)("whatmoreLandingLocationType");if("STRNV8MHJTF"==t||"STR6HU283UZ"==t||"STR9T3LLEJB"==t||"STRWJMIOJNX"==t||"STRUDQ36YAC"==t||"STR1D5ONOZX"==t){console.log("Executing cart refresh script..");return void(document.getElementById("whatsmorecart").value=Math.random())}if("58692075703"===t&&(fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>{if(!t.ok)throw new Error("Add to cart failed");return t.json()}).then(t=>{"function"===typeof window.openGokwikSideCart&&window.openGokwikSideCart()}).catch(t=>console.error("[Whatmore] Lakshita ATC error:",t)),setTimeout(e,o)),"56444977250"===t){const t=document.querySelector('button[data-pf-type="ProductATC2"]');return t?(d&&t.setAttribute("data-product-id",d),t.click(),setTimeout(()=>{(0,i.js)().then(t=>t.json()).then(t=>{const e=t.items.find(t=>String(t.id)===String(a));if(e){const t=e.key,o=e.quantity,r=e.properties;(0,i.CP)(t,o,r,c,u,s,!0,!0,!0)}})},500),void setTimeout(e,o)):(fetch(null===l||void 0===l||null===(p=l.split("?"))||void 0===p?void 0:p[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html").querySelector('button[data-pf-type="ProductATC2"]');e&&d&&e.setAttribute("data-product-id",d)}),void setTimeout(e,o));var p}if("64379584700"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>fetch("/cart.js")).then(t=>t.json()).then(t=>{$(".paira-cart-item-count").text(t.item_count),$(".paira-cartEmpty").hide(),$(".paira-cartNotEmpty").show(),$(".paira-cart-total-price .money").text("Rs. "+t.total_price/100),$(".cart-drop").addClass("open"),$(".cart-icon").trigger("mouseenter"),setTimeout(()=>{y(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("76767920441"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>{"function"===typeof window.openGokwikSideCart&&window.openGokwikSideCart(),setTimeout(()=>{y(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);const m=e=>{if("61126934766"==t){let t=e.querySelector(".productView-buttons").querySelector('form[action*="/cart/add"]');if(t)return t}let o=Array.from(e.querySelectorAll("product-form")).find(t=>t.querySelector('form > input[name="id"]')&&t.querySelector('form button[type="submit"]'));return o||(o=Array.from(e.querySelectorAll('form[action*="/cart/add"]')).find(t=>t.querySelector('button[type="submit"]'))),o},h=(t,e,o)=>{const r=t.cloneNode(!0);if(r){r.hasAttribute("data-product-variant-id")&&r.setAttribute("data-product-variant-id",e),r.hasAttribute("data-product-id")&&r.setAttribute("data-product-id",o);let t=r.querySelector('input[name="id"]');if(t)t.setAttribute("value",e),t.hasAttribute("disabled")&&t.removeAttribute("disabled");else{const t=r.querySelector('select[name="id"]');if(t){const o=t.querySelector('option[selected="selected"]');o&&o.setAttribute("value",e)}}const i=r.querySelector('input[name="product-id"]');i&&i.setAttribute("value",o);const n=document.createElement("div");return n.className="whatmore-atc",n.appendChild(r),document.body.appendChild(n),console.log(n,"formElement"),n}},f=t=>{const e=null===t||void 0===t?void 0:t.querySelector('button[type="submit"]');e&&e.click()},y=t=>{(0,i.js)().then(t=>t.json()).then(e=>{const o=e.items.find(e=>e.id==t),r=o.key,n=o.quantity,a=o.properties;(0,i.CP)(r,n,a,c,u,s,!0,!0,!0)})},S=m(document);if(S||(null===S||void 0===S?void 0:S.length)>0){const t=h(S,a,d);f(t),setTimeout(()=>{y(a)},500),t.remove()}else{var v;fetch(null===l||void 0===l||null===(v=l.split("?"))||void 0===v?void 0:v[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html"),o=m(e);if(o||(null===o||void 0===o?void 0:o.length)>0){const t=h(o,a,d);f(t),setTimeout(()=>{y(a)},500),t.remove()}})}setTimeout(e,o)}}}]);