"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[4658],{74658:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var i=n(47313),r=n(54664),o=n(31115),a=(n(56143),n(37850),n(44444),n(7244),n(70123),n(35892),n(91811),n(86173)),s=n(16826),l=n(97129),d=n(30364),c=(n(13439),n(99543)),h=n(57931),p=n(59018),u=n(49854),x=n(23933),v=n(78866),g=n(80868),f=n(40342),w=n(3437),m=n(13455),j=n(46417);var b=function(e){var t;const n=e.isMuted,i=null!==(t=e.iconSize)&&void 0!==t?t:30;function r(){e.onToggle()}return(0,j.jsx)("div",{style:{cursor:"pointer"},children:n?(0,j.jsx)(m.Z,{sx:{color:"white",fontSize:i,filter:"drop-shadow(0 0 5px black);"},onClick:()=>{r()}}):(0,j.jsx)(w.Z,{sx:{color:"white",fontSize:i,filter:"drop-shadow(0 0 5px black);"},onClick:()=>{r()}})})},y=n(91896),C=n(68984),I=n(60058),S=n(76119),k=n(47376),M=n(50778),E=n(73433);function Z(e){const[t,n]=(0,i.useState)(e.initialMuteState),r=e.events,o=e.activeEventIndex,a=e.setActiveEventIndex,s=(0,c.MO)("whatmoreShopId"),l="portrait"===e.mode;function d(){(0,u.hr)(s)&&e.isCTAPresent||(n(!t),(0,C.KE)()&&(0,I.QV)(),e.onMuteToggle())}const x=e.event;return(0,j.jsx)("div",{style:{position:(0,u.SJ)(s)?"absolute":"relative",top:(0,u.SJ)(s)?0:"",zIndex:1,bottom:(0,u.SJ)(s)?"":"100%",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"transparent"},className:"whatmore-ios-css-relative-fix",children:(0,j.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",width:"100%",height:"100%",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsxs)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",alignItems:"center",width:"100%",paddingRight:"1%",paddingLeft:"1%",paddingTop:"1%",backgroundImage:"linear-gradient(to top, rgba(0,0,0,0), rgba(0,0,0,0.1), rgba(0,0,0,0.3))"},children:[!(e.isCTAPresent&&(0,u.hr)(s)||"video"!==x.event_type)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{width:"100%",height:"100%"},onClick:()=>d()}),(0,j.jsx)(b,{isMuted:t,onToggle:()=>{d()}})]}),r.length>1&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",borderRadius:"50%",zIndex:2,border:"2px solid white",padding:"2px",cursor:"pointer"},onClick:e=>{e.stopPropagation(),a(0===o?r.length-1:o-1)},children:(0,j.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"50%",padding:"6px"},children:(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",color:"#252525",height:"20px"},children:(0,j.jsx)(h.Z,{})})})}),(0,j.jsx)("div",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",borderRadius:"50%",zIndex:2,border:"2px solid white",padding:"2px",cursor:"pointer"},onClick:e=>{e.stopPropagation(),a(o===r.length-1?0:o+1)},children:(0,j.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"50%",padding:"6px"},children:(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",color:"#252525",height:"20px",textAlign:"center"},children:(0,j.jsx)(p.Z,{})})})}),(0,u.cRS)(s)&&(0,j.jsx)("div",{style:{display:"flex",position:"absolute",bottom:"7%",left:"50%",transform:"translateX(-50%)",gap:"24px",zIndex:1},children:r.map(((e,t)=>{const n=t===o;return(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),a(t)},style:{width:n?"25px":l?"12px":"14px",height:l?"12px":"14px",borderRadius:n?"10px":"50%",backgroundColor:n?(0,u.YFz)(s):"#f8eeec",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)"}},t)}))})]})]}),(0,j.jsx)("div",{style:{width:"100%",height:"100%"},onClick:()=>d()})]})})}var z=function(e){var t,n;const[r,o,a]=(0,v.Z)(),[s,l]=(0,i.useState)(!0),{whatmoreUITheme:h}=(0,i.useContext)(d.I),p=(0,c.MO)("whatmoreVideoTileSize"),{ref:w,inView:m,entry:b}=(0,x.YD)({triggerOnce:!1}),{whatmoreWidgetSourceDetails:C}=(0,i.useContext)(d.I),I=(0,c.MO)("whatmoreShopId"),z=e.events,T=e.activeEventIndex,P=e.setActiveEventIndex,R=z[T],_=((0,u.nzC)(I),(0,f.uv)(R)),A=(0,f.WN)(R);if("portrait"===r&&!_)return console.log("enter"),(0,j.jsx)(j.Fragment,{});if("landscape"===r&&!A)return console.log("enter"),(0,j.jsx)(j.Fragment,{});const N=(0,g.V)("portrait"===r?_:A),F=p/100*(0,u.b4p)(I),D=p/100*(0,u.GmU)(I),V="portrait"===r?(0,u.oOc)(I):(0,u.snl)(I),J="portrait"===r?a*F:a*D,B=J*V,L=null!=(null===(t=R.cta)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.cta_link);return(0,i.useEffect)((()=>{d.$.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-banner-a"]')))return;const n=e.querySelector(".whatmore-base");n&&(n.style.minHeight="0px")}))}),[]),(0,j.jsxs)("div",{ref:w,onClick:()=>{var e,t;(0,k.GF)({userInteractionType:M.K.BANNER_WIDGET_CLICKED,widgetSourceDetails:C,event:z[T]}),(0,u.hr)(I)&&L&&!(0,u.j1_)(I)&&window.open(null===(e=R.cta)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.cta_link,"_self")},style:{position:"relative",margin:"0 auto",width:(0,u.SJ)(I)?"100%":J,minHeight:(0,u.SJ)(I)?a*V:"",height:(0,u.SJ)(I)?"auto":B,borderWidth:(0,u.alU)(I),borderColor:(0,u.qPe)(I),overflow:"hidden",cursor:"pointer"},children:[(0,j.jsx)(y.Z,{height:"100%",width:"100%",url:N,isPlaying:m,event:R,isVideoMuted:s,setDuration:e.setDuration,source:E.j.BANNER}),(0,j.jsx)(Z,{isCTAPresent:L,events:z,activeEventIndex:T,setActiveEventIndex:P,event:R,mode:r,onMuteToggle:()=>l(!s),initialMuteState:s}),(0,u.j1_)(I)&&(0,j.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"portrait"===r?"12%":"20%"},className:"whatmore-ios-css-relative-fix",children:(0,j.jsx)("div",{children:(0,j.jsx)(S.Z,{event:R,cta:R.cta[0],fontFactor:.6})})})]})};const T=(0,s.Z)({key:"whatmore-css-bv"});var P=function(e){const{whatmoreRootId:t}=(0,i.useContext)(d.I),[n,s]=(0,i.useState)(0),c=e.events,[h,p]=(0,i.useState)(-1);let u;return(0,i.useEffect)((()=>{u&&clearInterval(u);const e="video"===c[n].event_type,t=e?1e3*h:6e3;return e?-1!=h&&(u=setInterval((()=>{s((e=>e===c.length-1?0:e+1))}),t)):u=setInterval((()=>{s((e=>e===c.length-1?0:e+1))}),t),()=>{clearInterval(u)}}),[h,n]),delete o.ZP.styles.global,(0,j.jsx)(a.C,{value:T,children:(0,j.jsx)("div",{children:(0,j.jsx)(r.x,{theme:o.ZP,cssVarsRoot:t,resetCSS:!1,children:(0,j.jsx)(l.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:(0,j.jsx)(z,{activeEventIndex:n,events:c,setActiveEventIndex:s,setDuration:p})})})})})}},57931:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),o=n(46417),a=(0,r.default)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");t.Z=a},59018:function(e,t,n){var i=n(95318);t.Z=void 0;var r=i(n(45045)),o=n(46417),a=(0,r.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=a}}]);