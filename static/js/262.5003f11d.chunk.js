"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262],{3262:function(t,e,r){r.r(e),r.d(e,{initiateCartSliderEvent:function(){return n}});var o=r(1745);const n=async function(t,e,r,n,i="",u="",a="",c="",d="",l=""){if("STRNV8MHJTF"!=t&&"STR6HU283UZ"!=t&&"STR9T3LLEJB"!=t&&"STRWJMIOJNX"!=t&&"STRUDQ36YAC"!=t&&"STR1D5ONOZX"!=t){var s;await fetch("https://"+window.location.hostname+"/cart.js",{cache:"reload"}).then((t=>t.json()));fetch(null===l||void 0===l||null===(s=l.split("?"))||void 0===s?void 0:s[0]).then((t=>t.text())).then((t=>{var e,r;const n=(new DOMParser).parseFromString(t,"text/html");let l=Array.from(n.querySelectorAll("product-form")).find((t=>t.querySelector('form > input[name="id"]')&&t.querySelector('form button[type="submit"]')));if(l||(l=Array.from(n.querySelectorAll('form[action*="/cart/add"]')).find((t=>t.querySelector('button[type="submit"]')&&t.querySelector(':scope > input[name="id"]')))),!l&&(l=Array.from(n.querySelectorAll('form[action*="/cart/add"]')).find((t=>t.querySelector('button[type="submit"]'))),!l.querySelector(':scope > input[name="id"]'))){const t=document.createElement("input");t.type="hidden",t.name="id",t.value=i,l.appendChild(t)}sessionStorage.setItem("wht_atc_form",l.outerHTML),l.hasAttribute("data-product-id")&&l.setAttribute("data-product-id",u),l.hasAttribute("data-product-variant-id")&&l.setAttribute("data-product-variant-id",i);const s=l.querySelector('input[name="id"]');s&&(s.setAttribute("value",i),s.hasAttribute("disabled")&&s.removeAttribute("disabled"));const m=l.querySelector('input[name="product-id"]');m&&m.setAttribute("value",u);const p=document.createElement("div");p.appendChild(l),document.body.appendChild(p),console.log(p,"formElement");const y=null===(e=Array.from((null===(r=document.querySelectorAll("product-form"))||void 0===r?void 0:r.length)>0?document.querySelectorAll("product-form"):document.querySelectorAll('form[action*="/cart/add"]')).find((t=>{const e=t.querySelector('input[name="id"]'),r=t.querySelector("product-form");return r&&r.getAttribute("data-product-variant-id")==i||e&&e.value==i})))||void 0===e?void 0:e.querySelector('button[type="submit"]');y&&y.click(),setTimeout((()=>{(0,o.js)().then((t=>t.json())).then((t=>{const e=t.items.find((t=>t.id==i)),r=e.key,n=e.quantity,u=e.properties;(0,o.CP)(r,n,u,a,c,d,!0,!0,!0)}))}),2e3)})),setTimeout(e,r)}else{console.log("Executing cart refresh script..");document.getElementById("whatsmorecart").value=Math.random()}}}}]);