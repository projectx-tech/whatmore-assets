"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[1362],{13972:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(99543),o=n(47313),r=n(32860),i=n(40499),l=n(54897),s=n(75160),c=n(49854),d=n(26967),u=n(68984),h=n(60058),p=n(24669),m=n(30941),g=n(30364),v=n(7300),S=n(86524),w=n(17643),y=n(50778),f=n(46417);const x=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(5855)]).then(n.bind(n,84095)))),I=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(5523)]).then(n.bind(n,75523)))),E=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(617)]).then(n.bind(n,23827)))),_=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(3591)]).then(n.bind(n,36071)))),j=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(3574)]).then(n.bind(n,61291)))),T=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(296)]).then(n.bind(n,73580)))),O=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245)]).then(n.bind(n,8933)))),b=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(3415)]).then(n.bind(n,84048)))),C=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(9757)]).then(n.bind(n,9085)))),L=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(4362)]).then(n.bind(n,94362)))),D=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(4658)]).then(n.bind(n,74658)))),W=o.lazy((()=>Promise.all([n.e(2131),n.e(2739),n.e(8502),n.e(3583),n.e(2703),n.e(7450),n.e(6949),n.e(229),n.e(6981),n.e(8932),n.e(2374),n.e(839),n.e(6333),n.e(9755),n.e(9356),n.e(2013),n.e(8394),n.e(4901),n.e(133),n.e(1521),n.e(3669),n.e(9969),n.e(9484),n.e(7268),n.e(1142),n.e(6525),n.e(1856),n.e(7357),n.e(8604),n.e(6848),n.e(971),n.e(5356),n.e(4981),n.e(3853),n.e(5113),n.e(1537),n.e(7359),n.e(2688),n.e(79),n.e(670),n.e(9824),n.e(8013),n.e(8342),n.e(3046),n.e(1655),n.e(8817),n.e(3398),n.e(3596),n.e(1343),n.e(8080),n.e(352),n.e(4814),n.e(7187),n.e(1929),n.e(3930),n.e(1915),n.e(3615),n.e(1752),n.e(1983),n.e(824),n.e(9001),n.e(9164),n.e(1446),n.e(1478),n.e(731),n.e(4404),n.e(4958),n.e(5504),n.e(1942),n.e(6978),n.e(8012),n.e(245),n.e(618)]).then(n.bind(n,88767))));var P=function(e){const[t]=(0,a.j1)("isInDesignMode"),[n]=(0,a.j1)("isDemoBrand"),[P]=(0,a.j1)("whatmoreTopBottomPadding"),[k]=(0,a.j1)("whatmoreStoriesTopBottomPadding"),{whatmoreIsStoriesTemplate:M}=(0,o.useContext)(g.I),[q]=(0,a.j1)("whatmoreShopId"),{whatmoreEventsBrowsingTemplate:G}=(0,o.useContext)(g.I),R=(0,a.MO)("isLandingSharedLink"),z=(0,a.MO)("whatmoreShareTemplateId"),K=(0,a.MO)("whatmoreShareStoryId"),V=(0,a.MO)("whatmoreShareEventId"),[A,F]=(0,o.useState)(-1),[B,N]=(0,o.useState)(null);let H=e.events,U=[];if("template-banner-a"!==G){let e=0;for(let t=0;t<(null===H||void 0===H?void 0:H.length);t++){var Y,J,Z,X;const n=(null===H||void 0===H||null===(Y=H[t])||void 0===Y||null===(J=Y.products)||void 0===J?void 0:J.length)>0&&(null===H||void 0===H||null===(Z=H[t])||void 0===Z||null===(X=Z.products)||void 0===X?void 0:X.every((e=>"oos"===(null===e||void 0===e?void 0:e.product_status))));if(!(0,v.B6)(H[t])&&!(0,v.WJ)(H[t])||n){if((0,v.yC)(null===H||void 0===H?void 0:H[t])){var{status:Q,bannerText:$,timeToStartInMins:ee}=l.Z.getEventStatus(H[t]);Q.name===i.Z.LIVE.name&&(U.push({...null===H||void 0===H?void 0:H[t],index:e}),e++)}}else U.push({...null===H||void 0===H?void 0:H[t],index:e}),e++}}var te=null;function ne(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,u.KE)()&&!a&&(0,h.QV)(),t||n||(async()=>{const t=te[e].events[0];(0,s.wh)(t),(0,p.Tc)(q,r.Xh,r.OW),(0,d.H4)(t.event_id,t.products,"homepage","stories")})();var i=0;null!=o&&te[e].events.map(((e,t)=>{e.event_id==o&&(i=t)})),F(i),N(e)}function ae(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,u.KE)()&&!a&&(0,h.QV)(),(0,v.B6)(e)||(0,v.WJ)(e))return t||n||(async()=>{(0,s.wh)(e),(0,p.Tc)(q,r.Xh,r.pR),(0,d.H4)(e.event_id,e.products,"homepage","carousel")})(),void F(e.index);const o=20;var{status:c,bannerText:m,timeToStartInMins:g}=l.Z.getEventStatus(e);g<=o&&c.name!==i.Z.LIVE.name?console.debug(" TODO : show toast on upcoming live event."):F(e.index)}function oe(e){return(0,f.jsx)(f.Fragment,{})}return M&&!te&&(te=function(e){var t=e.reduce(((e,t,n)=>{var a=t.storyset_id;return a in e?(e[a].total_events=e[a].total_events+1,e[a].events.push(t)):e[a]={id:t.storyset_id,title:t.storyset_name,thumbnail_image:t.storyset_thumbnail_image,total_events:1,start_event_index:n,events:[t]},e}),{}),n=Object.values(t);return n.sort(((e,t)=>e.start_event_index-t.start_event_index)),n}(U)),(0,o.useEffect)((()=>{R&&G==(0,S.zv)(z)&&(null!=K&&M?te.forEach(((e,t)=>{K==e.id&&ne(t,!0,V)})):null!=V&&H.forEach(((e,t)=>{V==e.event_id&&ae(e,!0)})))}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:{marginTop:(M?k:P)+"px",marginBottom:(M?k:P)+"px"},children:"template-b"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(x,{events:U,onClick:ae,heading:e.heading})}):"template-a-1"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(I,{events:U,onClick:ae,heading:e.heading})}):"template-feed-a"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(L,{events:U,onClick:ae,heading:e.heading})}):"template-collections-a"===G||"template-c"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(E,{events:U,index:A,setScreen:F,onClick:ae,heading:e.heading})})}):"template-collections-b"===G||"template-d"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(_,{events:U,index:A,setScreen:F,onClick:ae,heading:e.heading})})}):"template-collections-c"===G||"template-e"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(j,{events:U,index:A,setScreen:F,onClick:ae,heading:e.heading})})}):"template-collections-d"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(x,{events:U,index:A,setScreen:F,onClick:ae,heading:e.heading})})}):"template-collections-e"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(b,{events:U,index:A,setScreen:F,onClick:ae,heading:e.heading})})}):"template-collections-stories"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(W,{events:U,index:A,setScreen:F,onClick:ae,heading:e.heading})})}):"template-f"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(C,{events:U,onClick:ae,heading:e.heading})})}):"template-banner-a"===G?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.BANNER_WIDGET_VIEW,event:H[0],triggerFlag:!t&&!n,children:(0,f.jsx)(D,{events:H})})}):M?(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.STORIES_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(T,{eventsStories:te,onClick:ne,template:G})})}):(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,f.jsx)(b,{events:U,onClick:ae,heading:e.heading})})})}),-1==A||-2==A?(0,f.jsx)(oe,{}):(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(w.u,{userInteractionType:y.K.EVENT_VIEW,event:H[A],productList:H[A].products,cta:H[A].cta,triggerFlag:!t&&!n,children:(0,f.jsx)(O,{events:U,index:A,onBack:function(e){(0,c.n2L)(q)&&(0,a.MO)("whatmoreAddedToCart")&&(0,m.D)(q,(()=>{}),100,window.location.hostname),F(-1)},slideDirection:M||"horizontal"===(0,c.e8z)(q)?"horizontal":"vertical",eventsStories:te,initialStoryIndex:B,template:G})})})]})};const k=function(e,t,n){const o=(0,a.MO)("whatmoreShopId");var r=t.reduce(((e,t,n)=>(t.products.map((e=>e.client_product_id)).forEach((t=>{t in e||(e[t]=!0)})),e)),{}),i=Object.keys(r);if("60960964855"==o&&"undefined"!=typeof fera&&"function"===typeof fera.getRatings){var l={};fera.getRatings(i,(e=>{new Promise(((t,n)=>{e.forEach((e=>{l[e.external_product_id]={avgRating:e.average,totalRatings:e.count}})),t(l)})).then((e=>n(e)))}))}if("23114481744"==o){const e="1e6MQXxzYR19mpw9Km6Dcm86";l={};fetch("https://api.juniphq.com/v1/products?filter[remote_ids]="+i.toString(),{headers:{"Junip-Store-Key":e}}).then((e=>e.json())).then((e=>(e.products.forEach((e=>{l[e.remote_id]={avgRating:parseFloat(e.rating_average).toFixed(1),totalRatings:e.rating_count}})),l))).then((e=>n(e))).catch((e=>console.error(e)))}};var M=n(43388),q=n(7381),G=n(47376),R=n(27008);var z=function(e){const[t,n]=(0,o.useState)(),[i,l]=(0,o.useState)(),{whatmoreIsStoriesTemplate:s}=(0,o.useContext)(g.I),{whatmoreIsCollectionsTemplate:p}=(0,o.useContext)(g.I),{whatmoreIsBannerTemplate:m}=(0,o.useContext)(g.I),[v]=(0,a.j1)("whatmoreShopId"),[w]=(0,a.j1)("whatmoreCollectionId"),x=(0,a.MO)("whatmoreLandingLocationType"),I=(0,a.MO)("whatmoreLoggingActive"),{whatmoreWidgetSourceDetails:E}=(0,o.useContext)(g.I),{whatmoreCollectionUrl:_}=(0,o.useContext)(g.I),j=(0,c.cZT)(v)?(0,c._uv)(v)?_:window.location.href.split(/[?#]/)[0]:w,[T,O]=(0,a.j1)("productRatings"),[b,C]=(0,o.useState)(!1);var L=(0,c.efR)(v)?r.Dm+"/v2/events/":r.Gc+"/v2/events/",D=(0,c.efR)(v)?r.Dm+"/get_eventset/":r.Gc+"/get_eventset/",W=(0,c.efR)(v)?r.Dm+"/v2/collection":r.Gc+"/v2/collection",z=(0,c.efR)(v)?r.Dm+"/v2/brand/"+v+"/product-events":r.Gc+"/v2/brand/"+v+"/product-events",K=e.shopId,V="live,upcoming";return(0,o.useEffect)((()=>{(0,d.hb)();const e=()=>{const e="_whatmore_bulk_events",t=JSON.parse(localStorage.getItem(e))||[];t&&t.length>0&&((0,R.K)(t),localStorage.removeItem(e))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,o.useEffect)((()=>{null==t||0==t.length||i||!(0,u.KE)()||(0,a.MO)("whatmoreVideoPlayerPoolInitiated")||(0,h.b5)(h.UD)}),[t]),(0,o.useEffect)((()=>{var e;if(x.startsWith("product")){var t=(0,a.MO)("whatmoreProductId");t=(0,c.iXA)(v)?function(e){return e.split(/[?#]/)[0]}(window.location.href):t,e=z.toString()+"?client_product_id="+t.toString()+"&status="+V.toString()+"&event_type=video"}else if(p||"invalid-url"!==_)e=W.toString()+"?store_id="+K.toString()+"&client_collection_id="+j;else if(m){const t=S.ls,n=(0,S.H1)(x);e=D.toString()+K.toString()+"?eventset_type="+t+"&source="+n+"&source_id="+v}else e=L.toString()+K.toString()+"?status="+V.toString()+"&is_active="+"true".toString()+(s?"&template_type=stories":"");fetch(e).then((e=>e.json())).then((e=>{if(m){const t=S.ls;return(0,M.OC)(e,t)}return(0,M.kW)(e,p||"invalid-url"!==_)})).then((e=>(I&&console.debug("initial received events size : "+e.length),s||m?e:(0,M.e8)(e,K)))).then((e=>(null!=e&&0!=e.length&&(0,c.LUY)(v)&&function(e,t,n){const o=setInterval((()=>{null===(0,a.MO)("productRatings")&&k(e,t,n)}),1e3);setTimeout((()=>{clearInterval(o)}),1e4)}(v,e,(e=>{O(e)})),e))).then((e=>{null==e||0==e.length||s||m||(0,c.NOv)(K,e),n(e),C(!0)})).catch((e=>{l(e.message)}))}),[]),(0,o.useEffect)((()=>{"index"===x?t&&t.length>0&&(0,G.PB)({userInteractionType:y.K.HOMEPAGE_VISITED,widgetSourceDetails:E}):"collection"===x&&(t&&t.length>0||(0,c.miB)(v))&&(0,G.PB)({userInteractionType:y.K.COLLECTION_PAGE_VISITED,widgetSourceDetails:E})}),[t]),(b&&(null==t||0==t.length)||i)&&g.$.forEach((e=>{var t,n,a,o;const r=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-stories-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-stories-a"]'),i=null!==(n=e.querySelector('.whatmore-template-type[data-wh="template-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-e"]'))&&void 0!==n?n:e.querySelector('.whatmore-template-type[data="template-a"]')||e.querySelector('.whatmore-template-type[data="template-b"]')||e.querySelector('.whatmore-template-type[data="template-f"]')||e.querySelector('.whatmore-template-type[data="template-e"]'),l=null!==(a=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-c"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-stories"]'))&&void 0!==a?a:e.querySelector('.whatmore-template-type[data="template-collections-a"]')||e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-collections-c"]')||e.querySelector('.whatmore-template-type[data="template-collections-stories"]'),s=null!==(o=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==o?o:e.querySelector('.whatmore-template-type[data="template-banner-a"]'),c=e;(s||l||i||r)&&(i&&c||r&&c||s&&c||l&&c)&&(c.style.minHeight="0px")})),null==t||0==t.length||i?(0,f.jsx)("div",{}):(I&&(0,q.EI)(t),function(e){if(null!=e){var t=0;e.forEach((e=>{e.index=t++}))}}(t),I&&console.debug("final transformed events data : "+JSON.stringify(t)),I&&console.debug("valid events size : "+t.length),(0,f.jsx)(P,{heading:e.heading,events:t}))},K=n(23933);var V=function(e){const[t]=(0,a.j1)("isInDesignMode"),[n]=(0,a.j1)("isDemoBrand"),[i]=(0,a.j1)("whatmoreShopId"),[l]=(0,a.j1)("whatmoreHeading"),[s,d]=(0,o.useState)(["initial",window.pageYOffset]),[u,h]=(0,o.useState)(!1),m=(0,a.MO)("isLandingSharedLink");(0,o.useEffect)((()=>{if((0,p.ll)(i),!(0,c.wc0)(i))return;let e=window.pageYOffset,t=!1;const n=()=>{const n=window.pageYOffset;var a,o;Math.abs(n-e)<100?t=!1:(o=!0,d(a=[n>e?"scrolled-down":"scrolled-up",n]),a[1]>100&&h(o),e=n>0?n:0,t=!1)},a=()=>{t||(window.requestAnimationFrame(n),t=!0)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]);const[g,v,S]=(0,K.YD)({triggerOnce:!0});return(0,f.jsx)("div",{ref:g,style:{display:"block"},children:u||v||m||!(0,c.wc0)(i)?t||n?(0,f.jsx)(z,{heading:l,shopId:r.aA}):(0,f.jsx)(z,{heading:l,shopId:i}):(0,f.jsx)("div",{})})}}}]);