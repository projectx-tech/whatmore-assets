"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[760],{8289:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var o=n(5830),i=n(9950),a=n(964),r=n(140),l=n(1348),s=n(4533),d=n(6613),c=n(1085),u=n(3330),p=n(852),m=n(4737),h=n(2039),v=n(4833),g=n(2979),y=n(6157),S=n(5100),_=n(8945),w=n(9821),f=n(8618),x=n(6692),I=n(3080),E=n(4414);const O=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(669),n.e(665)]).then(n.bind(n,8582)))),j=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(296),n.e(620),n.e(116)]).then(n.bind(n,7144)))),T=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(920),n.e(423)]).then(n.bind(n,517)))),C=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(920),n.e(412)]).then(n.bind(n,7646)))),b=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(221)]).then(n.bind(n,5451)))),L=i.lazy((()=>n.e(491).then(n.bind(n,3319)))),D=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(378),n.e(34),n.e(987),n.e(669),n.e(217),n.e(956)]).then(n.bind(n,4217)))),P=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(669),n.e(620),n.e(474)]).then(n.bind(n,6945)))),N=i.lazy((()=>Promise.all([n.e(714),n.e(296),n.e(669),n.e(485)]).then(n.bind(n,9418)))),q=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(676)]).then(n.bind(n,3369)))),k=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(378),n.e(296),n.e(987),n.e(669),n.e(891)]).then(n.bind(n,7178)))),A=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(296),n.e(669),n.e(933)]).then(n.bind(n,6989)))),W=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(378),n.e(34),n.e(987),n.e(669),n.e(217),n.e(806)]).then(n.bind(n,3278)))),F=i.lazy((()=>Promise.all([n.e(714),n.e(526),n.e(879),n.e(296),n.e(987),n.e(1)]).then(n.bind(n,4596))));var $=function(e){const[t]=(0,o.QN)("isInDesignMode"),[n]=(0,o.QN)("isDemoBrand"),[$]=(0,o.QN)("whatmoreTopBottomPadding"),[R]=(0,o.QN)("whatmoreStoriesTopBottomPadding"),{whatmoreIsStoriesTemplate:B,whatmoreIsCollectionsTemplate:z}=(0,i.useContext)(m.B),[M]=(0,o.QN)("whatmoreShopId"),[G]=(0,o.QN)("whatmoreLandingLocationType"),{whatmoreEventsBrowsingTemplate:V}=(0,i.useContext)(m.B),K=(0,o.Xd)("isLandingSharedLink"),X=(0,o.Xd)("whatmoreShareTemplateId"),H=(0,o.Xd)("whatmoreShareStoryId"),Q=(0,o.Xd)("whatmoreShareEventId"),{whatmoreWidgetSourceDetails:J,whatmoreUserInfo:U}=(0,i.useContext)(m.B),Y=K&&V===(0,v.Mm)(X),[Z,ee]=(0,i.useState)(Y);var[te,ne,oe,ie]=(0,I.A)();const[ae,re]=(0,i.useState)(-1),[le,se]=(0,i.useState)(null);let de=e.events,ce=null===e||void 0===e?void 0:e.allEvents,ue=[],pe=[];if("template-banner-a"!==V){let e=0;for(let t=0;t<(null===de||void 0===de?void 0:de.length);t++){var me,he;((0,h.ij)(de[t])||(0,h.Il)(de[t]))&&(null===(me=null===(he=de[t])||void 0===he?void 0:he.in_stock)||void 0===me||me||(0,l.xku)(M))&&(ue.push({...null===de||void 0===de?void 0:de[t],index:e}),e++)}for(let t=0;t<(null===ce||void 0===ce?void 0:ce.length);t++){var ve,ge;!(0,h.ij)(null===ce||void 0===ce?void 0:ce[t])&&!(0,h.Il)(null===ce||void 0===ce?void 0:ce[t])||null!==(ve=null===ce||void 0===ce||null===(ge=ce[t])||void 0===ge?void 0:ge.in_stock)&&void 0!==ve&&!ve||(pe.push({...null===ce||void 0===ce?void 0:ce[t],index:e}),e++)}}let ye=[...ue,...pe];var Se=null;B&&!Se&&(Se=function(e){var t=e.reduce(((e,t,n)=>{var o,i=t.storyset_id;return i in e?(e[i].total_events=e[i].total_events+1,e[i].events.push(t)):e[i]={id:t.storyset_id,title:t.storyset_name,thumbnail_image:t.storyset_thumbnail_image,total_events:1,start_event_index:n,storyset_dynamic_thumbnail:null!==(o=null===t||void 0===t?void 0:t.storyset_dynamic_thumbnail)&&void 0!==o&&o,events:[t]},e}),{}),n=Object.values(t);return n.sort(((e,t)=>e.start_event_index-t.start_event_index)),n}(ue));const _e=J.landingLocationType,we=J.templateType;function fe(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,d.MN)()&&(0,w._)()&&!o&&(0,c.bo)(),t||n||(async()=>{const t=Se[e].events[0],n=(0,v.Wd)(_e)+(0,v.gf)(we)+(null!==t&&void 0!==t&&t.isRelatedEvent?"R":"E")+"_"+(null===t||void 0===t?void 0:t.event_id);(0,r.lB)(t),(0,u.Si)(M,a.TB,a.OL),(0,s.Ch)(t.event_id,t.products,"homepage","stories",n,null===t||void 0===t?void 0:t.location,null===U||void 0===U?void 0:U.userType)})();var l=0;null!=i&&Se[e].events.map(((e,t)=>{e.event_id==i&&(l=t)})),re(l),se(e)}async function xe(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,d.MN)()&&(0,w._)()&&!o&&await(0,c.bo)(),re(e.index),((0,h.ij)(e)||(0,h.Il)(e))&&(t||n||(async()=>{const t=(0,v.Wd)(_e)+(0,v.gf)(we)+(null!==e&&void 0!==e&&e.isRelatedEvent?"R":"E")+"_"+(null===e||void 0===e?void 0:e.event_id);(0,r.lB)(e),(0,u.Si)(M,a.TB,a.Dk),(0,s.Ch)(e.event_id,e.products,"homepage","carousel",t)})())}function Ie(e){return(0,E.jsx)(E.Fragment,{})}return(0,i.useEffect)((()=>{if(Y)if((0,_.H)("whatmore-video-player",(()=>{ee(!1)})),null!=H&&B){const e=Se.find((e=>H==e.id));if(e)return void fe(Se.indexOf(e),!0,Q)}else if(null!=Q){const e=ue.find((e=>Q==e.event_id));if(e)return void xe(e,!0)}}),[]),(0,E.jsxs)(E.Fragment,{children:[Z&&(0,E.jsx)(S.A,{}),(0,E.jsxs)("div",{className:"whatmore-widget-container",style:{height:"100%",marginTop:(B?R:$)+"px",marginBottom:(B?R:$)+"px"},children:["template-b"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(O,{events:ue,onClick:xe,heading:e.heading})})}):"template-a-1"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(j,{events:ue,onClick:xe,heading:e.heading})}):"template-feed-a"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(A,{events:ue,onClick:xe,heading:e.heading})}):"template-collections-a"===V||"template-c"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(T,{events:ue,index:ae,setScreen:re,onClick:xe,heading:e.heading})})}):"template-collections-b"===V||"template-d"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(C,{events:ue,index:ae,setScreen:re,onClick:xe,heading:e.heading})})}):"template-collections-c"===V||"template-e"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(b,{events:ue,index:ae,setScreen:re,onClick:xe,heading:e.heading})})}):"template-collections-d"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(O,{events:ue,index:ae,setScreen:re,onClick:xe,heading:e.heading})})}):"template-collections-e"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(P,{events:ue,index:ae,setScreen:re,onClick:xe,heading:e.heading})})}):"template-collections-stories"===V||"template-stories"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.COLLECTION_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(F,{events:ue,index:ae,setScreen:re,onClick:xe,heading:e.heading})})}):"template-f"===V||"template-collections-f"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(N,{events:ue,onClick:xe,heading:e.heading})})}):"template-g"===V||"template-collections-g"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(q,{events:ue,onClick:xe,heading:e.heading})})}):"template-h"===V||"template-collections-h"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(k,{events:ue,onClick:xe,heading:e.heading})})}):"template-banner-a"===V?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.BANNER_WIDGET_VIEW,event:de[0],triggerFlag:!t&&!n,children:(0,E.jsx)(W,{events:de})})}):B?(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.STORIES_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(L,{eventsStories:Se,onClick:fe,template:V})})}):(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.HOMEPAGE_CAROUSEL_WIDGET_VIEW,triggerFlag:!t&&!n,children:(0,E.jsx)(P,{events:ue,onClick:xe,heading:e.heading})})}),(0,f.t)()&&!B&&!z&&G.includes("index")&&(0,E.jsx)("div",{className:"wht-power-label",style:{display:"flex",justifyContent:"center",padding:"8px 0px 16px 0"},children:(0,E.jsx)(x.A,{isOutside:!0,brandName:(0,l.RUg)(M),color:"#343434",fontSize:.035*ie})})]}),-1==ae||-2==ae?(0,E.jsx)(Ie,{}):(0,E.jsx)(i.Suspense,{children:(0,E.jsx)(g.S,{userInteractionType:y.O.EVENT_VIEW,event:de[ae],productList:de[ae].products,cta:de[ae].cta,triggerFlag:!t&&!n,children:(0,E.jsx)(D,{events:ye,index:ae,onBack:function(e){(0,l.ei)(M)&&(0,o.Xd)("whatmoreAddedToCart")&&(0,p.H)(M,(()=>{}),100,window.location.hostname,e),re(-1),ee(!1)},slideDirection:B||"horizontal"===(0,l.br0)(M)?"horizontal":"vertical",eventsStories:Se,initialStoryIndex:le,template:V})})})]})};const R=function(e,t,n){const i=(0,o.Xd)("whatmoreShopId");var a=t.reduce(((e,t,n)=>(t.products.map((e=>e.client_product_id)).forEach((t=>{t in e||(e[t]=!0)})),e)),{}),r=Object.keys(a);if("60960964855"==i&&"undefined"!=typeof fera&&"function"===typeof fera.getRatings){var l={};fera.getRatings(r,(e=>{new Promise(((t,n)=>{e.forEach((e=>{l[e.external_product_id]={avgRating:e.average,totalRatings:e.count}})),t(l)})).then((e=>n(e)))}))}if("23114481744"==i){const e="1e6MQXxzYR19mpw9Km6Dcm86";l={};fetch("https://api.juniphq.com/v1/products?filter[remote_ids]="+r.toString(),{headers:{"Junip-Store-Key":e}}).then((e=>e.json())).then((e=>(e.products.forEach((e=>{l[e.remote_id]={avgRating:parseFloat(e.rating_average).toFixed(1),totalRatings:e.rating_count}})),l))).then((e=>n(e))).catch((e=>console.error(e)))}};var B=n(7802),z=n(6641),M=n(1351),G=n(4820),V=n(5873),K=n(6018);var X=function(e){const[t,n]=(0,i.useState)(),[r,u]=(0,i.useState)([]),[p,h]=(0,i.useState)(),{whatmoreIsStoriesTemplate:g}=(0,i.useContext)(m.B),{whatmoreIsCollectionsTemplate:S}=(0,i.useContext)(m.B),{whatmoreIsBannerTemplate:_}=(0,i.useContext)(m.B),[f]=(0,o.QN)("whatmoreShopId"),[x]=(0,o.QN)("whatmoreCollectionId"),I=(0,o.Xd)("whatmoreLandingLocationType"),O=(0,o.Xd)("whatmoreLoggingActive"),{whatmoreWidgetSourceDetails:j}=(0,i.useContext)(m.B),{whatmoreUserInfo:T,whatmoreIsPreviewMode:C}=(0,i.useContext)(m.B),b=(0,o.Xd)("whatmoreCollectionUrl"),[L]=(0,o.QN)("isInDesignMode"),[D]=(0,o.QN)("isDemoBrand"),P=(0,l.mJ$)(f)?(0,l.jLA)(f)?b:window.location.href.split(/[?#]/)[0]:x,[N,q]=(0,o.QN)("productRatings"),[k,A]=(0,i.useState)(!1);var W=(0,l.SOt)(f)?a.aD+"/v2/events/":a.$$+"/v2/events/",F=(0,l.SOt)(f)?a.aD+"/v3/events/":a.$$+"/v3/events/",X=(0,l.SOt)(f)?a.aD+"/v4/events/":a.$$+"/v4/events/",H=(0,l.SOt)(f)?a.aD+"/v5/events/":a.$$+"/v5/events/",Q=(0,l.SOt)(f)?a.aD+"/v6/events/":a.$$+"/v6/events/",J=(0,l.SOt)(f)?a.aD+"/get_eventset/":a.$$+"/get_eventset/",U=(0,l.SOt)(f)?a.aD+"/v2/collection":a.$$+"/v2/collection",Y=(0,l.SOt)(f)?a.aD+"/v3/collection":a.$$+"/v3/collection",Z=(0,l.SOt)(f)?a.aD+"/v4/collection":a.$$+"/v4/collection",ee=(0,l.SOt)(f)?a.aD+"/v2/brand/"+f+"/product-events":a.$$+"/v2/brand/"+f+"/product-events",te=e.shopId,ne="live,upcoming",oe="true";return(0,i.useEffect)((()=>{(0,s.wm)();const e=()=>{const e="_whatmore_bulk_events",t=JSON.parse(localStorage.getItem(e))||[];t&&t.length>0&&((0,G.u)(t),localStorage.removeItem(e))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,i.useEffect)((()=>{null!=t&&0!=t.length&&!p&&(0,d.MN)()&&!(0,o.Xd)("whatmoreVideoPlayerPoolInitiated")&&(0,w._)()&&(0,c.Pc)(c.F5)}),[t]),(0,i.useEffect)((()=>{var e;if(I.startsWith("product"))if((0,l.vvU)(f))e=W.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+oe.toString()+(g?"&template_type=stories":"");else{var t=(0,o.Xd)("whatmoreProductId");t=(0,l.BcY)(f)?function(e,t){return"STRQMPNF7QK"==t?encodeURIComponent(e):e.split(/[?#]/)[0]}(window.location.href,f):t,e=ee.toString()+"?client_product_id="+t.toString()+"&status="+ne.toString()+"&event_type=video"}else if(S||"invalid-url"!==b)e=(0,l.JwJ)(f)?`${Y.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==I&&(0,l.FKG)(f).length>0?(0,l.FKG)(f)[0]:P}`:"78232846646"==f?`${Z.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==I&&(0,l.FKG)(f).length>0?(0,l.FKG)(f)[0]:P}`:`${U.toString()}?store_id=${te.toString()}&client_collection_id=${"index"==I&&(0,l.FKG)(f).length>0?(0,l.FKG)(f)[0]:P}`;else if(_){const t=v.Jh,n=(0,v.t6)(I);e=J.toString()+te.toString()+"?eventset_type="+t+"&source="+n+"&source_id="+f}else{var i,a,r,d;if(("72201044272"==f||"2665447536"==f&&C)&&!g)e=F.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+oe.toString()+"&latitude="+(null!==(i=null===(a=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===a?void 0:a.latitude)&&void 0!==i?i:"")+"&longitude="+(null!==(r=null===(d=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===d?void 0:d.longitude)&&void 0!==r?r:"")+"&user_type="+(null!==T&&void 0!==T&&T.userType?"olduser":"newuser");else if((0,l.JwJ)(f)&&!g)e=X.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+oe.toString();else if("78232846646"==f&&C){var c,p,m,y;e=Q.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+oe.toString()+"&latitude="+(null!==(c=null===(p=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===p?void 0:p.latitude)&&void 0!==c?c:"")+"&longitude="+(null!==(m=null===(y=JSON.parse(localStorage.getItem("_user_wh_lc")))||void 0===y?void 0:y.longitude)&&void 0!==m?m:"")+"&user_type="+(null!==T&&void 0!==T&&T.userType?"olduser":"newuser")}else e="78232846646"==f?H.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+oe.toString():W.toString()+te.toString()+"?status="+ne.toString()+"&is_active="+oe.toString()+(g?"&template_type=stories":"")}fetch(e).then((e=>e.json())).then((e=>{var t;if(_){const t=v.Jh;return(0,B.Po)(e,t)}return(0,l.JwJ)(f)&&(null===e||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.length)>0&&(null==localStorage.getItem("_whatmore_qview_index")&&localStorage.setItem("_whatmore_qview_index",0),(0,s.d3)(null===e||void 0===e?void 0:e.questions)),(null===e||void 0===e?void 0:e.all_events)&&u(null===e||void 0===e?void 0:e.all_events),(0,B.Np)(e,S||"invalid-url"!==b)})).then((e=>(O&&console.debug("initial received events size : "+e.length),g||S||_?e:(0,B.zJ)(e,te)))).then((e=>(("28849832033"===f||"85317058852"===f&&Array.isArray(e))&&(e=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(e)),null!=e&&0!=e.length&&(0,l.WiD)(f)&&function(e,t,n){const i=setInterval((()=>{null===(0,o.Xd)("productRatings")&&R(e,t,n)}),1e3);setTimeout((()=>{clearInterval(i)}),1e4)}(f,e,(e=>{q(e)})),e))).then((e=>{(D||L)&&(null==e||e&&0==(null===e||void 0===e?void 0:e.length))?n(g?K.Yo:_?K.N9:K.uG):n(e),A(!0)})).catch((e=>{h(e.message),A(!0)}))}),[]),(0,i.useEffect)((()=>{"index"===I?t&&t.length>0&&(0,M.yP)({userInteractionType:y.O.HOMEPAGE_VISITED,widgetSourceDetails:j}):"collection"===I&&(t&&t.length>0||(0,l.BZ$)(f))&&(0,M.yP)({userInteractionType:y.O.COLLECTION_PAGE_VISITED,widgetSourceDetails:j})}),[t]),k&&(null==t||0==t.length||p)&&V.Sn.forEach((e=>{var t,n,o,i;const a=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-stories-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-stories-a"]'),r=null!==(n=e.querySelector('.whatmore-template-type[data-wh="template-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-feed-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-a-1"]')||e.querySelector('.whatmore-template-type[data-wh="template-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-h"]'))&&void 0!==n?n:e.querySelector('.whatmore-template-type[data="template-a"]')||e.querySelector('.whatmore-template-type[data="template-b"]')||e.querySelector('.whatmore-template-type[data="template-f"]')||e.querySelector('.whatmore-template-type[data="template-stories"]')||e.querySelector('.whatmore-template-type[data="template-e"]')||e.querySelector('.whatmore-template-type[data="template-a-1"]')||e.querySelector('.whatmore-template-type[data="template-g"]')||e.querySelector('.whatmore-template-type[data="template-h"]'),l=null!==(o=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-c"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-d"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-e"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-f"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-g"]')||e.querySelector('.whatmore-template-type[data-wh="template-collections-h"]'))&&void 0!==o?o:e.querySelector('.whatmore-template-type[data="template-collections-a"]')||e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-collections-c"]')||e.querySelector('.whatmore-template-type[data="template-collections-stories"]')||e.querySelector('.whatmore-template-type[data="template-collections-e"]')||e.querySelector('.whatmore-template-type[data="template-collections-d"]')||e.querySelector('.whatmore-template-type[data="template-collections-f"]')||e.querySelector('.whatmore-template-type[data="template-collections-g"]')||e.querySelector('.whatmore-template-type[data="template-collections-h"]'),s=null!==(i=e.querySelector('.whatmore-template-type[data-wh="template-banner-a"]'))&&void 0!==i?i:e.querySelector('.whatmore-template-type[data="template-banner-a"]'),d=e;if(g){const t=e.querySelector(".whatmore-shimmer-stories");t&&(t.style.display="none")}else if(!S){const t=e.querySelector(".loading-skeleton-wrapper");t&&(t.style.display="none")}(s||l||r||a)&&(r&&d||a&&d||s&&d||l&&d)&&(d.style.minHeight="0px")})),null==t||0==t.length||p?(0,E.jsx)("div",{}):(O&&(0,z.xv)(t),function(e){if(null!=e){var t=0;e.forEach((e=>{e.index=t++}))}}(t),O&&console.debug("final transformed events data : "+JSON.stringify(t)),O&&console.debug("valid events size : "+t.length),(0,E.jsx)($,{heading:e.heading,events:t,allEvents:r}))},H=n(6649);var Q=function(e){const[t]=(0,o.QN)("whatmoreShopId"),[n]=(0,o.QN)("whatmoreHeading"),[a,r]=(0,i.useState)(["initial",window.pageYOffset]),[s,d]=(0,i.useState)(!1),c="2665447536"==t?30:10,p=(0,o.Xd)("isLandingSharedLink");(0,i.useEffect)((()=>{if((0,u.hr)(t),!(0,l.FlM)(t))return;const e=c;let n=window.pageYOffset,o=!1;const i=()=>{const t=window.pageYOffset;var i,a;Math.abs(t-n)<e?o=!1:(a=!0,r(i=[t>n?"scrolled-down":"scrolled-up",t]),i[1]>c&&d(a),n=t>0?t:0,o=!1)},a=()=>{o||(window.requestAnimationFrame(i),o=!0)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]);const[m,h,v]=(0,H.A)({triggerOnce:!0});return(0,E.jsx)("div",{ref:m,style:{display:"block",height:"100%"},children:s||h||p||!(0,l.FlM)(t)||(0,l.wQ2)(t)?(0,E.jsx)(X,{heading:n,shopId:t}):(0,E.jsx)("div",{})})}},5100:function(e,t,n){var o=n(9950),i=n(1941),a=n(5830),r=n(4414);const l=o.memo((()=>{if(!(0,a.Xd)("isLandingSharedLink"))return(0,r.jsx)(r.Fragment,{});const[e]=(0,i.A)();return(0,r.jsxs)("div",{className:`shimmer-container ${e}`,children:["portrait"===e?(0,r.jsx)("div",{className:"shimmer-item portrait-full",children:(0,r.jsx)("div",{className:"shimmer-effect"})}):Array(3).fill().map(((e,t)=>(0,r.jsx)("div",{className:"shimmer-item landscape-item "+(1===t?"center-item":""),children:(0,r.jsx)("div",{className:"shimmer-effect"})},t))),(0,r.jsx)("style",{children:"\n                    .shimmer-container {\n                        display: flex;\n                        position: fixed;\n                        top: 0;\n                        left: 0;\n                        width: 100vw;\n                        height: 100vh;\n                        overflow-x: scroll;\n                        scroll-snap-type: x mandatory;\n                        scroll-behavior: smooth;\n                        z-index: 1000;\n                    }\n\n                    .portrait {\n                        justify-content: center;\n                        align-items: center;\n                        background: rgba(0, 0, 0, 0.6);\n                    }\n\n                    .landscape {\n                        justify-content: center;\n                        align-items: center;\n                        background: rgba(0, 0, 0, 0.8);\n                    }\n\n                    .shimmer-item {\n                        scroll-snap-align: start;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        position: relative;\n                        transition: transform 0.3s ease;\n                    }\n\n                    .portrait-full {\n                        width: 100vw;\n                        height: 100vh;\n                        margin: 0; \n                    }\n\n                    .landscape-item {\n                        width: 250px;\n                        height: 450px;\n                        background: #D3D3D3;\n                        border-radius: 8px;\n                        margin-left: -50px; \n                    }\n\n                    .center-item {\n                        width: 360px;\n                        height: 620px;\n                        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.5); \n                        z-index: 10; \n                    }\n\n                    .shimmer-effect {\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        width: 100%;\n                        height: 100%;\n                        background: linear-gradient(90deg, rgba(0, 0, 0, 0.3) 25%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.3) 75%);\n                        animation: shimmer 2s infinite;\n                        background-size: 200% 100%;\n                    }\n\n                    @keyframes shimmer {\n                        0% {\n                            background-position: -200% 0;\n                        }\n                        100% {\n                            background-position: 200% 0;\n                        }\n                    }\n                "})]})}));t.A=l},6692:function(e,t,n){var o=n(8397),i=n(1422),a=n(3247),r=n(5830),l=n(1348),s=n(1941),d=n(4414);t.A=function(e){var t,n;const c=null===(t=e.brandName)||void 0===t?void 0:t.replace(/\s+/g,"_"),u=(0,r.Xd)("whatmorePrimaryFont"),p=(0,r.Xd)("whatmoreShopId"),m=null!==(n=e.fontSize)&&void 0!==n?n:"8",[h]=(0,s.A)(),v="landscape"===h?"customer_referral_desktop":"customer_referral_mobile",g="60183543963"==p,y=(0,r.Xd)("whatmoreLandingLocationType"),S=e.isOutside||!y.includes("index")||p.includes("STR")?`https://www.whatmore.ai/shoppable-videos?utm_source=${c}&utm_medium=referral&utm_campaign=${v}`:`https://apps.shopify.com/whatmore-live?utm_source=${c}&utm_medium=referral&utm_campaign=${v}`,_=g?"https://www.letsmapit.in/":S;return(0,d.jsx)(o.N,{href:_,isExternal:!0,textDecoration:"none",children:(0,l.SGs)(p)&&(0,d.jsxs)(i.B,{direction:"row",justifyContent:"flex-start",alignItems:"center",width:"fit-content",spacing:"6px",paddingLeft:"2px",paddingRight:"2px",children:[(0,d.jsx)("p",{ref:t=>{var n;t&&(t.style.setProperty("font-family",u,"important"),t.style.setProperty("font-size",m+"px","important"),t.style.setProperty("text-align","center","important"),t.style.setProperty("color",null!==(n=e.color)&&void 0!==n?n:"white"))},children:g?"marketed by":"Powered By"}),g?(0,d.jsx)(a.az,{padding:"1px 4px",bg:"#fff",width:"fit-content",children:(0,d.jsx)("img",{src:"https://whatmore-other-assets.b-cdn.net/gudworld/Letsmapit_Logo.png",style:{objectFit:"contain",width:1.7*m,backgroundColor:"transparent",borderRadius:"0px"},alt:"letsmapit"})}):(0,d.jsxs)(a.az,{display:"flex",alignItems:"center",gap:"4px",children:[(0,d.jsx)("img",{src:"https://whatmore-other-assets.b-cdn.net/whatmore/new_whatmore_logo.png",style:{objectFit:"contain",width:1.3*m,backgroundColor:"transparent",borderRadius:"0px"},alt:"whatmore"}),(0,d.jsx)("p",{ref:t=>{var n;t&&(t.style.setProperty("font-family",u,"important"),t.style.setProperty("font-size",m+"px","important"),t.style.setProperty("text-align","center","important"),t.style.setProperty("color",null!==(n=e.color)&&void 0!==n?n:"white"))},children:"Whatmore"})]})]})})}},8945:function(e,t,n){function o(e,t){let n=0;let o=new MutationObserver((function(){document.querySelector("."+e)?(t(),o.disconnect()):0==n&&(n=1,setTimeout((()=>{t(),o.disconnect()}),8e3))}));o.observe(document.body,{childList:!0,subtree:!0})}n.d(t,{H:function(){return o}})},8618:function(e,t,n){n.d(t,{t:function(){return a}});var o=n(1348),i=n(5830);const a=()=>{const e=(0,i.Xd)("whatmoreShopId");return"Free"==(0,o.yt9)(e)}},3080:function(e,t,n){var o=n(1941);t.A=function(e){const[t,n,i]=(0,o.A)({disablePreview:!0});var a="landscape"==t?n*(9/16):i;if("landscape"==t){const e=.85;return[n,a,n*e,a*e]}return[n,a,n,a]}},1351:function(e,t,n){n.d(t,{Qj:function(){return s},kz:function(){return d},UM:function(){return u},yP:function(){return p},DG:function(){return c}});var o=n(1348),i=n(5830),a=n(6157);function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,i.Xd)("whatmoreShopId");(e!=a.O.EVENT_VIEW||(0,o.NFF)(r))&&(e!=a.O.VIDEO_PLAYBACK||(0,o.Eel)(r))&&(e!=a.O.SHOPNOW_ATC_CLICKED&&e!=a.O.PRODUCT_TILE_ATC_CLICKED||(0,o.T9r)(r))&&(e!=a.O.VIDEO_LIKED||(0,o.Mz3)(r))&&(e!=a.O.VIDEO_SHARE_CTA_CLICKED||(0,o.OLZ)(r))&&(e!=a.O.PRODUCT_TILE_SHOPNOW_CLICKED&&e!=a.O.SHOPNOW_CLICKED||(0,o.nEf)(r))&&"function"==typeof fbq&&(async()=>{fbq("trackCustom",s[e],{id:null===t||void 0===t?void 0:t.client_product_id,product_url:null===t||void 0===t?void 0:t.product_link,...e===a.O.VIDEO_PLAYBACK?{watch_time:n.watch_time,video_duration:n.video_duration}:{}})})()}var l=n(7145);const s={[a.O.EVENT_VIEW]:"whatmore_video_click_event",[a.O.VIDEO_LIKED]:"whatmore_video_like_event",[a.O.VIDEO_SHARE_CTA_CLICKED]:"whatmore_video_share_event",[a.O.PRODUCT_TILE_ATC_CLICKED]:"whatmore_video_atc_event",[a.O.SHOPNOW_ATC_CLICKED]:"whatmore_video_atc_event",[a.O.SHOPNOW_CLICKED]:"whatmore_product_tile_click_event",[a.O.PRODUCT_TILE_SHOPNOW_CLICKED]:"whatmore_product_tile_click_event",[a.O.VIDEO_PLAYBACK]:"whatmore_video_watch_event"};function d(e){var t;let{userInteractionType:n,userInteractionMetadata:o,widgetSourceDetails:i,event:a,productList:d,ctaList:c}=e;(0,l.B)({userInteractionType:n,userInteractionMetadata:o,widgetSourceDetails:i,event:a,productList:d,ctaList:c}),n in s&&r(n,null!==(t=null===d||void 0===d?void 0:d[1])&&void 0!==t?t:null===d||void 0===d?void 0:d[0])}function c(e){var t;let{userInteractionType:n,userInteractionMetadata:o,widgetSourceDetails:i,event:a,productList:d,ctaList:c}=e;(0,l.B)({userInteractionType:n,userInteractionMetadata:o,widgetSourceDetails:i,event:a,productList:d,ctaList:c}),n in s&&r(n,null!==(t=null===d||void 0===d?void 0:d[1])&&void 0!==t?t:null===d||void 0===d?void 0:d[0],o)}function u(e){let{userInteractionType:t,userInteractionMetadata:n,widgetSourceDetails:o,event:i,productList:a,ctaList:r}=e;(0,l.B)({userInteractionType:t,userInteractionMetadata:n,widgetSourceDetails:o,event:i,productList:a,ctaList:r})}function p(e){let{userInteractionType:t,userInteractionMetadata:n,widgetSourceDetails:o,event:i,productList:a,ctaList:r}=e;(0,l.B)({userInteractionType:t,userInteractionMetadata:n,widgetSourceDetails:o,event:i,productList:a,ctaList:r})}}}]);