"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[412],{7646:function(e,t,o){o.r(t);var r=o(9950),i=o(340),a=o(5089),n=(o(3997),o(9130),o(4669),o(9733),o(4365),o(7229),o(6042),o(572)),l=o(8603),p=o(1941),s=o(5830),d=o(7509),h=o(5551),x=o(5873),c=o(2410),m=o(9611),u=o(8385),w=o(932),g=o(6641),v=o(1348),f=o(5901),y=o(6649),b=o(4414);const S=(0,l.A)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o]=(0,p.A)(),[l,j]=(0,r.useState)(Array(t.length).fill(0).map(()=>Math.random())),[C,k]=(0,w.A)(),A=(0,s.Xd)("whatmoreVideoTileSize"),R=(0,s.Xd)("whatmoreVideoTileSizePortrait"),B="portrait"===o?R:A,T="portrait"==o?0:(0,s.Xd)("whatmoreLandscapePadding"),P=(0,s.Xd)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:L}=(0,r.useContext)(h.B),V=(0,s.Xd)("whatmoreShopId"),{whatmoreRootId:F}=(0,r.useContext)(h.B),M=e.onClick,[N,E,I]=(0,y.A)({triggerOnce:!1});function Q(e){M(e)}delete a.Ay.styles.global;var X=[];for(let r=0,i=!1;r<t.length;)i&&r!=t.length-1&&l[r]>.2?(X.push((0,b.jsx)(m.A,{event1:t[r],event2:t[r+1],onClick:()=>{Q(t[r-1])},removeBorders:!0},"collections-tile-"+r)),r+=2,i=!i):(X.push((0,b.jsx)(c.A,{mode:o,event:t[r],onClick:()=>{Q(t[r-1])},removeBorders:!0,borderRadius:"0%"},"collections-tile-"+r)),r+=1,i=!i);return(0,r.useEffect)(()=>{(0,g.Fk)("Video shopping powered by Whatmore!")},[]),(0,r.useEffect)(()=>{x.Sn.forEach(e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-d"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-d"]')))return;e&&(e.style.minHeight="0px")})},[]),(0,b.jsx)(n.C,{value:S,children:(0,b.jsx)("div",{className:L?"whatmore-collection-events":"whatmore-carousel-events",children:(0,b.jsx)(i.s,{theme:a.Ay,cssVarsRoot:F,resetCSS:!1,children:(0,b.jsxs)(d.h.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,b.jsx)("div",{ref:N,style:{marginLeft:T+"px",marginRight:T+"px"},children:(0,b.jsx)(u.c,{showBgPlaceholder:!0,renderElement:e=>(0,b.jsx)(b.Fragment,{children:e.eventData}),dataList:X,spacing:P,defaultHeight:C*B*.01+"px",defaultWidth:k*B*.01+"px",retainAlreadyRenderedElements:!0})}),(0,v.wQ2)(V)&&L&&!E&&-1==e.index&&(0,b.jsx)(f.A,{event:t[0],inVideoClick:Q,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}},9611:function(e,t,o){var r=o(9950),i=o(1348),a=o(5830),n=(o(6125),o(4365),o(6614),o(9879)),l=o(932),p=o(4414);t.A=function(e){var t;const[o,s]=(0,l.A)(),[d]=(0,a.QN)("whatmoreSecondaryColor"),[h]=(0,a.QN)("whatmoreShopId"),[x]=(0,a.QN)("whatmoreVideoTileSize"),[c]=(0,a.QN)("whatmoreVideoTileSizePortrait"),m="portrait"===e.mode?c:x,[u,w]=(0,r.useState)(!1),g=(0,i.ivI)(h),v=e.event1,f=e.event2,y=e.onClick,b=.01*m,S=o*b,j=o*b*.5,C=s*b,k=null!==(t=e.borderRadius)&&void 0!==t?t:"10%",A="15%",R=e.removeBorders;return(0,p.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",flexShrink:0,height:S+"px",width:C+"px",marginLeft:R?"2px":"5px",marginRight:R?"2px":"5px",marginTop:R?"2px":"5px",marginBottom:R?"2px":"5px",cursor:"pointer"},children:(0,p.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"fit-content",borderRadius:R?"0px":k,boxShadow:R?"":"0px 1px 1px 0px "+d+"50, 0px -1px 1px 0px "+g+"50, 1px 0px 1px 0px "+d+"50, -1px 0px 1px 0px "+g+"80, 1px -1px 1px 0px "+d+"80, -1px 1px 1px 0px "+g+"DA, 1px 1px 1px 0px "+d+"DA, -1px -1px 1px 0px "+g+"DA"},onClick:()=>{w(!0),y(v)},className:[u?"whatmore-scale-on-tap":""].join(" "),children:[(0,p.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:j+"px",width:C+"px",borderTopLeftRadius:R?"0px":A,borderTopRightRadius:R?"0px":A,borderBottom:"2px solid transparent",backgroundColor:"transparent",overflow:"hidden"},children:(0,p.jsx)(n.A,{height:"100%",width:"100%",url:v.thumbnail_image,isPlaying:!0,event:v})}),(0,p.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:j+"px",width:C+"px",borderBottomLeftRadius:R?"0px":A,borderBottomRightRadius:R?"0px":A,borderTop:"2px solid transparent",backgroundColor:"transparent",overflow:"hidden"},children:(0,p.jsx)(n.A,{height:"100%",width:"100%",url:f.thumbnail_image,isPlaying:!0,event:f})})]})})}}}]);