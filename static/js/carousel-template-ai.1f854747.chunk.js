/*! For license information please see carousel-template-ai.1f854747.chunk.js.LICENSE.txt */
(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[151],{22:function(e,t,r){"use strict";r.d(t,{$S:function(){return s},_:function(){return i},b4:function(){return n},dl:function(){return o},nN:function(){return c},tn:function(){return l},vF:function(){return a}});const i="device_type",o="device_mode",n="mobile",a="tablet",s="desktop",l="portrait",c="landscape"},932:function(e,t,r){"use strict";var i=r(5830),o=r(1941),n=r(22),a=r(1348);t.A=function(e){const[t,r,s]=(0,o.A)(),[l]=(0,i.QN)("whatmoreLandscapePadding"),[c]=(0,i.QN)("whatmoreShopId"),[u]=(0,i.QN)("whatmoreVideoTileSize"),[d]=(0,i.QN)("whatmoreVideoTileSizePortrait"),m=s>r,p="portrait"==t?d:u,h=!("portrait"!=t||!(s>=481)),v=p/100*1.3*.5,f=p/100;var w=Math.min(s,r),[S,C,g,N]=[.6*w*(16/9),.6*w,1.4,0];function x(e){return Math.round(10*e)/10}var R={DEVICE_TYPE:n.b4,DEVICE_MODE:n.tn};if(m){const e=C*v,t=S*v;[S,C,g,N]=[t,e,(s-2*l-2*(0,a.$du)(c))/(1.1*e),l],R[n._]=n.$S,R[n.dl]=n.nN}else if(h){var D=.8*C,M=.8*S;"portrait"==t?(D*=f,M*=f,[S,C,g,N]=[M,D,x(s/(1.2*D)),0],R[n._]=n.vF,R[n.dl]=n.tn):([S,C,g,N]=[M,D,(s-2*l)/(1.1*D),l],R[n._]=n.vF,R[n.dl]=n.nN)}else{D=C,M=S;"portrait"==t?(D=D*f*.9,M=M*f*.9,[S,C,g,N]=[M,D,x(s/(1.15*D)),0],R[n._]=n.b4,R[n.dl]=n.tn):(D=.7*C,M=.7*S,[S,C,g,N]=[M,D,(s-2*l)/(1.1*D),l],R[n._]=n.b4,R[n.dl]=n.nN)}return[S,C,g,N,R]}},2173:function(e,t,r){const i=r(8558);e.exports=function(e){if("string"!==typeof e)return;const t=e.toUpperCase();return Object.prototype.hasOwnProperty.call(i,t)?i[t]:void 0},e.exports.currencySymbolMap=i},7136:function(e,t,r){"use strict";var i=r(9950),o=r(932),n=r(7509),a=r(5830),s=r(4414);t.A=function(e){var[t,r]=(0,o.A)();(0,i.useContext)(n.h);const l=(0,a.Xd)("whatmoreShopId");return e.event,(0,s.jsx)("div",{style:{margin:"0 auto",width:"8968077397"==l?void 0:r,aspectRatio:"8968077397"==l?9/16:void 0,height:"8968077397"==l?"100%":t,overflow:"hidden"}})}},7509:function(e,t,r){"use strict";r.d(t,{h:function(){return i}});const i=(0,r(9950).createContext)({tileTopMargin:10,tileBottomMMargin:10,tileLeftMargin:10,tileRightMargin:10,showPlayButton:!0})},8558:function(e){e.exports={AED:"\u062f.\u0625",AFN:"\u060b",ALL:"L",AMD:"\u058f",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20bc",BAM:"KM",BBD:"$",BDT:"\u09f3",BGN:"\u043b\u0432",BHD:".\u062f.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"\u20bf",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNH:"\xa5",CNY:"\xa5",COP:"$",COU:"COU",CRC:"\u20a1",CUC:"$",CUP:"\u20b1",CVE:"$",CZK:"K\u010d",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062f\u062c",EEK:"kr",EGP:"\xa3",ERN:"Nfk",ETB:"Br",ETH:"\u039e",EUR:"\u20ac",FJD:"$",FKP:"\xa3",GBP:"\xa3",GEL:"\u20be",GGP:"\xa3",GHC:"\u20b5",GHS:"GH\u20b5",GIP:"\xa3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",IMP:"\xa3",INR:"\u20b9",IQD:"\u0639.\u062f",IRR:"\ufdfc",ISK:"kr",JEP:"\xa3",JMD:"J$",JOD:"JD",JPY:"\xa5",KES:"KSh",KGS:"\u043b\u0432",KHR:"\u17db",KMF:"CF",KPW:"\u20a9",KRW:"\u20a9",KWD:"KD",KYD:"$",KZT:"\u20b8",LAK:"\u20ad",LBP:"\xa3",LKR:"\u20a8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043d",MMK:"K",MNT:"\u20ae",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"\u20a8",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20a6",NIO:"C$",NOK:"kr",NPR:"\u20a8",NZD:"$",OMR:"\ufdfc",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20b1",PKR:"\u20a8",PLN:"z\u0142",PYG:"Gs",QAR:"\ufdfc",RMB:"\uffe5",RON:"lei",RSD:"\u0414\u0438\u043d.",RUB:"\u20bd",RWF:"R\u20a3",SAR:"\ufdfc",SBD:"$",SCR:"\u20a8",SDG:"\u062c.\u0633.",SEK:"kr",SGD:"S$",SHP:"\xa3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xa3",STD:"Db",STN:"Db",SVC:"$",SYP:"\xa3",SZL:"E",THB:"\u0e3f",TJS:"SM",TMT:"T",TND:"\u062f.\u062a",TOP:"T$",TRL:"\u20a4",TRY:"\u20ba",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20b4",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"\u043b\u0432",VEF:"Bs",VES:"Bs.S",VND:"\u20ab",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20a3",XSU:"Sucre",XUA:"XUA",YER:"\ufdfc",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},9112:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var i=r(9950),o=r(340),n=r(5089),a=r(5873),s=r(572),l=r(8603),c=r(9946),u=r(9094),d=(r(9130),r(932)),m=r(1941),p=r(5491),h=r.n(p),v=r(5830),f=r(7509),w=r(7136),S=r(1348),C=r(5551),g=r(1351),N=r(6157),x=(r(6641),r(9879)),R=r(6594),D=r(8149),M=r(7740),y=r(4414);var _=function(e){var t,r,o,n,a,s,l,c,u,m,p,h,f,w,C;const[g,N,_,A,T]=(0,d.A)(),P=1*N,B=1*g,b=((0,v.Xd)("whatmoreUITheme"),(0,v.Xd)("whatmoreShopId")),U=(0,v.Xd)("whatmorePrimaryFont"),E=(0,v.Xd)("whatmoreSecondaryColor"),j=e.onClick,F=null===(t=e.isOnFocus)||void 0===t||t,$=null!==(r=e.playOnUnfocus)&&void 0!==r&&r,[I,L]=(0,i.useState)(e.event),[O,K]=(0,i.useState)(),[k,G]=(0,i.useState)(!1),H=null!==(o=null===(n=I.products)||void 0===n?void 0:n.find(e=>"active"==e.product_status))&&void 0!==o?o:null===(a=I.products)||void 0===a?void 0:a[0],V=Math.round(+(null===H||void 0===H?void 0:H.price)),W=Math.round(+(null===H||void 0===H?void 0:H.compare_price)),X=W&&0!=W&&W>V?Math.round((W-V)/W*100):NaN,[Y,Z]=(0,i.useState)(X),[z,Q]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{(0,S.w4b)(b)?(0,R.fu)(I,(0,S.NCy)(b),b).then(e=>{var t,r,i;L(e);const o=Math.round(null===(t=e.products)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.price),n=Math.round(null===e||void 0===e||null===(i=e.products[0])||void 0===i?void 0:i.compare_price),a=n&&0!=n&&n>o?Math.round((n-o)/n*100):NaN;Z(a),Q(!0)}).catch(e=>{console.warn("Whatmore AI Template: Failed to enrich event with price data, using fallback",e),Q(!0)}):(async()=>{try{const e=await(0,D.M)(H,(0,S.NCy)(b),b);K(e),Q(!0)}catch(e){console.warn("Whatmore AI Template: Failed to fetch product details, using fallback data",e),Q(!0)}})()},[]),(0,i.useEffect)(()=>{var t;if(null!==(t=e.tileRef)&&void 0!==t&&t.current){const t=e.tileRef.current;t.style.setProperty("--wtmr-font-family",U),t.style.setProperty("--wtmr-discount-badge-bg",E)}},[U,E,e.tileRef]),(0,y.jsxs)("div",{ref:e.tileRef,className:"wtmr-carousel-tile",style:{width:P},onClick:()=>j(I),children:[(0,y.jsxs)("div",{className:"wtmr-carousel-tile__video-container",style:{height:B},children:[(0,y.jsx)(x.A,{className:"wtmr-carousel-tile__video",height:(0,S.u06)(b)+" !important",width:"100%",url:I.thumbnail_image,isPlaying:F||$,event:I}),H&&(0,y.jsx)("div",{className:"wtmr-carousel-tile__add-to-cart-overlay",onClick:e=>e.stopPropagation(),children:(0,y.jsx)("span",{className:"wtmr-carousel-tile__add-to-cart-label",children:"ADD TO CART"})})]}),H&&(0,y.jsxs)("div",{className:"wtmr-carousel-tile__product-details-container",children:[(0,y.jsxs)("div",{className:"wtmr-carousel-tile__product-information-section",children:[(null===H||void 0===H?void 0:H.thumbnail_image)&&(0,y.jsx)("div",{className:"wtmr-carousel-tile__product-image-container",children:(0,y.jsx)("img",{className:"wtmr-carousel-tile__product-image "+(k?"wtmr-carousel-tile__product-image--loaded":""),src:(null===H||void 0===H||null===(s=H.thumbnail_image)||void 0===s||null===(l=s.split("?"))||void 0===l?void 0:l[0])+"?width=400&height=400",alt:"thumbnail",onLoad:()=>G(!0)})}),(0,y.jsxs)("div",{className:"wtmr-carousel-tile__product-text-container",children:[(null===H||void 0===H?void 0:H.product_type)&&(0,y.jsx)("span",{className:"wtmr-carousel-tile__product-category-label",children:null===H||void 0===H?void 0:H.product_type}),(null===H||void 0===H?void 0:H.title)&&(0,y.jsx)("h3",{className:"wtmr-carousel-tile__product-name",children:null===H||void 0===H?void 0:H.title})]})]}),z&&(0,y.jsxs)("div",{className:"wtmr-carousel-tile__product-pricing-section",children:[(0,y.jsx)("span",{className:"wtmr-carousel-tile__price-selling",children:(0,R.Sb)(parseFloat((0,M.U)()?(null!==(c=null===O||void 0===O||null===(u=O.variants)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.price)&&void 0!==c?c:null===O||void 0===O?void 0:O.price)/100:null===H||void 0===H?void 0:H.price)," ",b,null===(p=I.products[0])||void 0===p?void 0:p.currency)}),!isNaN(W)&&W>V&&(0,y.jsx)("span",{className:"wtmr-carousel-tile__price-original",children:(0,R.Sb)(parseFloat((0,M.U)()?(null!==(h=null===O||void 0===O||null===(f=O.variants)||void 0===f||null===(w=f[0])||void 0===w?void 0:w.compare_at_price)&&void 0!==h?h:null===O||void 0===O?void 0:O.compare_at_price)/100:null===H||void 0===H?void 0:H.compare_price)," ",b,null===(C=I.products[0])||void 0===C?void 0:C.currency)}),!isNaN(Y)&&0!=Y&&(0,y.jsx)("div",{className:"wtmr-carousel-tile__discount-percentage-badge",children:(0,y.jsxs)("span",{className:"wtmr-carousel-tile__discount-percentage-value",children:[Y,"%"]})})]})]})]})};const A=(0,l.A)({key:"whatmore-css-ai"});function T(e){const[t,r,o]=(0,d.A)(),[n,a,s]=(0,m.A)(),l=(0,v.Xd)("whatmoreShopId"),p=e.events,h=e.onClick,f=o*(0,S.kcl)(l),x=(0,S.cbh)(l),[R,D]=(0,i.useState)(x?p.length:f),{whatmoreWidgetSourceDetails:M}=(0,i.useContext)(C.B);return(0,i.useEffect)(()=>{R<=f&&D(e=>e+f)},[f]),(0,y.jsx)("div",{className:"wtmr-carousel-container-portrait whatmore-events-carousel-portrait ai-carousel-portrait",style:{width:s-48,zIndex:1},children:(0,y.jsx)(c.RC,{slidesPerView:p.length>1?f:1,initialSlide:p.length>1?1:0,centeredSlides:!0,centeredSlidesBounds:!1,watchSlidesProgress:!0,modules:[u.U1],spaceBetween:12,freeMode:{enabled:!0,sticky:!1,momentum:!0,momentumRatio:.7,momentumBounce:!1,momentumVelocityRatio:.9},touchRatio:1.2,simulateTouch:!0,allowTouchMove:!0,grabCursor:!0,resistance:!0,resistanceRatio:.75,speed:400,onSlideChange:e=>{(0,g.UM)({userInteractionType:N.O.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:M}),e.realIndex>e.previousIndex&&D(e=>e+f)},loop:x,style:{paddingTop:"8px",paddingBottom:"8px"},children:p.map((e,t)=>t<=R&&(0,y.jsx)(c.qr,{children:({isActive:t,isPrev:r,isNext:i,isVisible:o})=>r||i||t?(0,y.jsx)("div",{className:"wm-carousel__slide-wrapper "+(t?"wtmr-carousel__slide-wrapper--active":"wtmr-carousel__slide-wrapper--inactive"),children:(0,y.jsx)(_,{isOnFocus:t&&o,playOnUnfocus:!1,event:e,onClick:()=>{h(e)}})}):(0,y.jsx)(w.A,{})},"whatmore-event-tile-ai-portrait-"+e.index))})})}function P(e){const[t,r,o,n]=(0,d.A)(),[a,s]=(0,i.useState)(-1),l=(0,v.Xd)("whatmoreShopId"),m=e.onClick,p=e.events,f=(0,S.cbh)(l),[x,R]=(0,i.useState)(f?p.length:o),D=Math.min(o,p.length),{whatmoreWidgetSourceDetails:M}=(0,i.useContext)(C.B),A=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(A.current){const e=r*D*(0,S.fHt)(l)+"px";p.length<4?A.current.style.setProperty("width",e,"important"):A.current.style.width=e}},[r,D,l,x,p.length]),(0,i.useEffect)(()=>{x<=o&&R(e=>e+o)},[o]),(0,y.jsx)("div",{className:"wtmr-carousel-container-landscape whatmore-events-carousel-landscape ai-carousel-landscape",style:{paddingLeft:n+"px",paddingRight:n+"px"},children:(0,y.jsx)("div",{ref:A,style:{zIndex:1},children:(0,y.jsx)(c.RC,{slidesPerView:D,watchSlidesProgress:!0,modules:[u.FJ,u.U1],freeMode:{enabled:!0,sticky:!1,momentum:!0,momentumRatio:.5,momentumBounce:!1,momentumVelocityRatio:.7},onSlideChange:e=>{(0,g.UM)({userInteractionType:N.O.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:M}),e.realIndex>e.previousIndex&&R(e=>e+o)},spaceBetween:0,loop:!1,touchRatio:1,simulateTouch:!0,allowTouchMove:!0,grabCursor:!0,resistance:!0,resistanceRatio:.75,speed:500,mousewheel:{forceToAxis:!0,sensitivity:.6,releaseOnEdges:!0,invert:!1},children:p.map((e,t)=>{const r=h()(()=>s(t),50);return t<=x&&(0,y.jsx)(c.qr,{onMouseEnter:()=>{r()},onMouseLeave:()=>{r.cancel(),s(-1)},style:{height:"100%"},children:({isActive:r,isPrev:i,isNext:o,isVisible:n})=>n||i||o?(0,y.jsx)("div",{style:{height:"100%",transform:t===a?"translate3d(0, -1px, 0)":"translate3d(0, 0, 0)",transition:"transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.3s ease-out, opacity 0.3s ease-out",filter:t===a?"brightness(1.02)":"none",opacity:t===a?1:.98,willChange:"transform, filter, opacity"},children:(0,y.jsx)(_,{isOnFocus:t==a,playOnUnfocus:!(0,S.aO7)(l)||t==parseInt(D/2)&&-1==a,event:e,onClick:()=>{m(e)}})}):(0,y.jsx)(w.A,{})},"wht-event-tile-ai-landscape-"+e.index)})})})})}var B=function(e){const[t,r,l]=(0,m.A)(),[c]=(0,v.QN)("whatmoreShopId"),[u]=(0,v.QN)("whatmorePrimaryColor"),[d]=(0,v.QN)("whatmoreTitleFont"),p="portrait"==t?(0,v.Xd)("whatmoreTitleFontSizePortrait"):(0,v.Xd)("whatmoreTitleFontSize"),{whatmoreRootId:h}=(0,i.useContext)(C.B),{whatmoreCollectionHeading:w}=(0,i.useContext)(C.B),{whatmoreIsCollectionsTemplate:S}=(0,i.useContext)(C.B),g=e.events,N=e.onClick,x=d,R=(0,i.useRef)(null);function D(e){N(e)}return(0,i.useEffect)(()=>{a.Sn.forEach(e=>{var t;const r=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-ai"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-ai"]');if(!r)return;r&&e&&(e.style.minHeight="0px")})},[]),(0,i.useEffect)(()=>{if(R.current){const e=R.current;e.style.setProperty("--wtmr-font-family",x),e.setAttribute("data-mode",t)}},[x,t]),delete n.Ay.styles.global,(0,y.jsx)(s.C,{value:A,children:(0,y.jsx)("div",{ref:R,className:"wtmr-carousel whatmore-carousel-events ai-carousel-container",style:{height:"100%",background:"transparent",position:"relative"},children:(0,y.jsx)(o.s,{theme:n.Ay,cssVarsRoot:h,resetCSS:!1,children:(0,y.jsxs)(f.h.Provider,{value:{tileTopMargin:8,tileBottomMMargin:8,tileLeftMargin:2,tileRightMargin:2,showPlayButton:!0},children:[console.log("test",e.heading.trim())&&(e.heading.trim().length>0||S)&&(0,y.jsx)("div",{className:"wtmr-carousel-header",children:(0,y.jsx)("h2",{className:"wtmr-carousel-title",style:{fontSize:p+"px"},children:S?"W"!==w?w:"":e.heading})}),"landscape"===t?(0,y.jsx)(P,{events:g,onClick:D}):(0,y.jsx)(T,{events:g,onClick:D})]})})})})}},9211:function(e,t,r){"use strict";function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}r.d(t,{A:function(){return o}});var o=function e(t,r){function o(e,o,n){if("undefined"!==typeof document){"number"===typeof(n=i({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in n)n[s]&&(a+="; "+s,!0!==n[s]&&(a+="="+n[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],i={},o=0;o<r.length;o++){var n=r[o].split("="),a=n.slice(1).join("=");try{var s=decodeURIComponent(n[0]);if(i[s]=t.read(a,s),e===s)break}catch(l){}}return e?i[e]:i}},remove:function(e,t){o(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);