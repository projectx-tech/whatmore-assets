"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[91],{6071:function(e,t,o){o.r(t);var r=o(7313),i=o(6090),a=o(7616),n=(o(6143),o(7850),o(4444),o(7244),o(123),o(5892),o(1811),o(9302)),l=o(2575),p=o(8866),s=o(7753),d=o(7129),x=o(364),h=o(32),c=o(8631),m=o(6066),u=o(8782),g=o(9821),w=o(7381),f=o(9854),v=o(5380),y=o(5333),j=o(6417);const b=(0,l.Z)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o]=(0,p.Z)(),[l,S]=(0,r.useState)(Array(t.length).fill(0).map((()=>Math.random()))),[C,k]=(0,g.Z)(),R=(0,s.MO)("whatmoreVideoTileSize"),Z=(0,s.MO)("whatmoreVideoTileSizePortrait"),M="portrait"===o?Z:R,P="portrait"==o?0:(0,s.MO)("whatmoreLandscapePadding"),T=(0,s.MO)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:B}=(0,r.useContext)(x.I),V=(0,s.MO)("whatmoreShopId"),{whatmoreRootId:I}=(0,r.useContext)(x.I),L=e.onClick,[O,A,D]=(0,y.YD)({triggerOnce:!1});function E(e){L(e)}delete a.ZP.styles.global;var F=[];for(let r=0,i=!1;r<t.length;)i&&r!=t.length-1&&l[r]>.2?(F.push((0,j.jsx)(m.Z,{event1:t[r],event2:t[r+1],onClick:()=>{E(t[r-1])},removeBorders:!0},"collections-tile-"+r)),r+=2,i=!i):(F.push((0,j.jsx)(c.Z,{mode:o,event:t[r],onClick:()=>{E(t[r-1])},removeBorders:!0,borderRadius:"0%"},"collections-tile-"+r)),r+=1,i=!i);return(0,r.useEffect)((()=>{(0,w.Oo)("Video shopping powered by Whatmore!")}),[]),(0,r.useEffect)((()=>{h.IR.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-d"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-d"]')))return;e&&(e.style.minHeight="0px")}))}),[]),(0,j.jsx)(n.C,{value:b,children:(0,j.jsx)("div",{className:B?"whatmore-collection-events":"whatmore-carousel-events",children:(0,j.jsx)(i.x,{theme:a.ZP,cssVarsRoot:I,resetCSS:!1,children:(0,j.jsxs)(d.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,j.jsx)("div",{ref:O,style:{marginLeft:P+"px",marginRight:P+"px"},children:(0,j.jsx)(u.P,{renderElement:e=>(0,j.jsx)(j.Fragment,{children:e.eventData}),dataList:F,spacing:T,defaultHeight:C*M*.01+"px",defaultWidth:k*M*.01+"px",retainAlreadyRenderedElements:!0})}),(0,f.dhc)(V)&&B&&!A&&-1==e.index&&(0,j.jsx)(v.Z,{event:t[0],inVideoClick:E,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}},6066:function(e,t,o){var r=o(7313),i=o(9854),a=o(7753),n=(o(9111),o(123),o(9778),o(4892)),l=o(9821),p=o(6417);t.Z=function(e){var t;const[o,s]=(0,l.Z)(),[d]=(0,a.j1)("whatmoreSecondaryColor"),[x]=(0,a.j1)("whatmoreShopId"),[h]=(0,a.j1)("whatmoreVideoTileSize"),[c]=(0,a.j1)("whatmoreVideoTileSizePortrait"),m="portrait"===e.mode?c:h,[u,g]=(0,r.useState)(!1),w=(0,i.f63)(x),f=e.event1,v=e.event2,y=e.onClick,j=.01*m,b=o*j,S=o*j*.5,C=s*j,k=null!==(t=e.borderRadius)&&void 0!==t?t:"10%",R="15%",Z=e.removeBorders;return(0,p.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",flexShrink:0,height:b+"px",width:C+"px",marginLeft:Z?"2px":"5px",marginRight:Z?"2px":"5px",marginTop:Z?"2px":"5px",marginBottom:Z?"2px":"5px",cursor:"pointer"},children:(0,p.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"fit-content",borderRadius:Z?"0px":k,boxShadow:Z?"":"0px 1px 1px 0px "+d+"50, 0px -1px 1px 0px "+w+"50, 1px 0px 1px 0px "+d+"50, -1px 0px 1px 0px "+w+"80, 1px -1px 1px 0px "+d+"80, -1px 1px 1px 0px "+w+"DA, 1px 1px 1px 0px "+d+"DA, -1px -1px 1px 0px "+w+"DA"},onClick:()=>{g(!0),y(f)},className:[u?"whatmore-scale-on-tap":""].join(" "),children:[(0,p.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:S+"px",width:C+"px",borderTopLeftRadius:Z?"0px":R,borderTopRightRadius:Z?"0px":R,borderBottom:"2px solid transparent",backgroundColor:"transparent",overflow:"hidden"},children:(0,p.jsx)(n.Z,{height:"100%",width:"100%",url:f.thumbnail_image,isPlaying:!0,event:f})}),(0,p.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:S+"px",width:C+"px",borderBottomLeftRadius:Z?"0px":R,borderBottomRightRadius:Z?"0px":R,borderTop:"2px solid transparent",backgroundColor:"transparent",overflow:"hidden"},children:(0,p.jsx)(n.Z,{height:"100%",width:"100%",url:v.thumbnail_image,isPlaying:!0,event:v})})]})})}}}]);