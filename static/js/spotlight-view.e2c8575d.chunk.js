"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[3262,8717],{22:function(t,e,o){o.d(e,{$S:function(){return s},_:function(){return n},b4:function(){return i},dl:function(){return r},nN:function(){return c},tn:function(){return d},vF:function(){return a}});const n="device_type",r="device_mode",i="mobile",a="tablet",s="desktop",d="portrait",c="landscape"},69:function(t,e,o){o.d(e,{Ij:function(){return i},bi:function(){return a}});let n,r=!1;function i(){return n?n.play().then(()=>{r=!0,console.debug("iOS autoplay restrictions bypassed."),n.pause()}).catch(t=>{console.error("Failed to bless videos:",t.message)}):Promise.reject(new Error("Blessing video not initialized."))}function a(){n||(n=document.createElement("video"),n.src="https://whatmore-other-assets.b-cdn.net/whatmore/dummy_for_video_pool_3s_muted_11kb.mp4",n.muted=!0,n.playsInline=!0,n.style.display="none",document.body.appendChild(n));const t=()=>{r||i()};document.addEventListener("click",t,{once:!0}),document.addEventListener("touchstart",t,{once:!0})}},851:function(t,e,o){o.d(e,{A:function(){return g}});var n=o(1005),r=o(9950),i=o(9879),a=o(22),s=o(5830),d=o(932);var c=function(t){const[e,o,n,r,i]=(0,d.A)(),[c]=(0,s.QN)("whatmoreEmbedAppVideoPlayerSizePortrait"),[l]=(0,s.QN)("whatmoreEmbedAppVideoPlayerSizeLandscape"),u=i[a.dl]===a.nN?l/100:c/100*1.2;return[e*u,o*u,i]},l=o(1628),u=o.n(l),p=o(6702),h=(o(9733),o(4365),o(1348)),m=o(4414);var f=({size:t,color:e="rgba(255, 255, 255, 0.9)"})=>(0,m.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",style:{cursor:"pointer",transition:"all 0.3s ease",filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.5))"},className:"premium-close-icon",children:[(0,m.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(0, 0, 0, 0.6)",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"1.5",style:{transition:"all 0.3s ease"}}),(0,m.jsx)("path",{d:"M15 9l-6 6M9 9l6 6",stroke:e,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transition:"all 0.3s ease"}})]});var v=({size:t,color:e="rgba(255, 255, 255, 0.95)"})=>(0,m.jsxs)("svg",{width:.7*t,height:.7*t,viewBox:"0 0 80 80",fill:"none",style:{filter:"drop-shadow(0 8px 24px rgba(0,0,0,0.5))",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer"},className:"premium-play-icon",children:[(0,m.jsx)("circle",{cx:"40",cy:"40",r:"28",fill:"url(#playGradient)",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1.5",style:{backdropFilter:"blur(20px)"}}),(0,m.jsx)("path",{d:"M32 26 L32 54 L56 40 Z",fill:e,stroke:"none",style:{filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}}),(0,m.jsxs)("defs",{children:[(0,m.jsxs)("radialGradient",{id:"playGradient",cx:"0.3",cy:"0.3",r:"0.8",children:[(0,m.jsx)("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.25)"}),(0,m.jsx)("stop",{offset:"70%",stopColor:"rgba(255, 255, 255, 0.08)"}),(0,m.jsx)("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 0.02)"})]}),(0,m.jsxs)("radialGradient",{id:"playGradientHover",cx:"0.3",cy:"0.3",r:"0.8",children:[(0,m.jsx)("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.4)"}),(0,m.jsx)("stop",{offset:"70%",stopColor:"rgba(255, 255, 255, 0.15)"}),(0,m.jsx)("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 0.05)"})]})]}),(0,m.jsx)("style",{jsx:!0,children:"\n            .premium-play-icon:hover { transform: scale(1.1); filter: drop-shadow(0 12px 32px rgba(0,0,0,0.6)); }\n            .premium-play-icon:hover circle { fill: url(#playGradientHover); stroke: rgba(255, 255, 255, 0.4); transform: scale(1.05); }\n            .premium-play-icon:hover path { fill: white; transform: translateX(1px); }\n            .premium-play-icon:active { transform: scale(0.95); }\n        "})]});var g=function(t){var e;const o=r.useRef(null);var[d,l,g]=c();(0,s.Xd)("whatmoreUITheme");const[y]=(0,s.QN)("whatmorePrimaryFont"),[w]=(0,s.QN)("whatmoreEmbedAppVideoTitle"),[x]=(0,s.QN)("whatmoreEmbedAppPositionPortrait"),[b]=(0,s.QN)("whatmoreEmbedAppHorizontalPaddingPortrait"),[S]=(0,s.QN)("whatmoreEmbedAppVerticalPaddingPortrait"),[j]=(0,s.QN)("whatmoreEmbedAppPositionLandscape"),[T]=(0,s.QN)("whatmoreEmbedAppHorizontalPaddingLandscape"),[E]=(0,s.QN)("whatmoreEmbedAppVerticalPaddingLandscape"),C=(0,s.Xd)("whatmoreShopId"),A=(0,s.Xd)("isWhatmorePreviewMode");var k=x,_=b,N=S;g[a.dl]===a.nN&&(k=j,_=T,N=E);const[P,q]=(0,r.useState)(["initial",window.pageYOffset]),[I,L]=(0,r.useState)(!1),O=null!==(e=t.isSpotlight)&&void 0!==e&&e,z=g[a.dl]===a.nN?.8*(0,h.O86)(C):1.2*(0,h.O86)(C),F=O?z:1.2;d*=F,l*=F;const R=O?(0,h.LrK)(C):k,M=O?(0,h._2D)(C):(0,h.GSq)(C),[Q,D]=(0,r.useState)(!O&&(0,h.n8Q)(C)),V=!O&&(0,h.YE3)(C);function G(t,e){q(t),t[1]<=100?L(!1):e!=I&&(L(e),D(!1))}(0,r.useEffect)(()=>{let t=window.pageYOffset,e=!1;const o=()=>{const o=window.pageYOffset;Math.abs(o-t)<100||(G([o>t?"scrolled-down":"scrolled-up",o],!0),t=o>0?o:0),e=!1},n=()=>{e||(window.requestAnimationFrame(o),e=!0)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[P]),(0,n.j)({ref:o,handler:()=>{G(["scrolled-up",P[1]],!0)}});const B=t.event,X=t.inVideoClick,W=t.closeClick,$=.25*l,J=.5*l,U=.6*l,H="20px",Y=(0,h.GvQ)(C);var K=!1,Z=0,tt=0;function et(t){K=t}return(0,m.jsx)("div",{className:"wht-popup",children:Q&&!M?(0,m.jsx)(m.Fragment,{}):I&&M?(0,m.jsx)("div",{style:"left"===R?{left:"16px",bottom:O?(0,h.pUQ)(C)+"px":N+"px",position:"fixed",zIndex:Y}:{right:"16px",bottom:O?(0,h.pUQ)(C)+"px":N+"px",position:"fixed",zIndex:Y},children:(0,m.jsxs)("div",{onClick:()=>{G(["initial",P[1]],!1)},style:{width:U+"px",height:U*(16/9)+"px",borderRadius:H,overflow:"hidden",backgroundColor:"transparent",boxShadow:"0 12px 24px rgba(0, 0, 0, 0.3), 0 4px 8px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(15px)",cursor:"pointer",transition:"all 0.3s ease",transformStyle:"preserve-3d"},className:"left"===R?"whatmore-ultraminimized-video-view-left":"whatmore-ultraminimized-video-view-right",children:[(0,m.jsx)("div",{style:{overflow:"hidden",borderRadius:H,background:"linear-gradient(145deg, rgba(0,0,0,0.1), rgba(0,0,0,0.2))"},children:(0,m.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:16/9},children:(0,m.jsx)(i.A,{url:B.thumbnail_image,isPlaying:!1,event:B})})}),(0,m.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,m.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",height:"100%"},children:[(0,m.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content",padding:"2px",position:"absolute",top:"0",right:"0",zIndex:10},children:(0,m.jsx)("div",{className:"whatmore-ultraminimized-content-scale-out",onClick:t=>{t.stopPropagation(),W()},children:(0,m.jsx)(f,{size:.8*$})})}),(0,m.jsx)("div",{style:{height:"100%",display:"flex",flexFlow:"column nowrap",alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(p.A,{sx:{color:"white",fontSize:2*$+"px",filter:"drop-shadow(0 0 2px black);"}})})]})})]})}):(0,m.jsx)(u(),{nodeRef:o,cancel:".activate-button,.close-btn",bounds:A?"parent":"html",defaultClassName:"whatmore-react-draggable",defaultClassNameDragging:"whatmore-react-draggable-dragging",defaultClassNameDragged:"whatmore-react-draggable-dragged",onStart:(t,e)=>{var o,n;o=e.x,n=e.y,Z=o,tt=n},onDrag:(t,e)=>{et(!0)},onStop:(t,e)=>{K&&(Math.abs(e.x-Z)>5||Math.abs(e.y-tt)>5)?et(!1):(V&&W(t),X(B))},children:(0,m.jsx)("div",{ref:o,style:"left"===R?{left:O?(0,h.D2A)(C)+"px":_+"px",bottom:O?(0,h.pUQ)(C)+"px":N+"px",position:"fixed",zIndex:Y}:{right:O?(0,h.D2A)(C)+"px":_+"px",bottom:O?(0,h.pUQ)(C)+"px":N+"px",position:"fixed",zIndex:Y},children:(0,m.jsxs)("div",{style:{boxSizing:"border-box",width:t.isSpotlight&&"60122562760"==C?d+"px":l+"px",height:t.isSpotlight&&"60122562760"==C?l+"px":d+"px",borderRadius:H,overflow:"hidden",backgroundColor:"transparent",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(20px)",transition:"all 0.3s ease"},className:"left"===R?"whatmore-minimized-video-view-left":"whatmore-minimized-video-view-right",children:[(0,m.jsx)("div",{style:{overflow:"hidden",position:"relative",borderRadius:H,background:"linear-gradient(145deg, rgba(0,0,0,0.1), rgba(0,0,0,0.3))"},children:(0,m.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:t.isSpotlight&&"60122562760"==C?16/9:9/16},children:(0,m.jsx)(i.A,{url:B.thumbnail_image,isMuted:!0,isPlaying:!0,event:B})})}),(0,m.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,m.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",height:"100%",position:"relative"},children:[(0,m.jsx)("div",{style:{position:"absolute",top:"2px",right:"2px",zIndex:10},children:(0,m.jsx)("div",{className:"close-btn",onClick:W,children:(0,m.jsx)(f,{size:$})})}),(0,m.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto"},children:(0,m.jsx)(v,{size:J})}),(0,m.jsx)("div",{style:{paddingLeft:"16px",paddingRight:"16px",paddingBottom:"16px",borderBottomLeftRadius:H,borderBottomRightRadius:H,background:w?"linear-gradient(to bottom, transparent, rgba(0,0,0,0.8))":"transparent"},children:(0,m.jsx)("p",{style:{textAlign:"center",color:"white",fontFamily:y,fontWeight:"600",fontSize:.35*$+"px",margin:0,padding:0,lineHeight:"125%",letterSpacing:"0.3px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:w})})]})})]})})})})}},932:function(t,e,o){var n=o(5830),r=o(1941),i=o(22),a=o(1348);e.A=function(t){const[e,o,s]=(0,r.A)(),[d]=(0,n.QN)("whatmoreLandscapePadding"),[c]=(0,n.QN)("whatmoreShopId"),[l]=(0,n.QN)("whatmoreVideoTileSize"),[u]=(0,n.QN)("whatmoreVideoTileSizePortrait"),p=s>o,h="portrait"==e?u:l,m=!("portrait"!=e||!(s>=481)),f=h/100*1.3*.5,v=h/100;var g=Math.min(s,o),[y,w,x,b]=[.6*g*(16/9),.6*g,1.4,0];function S(t){return Math.round(10*t)/10}var j={DEVICE_TYPE:i.b4,DEVICE_MODE:i.tn};if(p){const t=w*f,e=y*f;[y,w,x,b]=[e,t,(s-2*d-2*(0,a.$du)(c))/(1.1*t),d],j[i._]=i.$S,j[i.dl]=i.nN}else if(m){var T=.8*w,E=.8*y;"portrait"==e?(T*=v,E*=v,[y,w,x,b]=[E,T,S(s/(1.2*T)),0],j[i._]=i.vF,j[i.dl]=i.tn):([y,w,x,b]=[E,T,(s-2*d)/(1.1*T),d],j[i._]=i.vF,j[i.dl]=i.nN)}else{T=w,E=y;"portrait"==e?(T=T*v*.9,E=E*v*.9,[y,w,x,b]=[E,T,S(s/(1.15*T)),0],j[i._]=i.b4,j[i.dl]=i.tn):(T=.7*w,E=.7*y,[y,w,x,b]=[E,T,(s-2*d)/(1.1*T),d],j[i._]=i.b4,j[i.dl]=i.nN)}return[y,w,x,b,j]}},3262:function(t,e,o){o.d(e,{initiateCartSliderEvent:function(){return i}});var n=o(5830),r=o(1745);const i=async function(t,e,o,i,a="",s="",d="",c="",l="",u=""){(0,n.Xd)("whatmoreLandingLocationType");if("STRNV8MHJTF"==t||"STR6HU283UZ"==t||"STR9T3LLEJB"==t||"STRWJMIOJNX"==t||"STRUDQ36YAC"==t||"STR1D5ONOZX"==t){console.log("Executing cart refresh script..");return void(document.getElementById("whatsmorecart").value=Math.random())}if("60595503283"===t){async function x(t,e=1){try{const o=await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:e})});o.ok?setTimeout(()=>{(0,r.CP)(t),window.location.href="/cart"},500):console.error("Failed to add item to cart:",o.status)}catch(o){console.error("Error adding to cart:",o)}}return x(a,1),void setTimeout(e,o)}if("60183445561"===t){async function b(t,e=1,o="/cart"){const n=new URLSearchParams;n.append("id",t),n.append("quantity",e.toString()),n.append("return_to",o);const i=await fetch("https://tapee.in/cart/add",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString(),credentials:"include"}),a=await i.text();return i.ok&&setTimeout(()=>{(0,r.CP)(t),window.location.href="https://tapee.in/cart"},500),a}return b(a).catch(t=>{console.error("Error:",t)}),void setTimeout(e,o)}if("22907887"===t){async function S(t,e=1){const o=new FormData;o.append("id",t),o.append("quantity",e.toString());const n=document.querySelector("cart-notification, cart-drawer");if(n){const t=n.getSectionsToRender();o.append("sections",t.map(t=>t.id).join(","))}o.append("sections_url",window.location.pathname);const r=await fetch("/cart/add.js",{method:"POST",body:o});if(!r.ok){const t=await r.text();throw new Error(`Failed to add to cart: ${t}`)}const i=await r.json();return n&&n.renderContents&&n.renderContents(i),document.body.classList.remove("overflow-hidden"),document.querySelectorAll(".atc-container.active, .atc-variant-container.active, .pdp-atc-container.active").forEach(t=>t.classList.remove("active")),window.dispatchEvent(new CustomEvent("cart:added",{detail:{variantId:t,quantity:e,data:i}})),i}return S(a).then(t=>{setTimeout(()=>{v(a)},500)}).catch(t=>{console.error("Error:",t)}),void setTimeout(e,o)}if("28575536"===t||"64287408360"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>{if(!t.ok)throw new Error("Add to cart failed");return t.json()}).then(t=>{"function"===typeof window.handleFloCartBtn&&window.handleFloCartBtn(),setTimeout(()=>{v(a)},500)}).catch(t=>console.error("[Whatmore] Ripped Up Nutrition ATC error:",t)),void setTimeout(e,o);if("58692075703"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>{if(!t.ok)throw new Error("Add to cart failed");return t.json()}).then(t=>{"function"===typeof window.openGokwikSideCart&&window.openGokwikSideCart(),setTimeout(()=>{v(a)},500)}).catch(t=>console.error("[Whatmore] Lakshita ATC error:",t)),void setTimeout(e,o);if("22907887"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>{setTimeout(()=>{v(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("56444977250"===t){const j=document.querySelector('button[data-pf-type="ProductATC2"]');return j?(s&&j.setAttribute("data-product-id",s),j.click(),setTimeout(()=>{(0,r.js)().then(t=>t.json()).then(t=>{const e=t.items.find(t=>String(t.id)===String(a));if(e){const t=e.key,o=e.quantity,n=e.properties;(0,r.CP)(t,o,n,d,c,l,!0,!0,!0)}})},500),void setTimeout(e,o)):(fetch(null===u||void 0===u||null===(p=u.split("?"))||void 0===p?void 0:p[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html").querySelector('button[data-pf-type="ProductATC2"]');e&&s&&e.setAttribute("data-product-id",s)}),void setTimeout(e,o));var p}if("64379584700"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>fetch("/cart.js")).then(t=>t.json()).then(t=>{$(".paira-cart-item-count").text(t.item_count),$(".paira-cartEmpty").hide(),$(".paira-cartNotEmpty").show(),$(".paira-cart-total-price .money").text("Rs. "+t.total_price/100),$(".cart-drop").addClass("open"),$(".cart-icon").trigger("mouseenter"),setTimeout(()=>{v(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("76767920441"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>{"function"===typeof window.openGokwikSideCart&&window.openGokwikSideCart(),setTimeout(()=>{v(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("70840582336"===t){const T=a,E=1,C=document.querySelector('product-form form.product-form, form[action*="/cart/add"]');if(C){let A=C.querySelector('input[name="id"]');A||(A=document.createElement("input"),A.type="hidden",A.name="id",C.appendChild(A)),A.disabled=!1,A.value=T;const k=C.querySelector('input[name="quantity"]');k&&(k.value=E);const _=C.querySelector('button[data-add-to-cart], button[type="submit"]');return _?(_.dispatchEvent(new MouseEvent("pointerdown",{bubbles:!0})),_.click(),_.dispatchEvent(new MouseEvent("pointerup",{bubbles:!0}))):console.warn("[ATC] button not found"),setTimeout(()=>{v(T)},500),void setTimeout(e,o)}return void fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:T,quantity:E}),credentials:"same-origin"}).then(()=>{setTimeout(()=>{v(T)},500),setTimeout(e,o)}).catch(t=>{console.error("[ATC] error for 70840582336:",t),setTimeout(e,o)})}if("64683278550"===t){try{const N=document.querySelector('form[action="/cart/add"]');if(!N)return console.warn("[ATC 64683278550] form not found"),void setTimeout(e,o);const P=N.querySelector('input[name="id"]');if(!P)return console.warn("[ATC 64683278550] id input not found"),void setTimeout(e,o);P.value=a;const q=N.querySelector('button[type="submit"]');if(!q)return console.warn("[ATC 64683278550] submit button not found"),void setTimeout(e,o);q.click(),setTimeout(()=>{v(a)},500),setTimeout(e,o)}catch(w){console.error("[ATC 64683278550] error:",w),setTimeout(e,o)}return}const h=e=>{if("61126934766"==t){let t=e.querySelector(".productView-buttons").querySelector('form[action*="/cart/add"]');if(t)return t}let o=Array.from(e.querySelectorAll("product-form")).find(t=>t.querySelector('form > input[name="id"]')&&t.querySelector('form button[type="submit"]'));return o||(o=Array.from(e.querySelectorAll('form[action*="/cart/add"]')).find(t=>t.querySelector('button[type="submit"]'))),o},m=(e,o,n)=>{const r=e.cloneNode(!0);if(r){r.hasAttribute("data-product-variant-id")&&r.setAttribute("data-product-variant-id",o),r.hasAttribute("data-product-id")&&r.setAttribute("data-product-id",n);let e=r.querySelector('input[name="id"]');if(e)e.setAttribute("value",o),e.hasAttribute("disabled")&&e.removeAttribute("disabled");else{const t=r.querySelector('select[name="id"]');if(t){const e=t.querySelector('option[selected="selected"]');e&&e.setAttribute("value",o)}}const i=r.querySelector('input[name="product-id"]');i&&i.setAttribute("value",n);const a=document.createElement("div");return a.className="whatmore-atc",a.appendChild(r),document.body.appendChild(a),console.log(a,"formElement"),"92319318403"===t&&((t,e,o)=>{var n;const r=null!==(n=t.matches)&&void 0!==n&&n.call(t,"form")?t:t.querySelector("form");if(!r)return;let i=r.querySelector('input[name="id"]');i||(i=document.createElement("input"),i.type="hidden",i.name="id",r.prepend(i)),i.value=String(e),i.removeAttribute("disabled");const a=r.querySelector('select[name="id"]');a&&([...a.options].some(t=>t.value===String(e))?(a.value=String(e),[...a.options].forEach(t=>t.selected=t.value===String(e)),a.dispatchEvent(new Event("change",{bubbles:!0}))):a.removeAttribute("name"));const s=r.querySelector('input[name="product-id"]');s&&(s.value=String(o))})(a,o,n),a}},f=t=>{const e=null===t||void 0===t?void 0:t.querySelector('button[type="submit"]');e&&e.click()},v=t=>{(0,r.js)().then(t=>t.json()).then(e=>{const o=e.items.find(e=>e.id==t),n=o.key,i=o.quantity,a=o.properties;(0,r.CP)(n,i,a,d,c,l,!0,!0,!0)})},g=h(document);if(g||(null===g||void 0===g?void 0:g.length)>0){const I=m(g,a,s);f(I),setTimeout(()=>{v(a)},500),I.remove()}else{var y;fetch(null===u||void 0===u||null===(y=u.split("?"))||void 0===y?void 0:y[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html"),o=h(e);if(o||(null===o||void 0===o?void 0:o.length)>0){const t=m(o,a,s);f(t),setTimeout(()=>{v(a)},500),t.remove()}})}setTimeout(e,o)}},4365:function(){},6649:function(t,e,o){var n=o(9950);e.A=({triggerOnce:t=!1,root:e=null,rootMargin:o="0px",threshold:r=0}={})=>{const[i,a]=(0,n.useState)(!1),[s,d]=(0,n.useState)(null),c=(0,n.useRef)(null);return(0,n.useEffect)(()=>{const n=new IntersectionObserver((e,o)=>{e.forEach(e=>{d(e),e.isIntersecting?(a(!0),t&&o.disconnect()):t||a(!1)})},{root:e,rootMargin:o,threshold:r});return c.current&&n.observe(c.current),()=>{n.disconnect()}},[t,e,o,r]),[c,i,s]}},8154:function(t,e,o){o.r(e);var n=o(9950),r=o(1348),i=o(964),a=o(5830),s=o(140),d=o(4533),c=o(851),l=o(1085),u=o(6613),p=o(3330),h=(o(3262),o(572)),m=o(6641),f=o(8603),v=o(2039),g=o(4833),y=o(7802),w=o(2979),x=o(6157),b=o(5551),S=o(69),j=o(9821),T=o(6018),E=o(4414);const C=(0,f.A)({key:"whatmore-css-wsv"}),A=n.lazy(()=>Promise.all([o.e(8304),o.e(9946),o.e(2607),o.e(4241),o.e(3987),o.e(9009),o.e(2275),o.e(5657)]).then(o.bind(o,2275)));e.default=function(t){const[e,o]=(0,n.useState)(),[f,k]=(0,n.useState)(),[_]=(0,a.QN)("isInDesignMode"),[N]=(0,a.QN)("isDemoBrand"),[P,q]=(0,n.useState)(-2),[I]=(0,a.QN)("whatmoreShopId"),L=(0,a.Xd)("isLandingSharedLink"),O=(0,a.Xd)("whatmoreShareTemplateId"),z=((0,a.Xd)("whatmoreShareStoryId"),(0,a.Xd)("whatmoreShareEventId")),F=(0,a.Xd)("whatmoreLandingLocationType"),R=(0,a.Xd)("whatmoreLoggingActive"),M=(0,a.Xd)("isWhatmorePreviewMode"),{whatmoreWidgetSourceDetails:Q}=(0,n.useContext)(b.B);var D=(0,r.SOt)(I)?i.aD+"/get_eventset/":i.$$+"/get_eventset/",V=(0,r.SOt)(I)?i.aD+"/get_eventset_v1/":i.$$+"/get_eventset_v1/";(0,n.useEffect)(()=>{(0,d.wm)()},[]),(0,n.useEffect)(()=>{(0,p.initializeGA)(I)},[]),(0,n.useEffect)(()=>{null==e||0==e.length||f||!(0,u.MN)()||(0,a.Xd)("whatmoreVideoPlayerPoolInitiated")||((0,j._)()?(0,l.Pc)(l.F5):(0,S.bi)())},[e]),(0,n.useEffect)(()=>{q(-1);const t=g.JA,e=(0,g.t6)(F),n="78232846646"===I.toString()?V.toString()+I.toString()+"?eventset_type="+t+"&event_type=video&source="+e+"&source_id="+I:D.toString()+I.toString()+"?eventset_type="+t+"&source="+e+"&source_id="+I;fetch(n).then(t=>t.json()).then(e=>(0,y.Po)(e,t)).then(t=>{if(M&&(null==t||t&&0==(null===t||void 0===t?void 0:t.length)))return o(T.n),T.n;let e=[...null===t||void 0===t?void 0:t.events,...null===t||void 0===t?void 0:t.all_events];return(0,r.xku)(I)||(e=(0,y.zJ)(e)),o(e),e}).catch(t=>{k(t.message)})},[]),(0,n.useEffect)(()=>{q(-2)},[e]),(0,n.useEffect)(()=>{null==e||0==e.length||f||L&&"template-embed"==(0,g.Mm)(O)&&null!=z&&e.forEach((t,e)=>{z==t.event_id&&X(t,!0,e)})},[e]);const G=Q.landingLocationType,B=Q.templateType,X=(t,e=!1,o=0)=>{if((0,u.MN)()&&!e&&((0,j._)()?(0,l.bo)():(0,S.Ij)()),(0,v.ij)(t)||(0,v.Il)(t))return _||N||(async()=>{const e=(0,g.Wd)(G)+(0,g.gf)(B)+(null!==t&&void 0!==t&&t.isRelatedEvent?"R":"E")+"_"+(null===t||void 0===t?void 0:t.event_id);(0,s.lB)(t),(0,p.sendVideoViewEventToGA)(I,i.DK,i.K1),(0,d.Ch)(t.event_id,t.products,"spotlight","video_popup",e)})(),void q(o)};function W(){return(0,E.jsx)(E.Fragment,{})}return null==e||0==e.length||f?(0,E.jsx)("div",{}):(R&&(0,m.xv)(e),(0,r.ALN)(I)&&P<0&&null!==localStorage.getItem("_whatmore_spotlight_viewed")?(0,E.jsx)(E.Fragment,{}):(localStorage.setItem("_whatmore_spotlight_viewed",!0),(0,E.jsx)(h.C,{value:C,children:-1===P||0===e.length?(0,E.jsx)(W,{}):-2===P&&e.length>0?(0,E.jsx)("div",{children:(0,E.jsx)(w.S,{userInteractionType:x.O.SPOTLIGHT_WIDGET_VIEW,event:e[0],productList:e[0].products,cta:e[0].cta,triggerFlag:!_&&!N,children:(0,E.jsx)(c.A,{event:e[0],inVideoClick:X,closeClick:t=>{t.stopPropagation(),q(-1)},isSpotlight:!0})})}):(0,E.jsx)("div",{children:(0,E.jsx)(n.Suspense,{children:(0,E.jsx)(w.S,{userInteractionType:x.O.EVENT_VIEW,event:e[0],productList:e[0].products,cta:e[0].cta,triggerFlag:!_&&!N,children:(0,E.jsx)(A,{events:e,index:P,onBack:function(){q(-2)},template:"template-embed"})})})})})))}},9733:function(){}}]);