"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[580],{3580:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(7313),i=n(8866),o=n(9543),a=(n(9111),n(123),n(9778),n(4892),n(9854)),s=n(868),l=n(6417);var d=function(e){var t;const[n]=(0,o.j1)("whatmorePrimaryFont"),[i]=(0,o.j1)("whatmorePrimaryColor"),[d]=(0,o.j1)("whatmoreSecondaryColor"),[h]=(0,o.j1)("whatmoreShopId"),[u,c]=(0,r.useState)(!1),p=e.storyId,f=(0,s.V)(e.imageUrl),x=e.title,m=e.onClick,w=e.template,g=(0,a.f6)(h),v="template-stories-a"===w?"50%":"30%",y=Math.floor(e.tileSize),j=.12*y,b=null!==(t=(0,a.u2)(h))&&void 0!==t?t:[d,g,d,g,d];return(0,l.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:y+"px",marginLeft:"10px",marginRight:"10px",marginTop:"10px",marginBottom:"10px",cursor:"pointer"},onClick:()=>{c(!0),m(p)},className:[u?"whatmore-scale-on-tap":""].join(" "),children:[(0,l.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"fit-content",borderRadius:v,boxShadow:"0px 2px 1px 0px "+b[0]+"50, 0px -2px 1px 0px "+b[1]+"50, 2px 0px 1px 0px "+b[2]+"50, -2px 0px 1px 0px "+b[3]+"80, 2px -2px 1px 0px "+b[4]+"80, -2px 2px 1px 0px "+b[0]+"DA, 2px 2px 1px 0px "+b[1]+"DA, -2px -2px 1px 0px "+b[2]+"DA"},children:(0,l.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:y+"px",width:y+"px",borderRadius:v,border:"3px solid white",backgroundColor:"gray",overflow:"hidden"},children:(0,l.jsx)("img",{src:f,style:{objectFit:"cover",height:y+"px",width:y+"px",backgroundColor:"white"}})})}),(0,l.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"100%",marginTop:"10px"},children:(0,l.jsx)("p",{style:{textAlign:"center",color:"black",fontFamily:n,fontWeight:"normal",fontSize:j+"px",lineHeight:"110%",margin:0,padding:0,overflow:"hidden",textOverflow:"ellipsis"},children:x.substring(0,24)})})]})};var h=function(e){const[t,n,r]=(0,i.Z)(),[s]=(0,o.j1)("whatmoreLandscapePadding"),[h]=(0,o.j1)("whatmoreStoryTileSize"),[u]=(0,o.j1)("whatmoreShopId");var c=e.eventsStories;const p=e.onClick,f=e.template,x="landscape"===t?n*(h/100)*.3:r*(h/100)*.5;return(0,l.jsx)("div",{style:{left:s+"px",right:s+"px",marginBottom:"portrait"==t?(0,a.cj)(u):(0,a.TM)(u)},children:"landscape"!=t||(0,a.DF)(u)?(0,l.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"landscape"===t?"center":"flex-start",height:"fit-content",width:"100%"},className:"whatmore-story-horizontal-flex",children:c.map(((e,t)=>(0,l.jsx)(d,{storyId:e.id,tileSize:x,onClick:e=>{p(t)},template:f,imageUrl:e.thumbnail_image,title:e.title},"whatmore-story-"+e.id)))}):(0,l.jsx)(l.Fragment,{})})}},4892:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(7313),i=n(868),o=n(8984),a=(n(6422),n(6417));var s=function(e){var t,n;const i=(0,r.useRef)(null),[o,s]=(0,r.useState)(!1),l=null!==(t=e.height)&&void 0!==t?t:"100%",d=null!==(n=e.width)&&void 0!==n?n:"100%";return(0,a.jsx)("div",{style:{width:l,height:d,overflow:"hidden"},children:(0,a.jsx)("video",{ref:i,className:"whatmore-video-player",width:d,height:l,preload:"auto",loop:!0,playsInline:!0,muted:!0,autoPlay:!0,src:e.url,style:{backgroundColor:"white"}})})};var l=function(e){var t,n,l;const d=null!==(t=e.pauseFromPlayTimeInMs)&&void 0!==t?t:200;if((0,o.KE)())return(0,a.jsx)(s,{height:"100%",width:"100%",url:(0,i.V)(e.url),isPlaying:e.isPlaying,pauseFromPlayTimeInMs:d});const h=(0,r.useRef)(null),[u,c]=(0,r.useState)(!1),p=null!==(n=e.height)&&void 0!==n?n:"100%",f=null!==(l=e.width)&&void 0!==l?l:"100%";return(0,r.useEffect)((()=>{h.current&&(e.isPlaying?h.current.play():h.current.play().then((()=>{setTimeout((()=>{h.current.pause(),c(!0)}),d)})))}),[e.isPlaying,u]),(0,a.jsx)("div",{style:{width:p,height:f,overflow:"hidden"},children:(0,a.jsx)("video",{ref:h,className:"whatmore-video-player",width:f,height:p,preload:"auto",loop:!0,playsInline:!0,muted:!0,src:(0,i.V)(e.url),style:{backgroundColor:"white"}})})}},868:function(e,t,n){n.d(t,{V:function(){return i}});const r={"https://d3syezql093hs1.cloudfront.net":"https://whatmore-brand-video-assets.azureedge.net","https://d2r0bijhs9mx1s.cloudfront.net":"https://whatmore-brand-thumbnail-video-assets.azureedge.net","https://d2oouab8j9eigo.cloudfront.net":"https://whatmore-brand-story-assets.azureedge.net","https://d28nus7q7qajdn.cloudfront.net":"https://whatmore-video-assets.azureedge.net","https://d1qflh9ill7vje.cloudfront.net":"https://whatmore-plugin-assets.azureedge.net","https://d3o9roqe5p68r1.cloudfront.net":"https://whatmore-stage-plugin-assets.azureedge.net"},i=function(e){if(e.startsWith("https://cdn.shopify.com"))return e;if(e.includes(".azureedge.net"))return e;if(e.includes(".cloudfront.net")){for(const t of Object.keys(r))if(e.includes(t))return e.replace(t,r[t]);return e}return e}},6422:function(e,t,n){var r=n(7313),i=n(7371);const{useGlobalState:o}=(0,i.r)({muted:!1});t.Z=function(e){const[t,n]=o("muted");return(0,r.useEffect)((()=>{}),[]),[t,n]}},8866:function(e,t,n){var r=n(7313);function i(){return[window.innerHeight,window.innerWidth]}t.Z=function(e){var[t,n]=i();const[o,a]=(0,r.useState)(["portrait",t,n]);return(0,r.useLayoutEffect)((()=>{function e(){var[e,t]=i();a(e>t?["portrait",e,t]:["landscape",e,t])}return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),screen.orientation&&screen.orientation.addEventListener("change",e),e(),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),screen.orientation&&screen.orientation.removeEventListener("change",e)}}),[]),o}},9111:function(){},123:function(){},9778:function(){}}]);