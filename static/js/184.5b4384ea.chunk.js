"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[184],{7381:function(e,t,n){function o(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"200";const o=null!==(t=localStorage.getItem("whatmoreActivateLogs"))&&void 0!==t&&t;o&&(console.debug("###=======Whatmore Log start.======####"),console.debug("Fetched Events from Whatmore"),console.debug("response status code : "+n.status),console.debug("total events received : "+(e&&e.length)),o&&console.debug("events data : "+JSON.stringify(e)),console.debug("###=======Whatmore Log end.======####"))}n.d(t,{E:function(){return o}})},3388:function(e,t,n){n.d(t,{OC:function(){return u},e8:function(){return s},kT:function(){return o},kW:function(){return i},xg:function(){return r}});const o=function(e,t){return!((void 0==e.products||0==e.products.length)&&(void 0==e.cta||0==e.cta.length))},r=function(e,t){return!(void 0==e.products||0==e.products.length)},s=function(e,t){if(null!=e)return e.filter((e=>1==o(e)))},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e)return t?e[0].events:e};const u=function(e,t){var n;if(null==e)return[];if(!("eventsets"in e))return[];const o=null!==(n=e.eventsets[t])&&void 0!==n?n:null;return o?function(e){if(null==e||0==e.length)return[];let t=[];return e.forEach((e=>{e.events.forEach((e=>{t.push(e)}))})),t}(o):[]}},2209:function(e,t,n){n.r(t);var o=n(7313),r=n(9854),s=n(2860),i=n(7753),u=n(5160),c=n(6967),l=n(5380),a=n(58),d=n(8984),h=n(4669),f=n(941),g=n(9302),v=n(7381),m=n(2575),p=n(7300),w=n(6524),E=n(3388),S=n(6417);const b=(0,m.Z)({key:"whatmore-css-wsv"}),j=o.lazy((()=>Promise.all([n.e(648),n.e(576),n.e(853),n.e(843),n.e(926),n.e(310),n.e(282),n.e(26)]).then(n.bind(n,1862))));t.default=function(e){const[t,n]=(0,o.useState)(),[m,k]=(0,o.useState)(),[x]=(0,i.j1)("isInDesignMode"),[O]=(0,i.j1)("isDemoBrand"),[M,_]=(0,o.useState)(-2),[y]=(0,i.j1)("whatmoreShopId"),C=(0,i.MO)("isLandingSharedLink"),L=(0,i.MO)("whatmoreShareTemplateId"),I=((0,i.MO)("whatmoreShareStoryId"),(0,i.MO)("whatmoreShareEventId")),D=(0,i.MO)("whatmoreLandingLocationType"),T=(0,i.MO)("whatmoreLoggingActive");var W=(0,r.ef)(y)?s.Dm+"/get_eventset/":s.Gc+"/get_eventset/";(0,o.useEffect)((()=>{(0,c.hb)()}),[]),(0,o.useEffect)((()=>{(0,h.ll)(y)}),[]),(0,o.useEffect)((()=>{null==t||0==t.length||m||!(0,d.KE)()||(0,i.MO)("whatmoreVideoPlayerPoolInitiated")||(0,a.b5)(a.UD)}),[t]),(0,o.useEffect)((()=>{_(-1);const e=w.NX,t=(0,w.H1)(D),o=W.toString()+y.toString()+"?eventset_type="+e+"&source="+t+"&source_id="+y;fetch(o).then((e=>e.json())).then((t=>(0,E.OC)(t,e))).then((e=>(n(e),e))).catch((e=>{k(e.message)}))}),[]),(0,o.useEffect)((()=>{_(-2)}),[t]),(0,o.useEffect)((()=>{null==t||0==t.length||m||C&&"template-embed"==(0,w.zv)(L)&&null!=I&&t.forEach(((e,t)=>{I==e.event_id&&P(e,!0,t)}))}),[t]);const P=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((0,d.KE)()&&!t&&(0,a.QV)(),(0,p.B6)(e)||(0,p.WJ)(e))return x||O||(async()=>{(0,u.wh)(e),(0,h.Tc)(y,s.h7,s.dU),(0,c.H4)(e.event_id,e.products,"spotlight","video_popup")})(),void _(n)};function A(){return(0,S.jsx)(S.Fragment,{})}return null==t||0==t.length||m?(0,S.jsx)("div",{}):(T&&(0,v.E)(t),(0,S.jsx)(g.C,{value:b,children:-1===M||0===t.length?(0,S.jsx)(A,{}):-2===M&&t.length>0?(0,S.jsx)("div",{children:(0,S.jsx)(l.Z,{event:t[0],inVideoClick:P,closeClick:e=>{e.stopPropagation(),_(-1)}})}):(0,S.jsx)("div",{children:(0,S.jsx)(o.Suspense,{children:(0,S.jsx)(j,{events:t,index:M,onBack:function(){(0,r.n2)(y)&&(0,i.MO)("whatmoreAddedToCart")&&(0,f.D)(y,(()=>{}),100,window.location.hostname),_(-2)},template:"template-embed"})})})}))}}}]);