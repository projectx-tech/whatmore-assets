"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[622],{3827:function(e,t,o){o.r(t);var r=o(7313),l=o(6090),i=o(7616),a=(o(6143),o(7850),o(4444),o(7244),o(123),o(5892),o(1811),o(9302)),n=o(2575),s=o(8866),c=o(7753),h=o(7129),d=o(9852),m=o(8631),p=o(6066),u=o(8782),g=o(9821),f=o(7381),v=o(5380),x=o(3933),w=o(9854),C=o(6417);const y=(0,n.Z)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o,n,M]=(0,s.Z)(),[j,k,S,P,Z]=(0,g.Z)(),[O,R]=(0,r.useState)(Array(t.length).fill(0).map((()=>Math.random()))),b=(0,c.MO)("whatmoreCollectionsTileSize"),E=(0,c.MO)("whatmoreCollectionsTileSizePortrait"),I="portrait"===o?E:b,T="portrait"==o?0:(0,c.MO)("whatmoreLandscapePadding"),L=(0,c.MO)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:V}=(0,r.useContext)(d.I),B=(0,c.MO)("whatmoreShopId"),{whatmoreRootId:q}=(0,r.useContext)(d.I),z=e.onClick;function A(e){z(e)}(0,r.useEffect)((()=>{(0,f.Oo)("Video shopping powered by Whatmore!")}),[]),delete i.ZP.styles.global;var D=[];for(let r=0,l=!1;r<t.length;)l&&r!=t.length-1&&O[r]>.2?(D.push((0,C.jsx)(p.Z,{mode:o,event1:t[r],event2:t[r+1],onClick:()=>{A(t[r-1])}},"collections-tile-"+r)),r+=2,l=!l):(D.push((0,C.jsx)(m.Z,{mode:o,event:t[r],onClick:()=>{A(t[r-1])},borderRadius:"10%",removeBorders:!1},"collections-tile-"+r)),r+=1,l=!l);(0,r.useEffect)((()=>{d.$.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-a"]')))return;e&&(e.style.minHeight="0px")}))}),[]);const[H,W,_]=(0,x.YD)({triggerOnce:!1});return(0,C.jsx)(a.C,{value:y,children:(0,C.jsx)("div",{children:(0,C.jsx)(l.x,{theme:i.ZP,cssVarsRoot:q,resetCSS:!1,children:(0,C.jsxs)(h.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,C.jsx)("div",{ref:H,style:{marginLeft:T+"px",marginRight:T+"px"},children:(0,C.jsx)(u.P,{renderElement:e=>(0,C.jsx)(C.Fragment,{children:e.eventData}),dataList:D,spacing:L,defaultHeight:j*I*.01+"px",defaultWidth:k*I*.01+"px",retainAlreadyRenderedElements:!0})}),(0,w.dhc)(B)&&V&&!W&&-1==e.index&&(0,C.jsx)(v.Z,{event:t[0],inVideoClick:A,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}}}]);