"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[622],{3827:function(e,t,o){o.r(t);var l=o(7313),r=o(6090),a=o(7616),i=(o(6143),o(7850),o(4444),o(7244),o(123),o(5892),o(1811),o(9302)),n=o(2575),s=o(8866),c=o(7753),h=o(7129),d=o(364),m=o(8631),p=o(6066),u=o(8782),g=o(9821),v=o(7381),f=o(5380),w=o(3933),x=o(9854),C=o(32),y=o(6417);const M=(0,n.Z)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o,n,j]=(0,s.Z)(),[k,S,P,Z,O]=(0,g.Z)(),[R,I]=(0,l.useState)(Array(t.length).fill(0).map((()=>Math.random()))),b=(0,c.MO)("whatmoreCollectionsTileSize"),E=(0,c.MO)("whatmoreCollectionsTileSizePortrait"),T="portrait"===o?E:b,L="portrait"==o?0:(0,c.MO)("whatmoreLandscapePadding"),V=(0,c.MO)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:B}=(0,l.useContext)(d.I),q=(0,c.MO)("whatmoreShopId"),{whatmoreRootId:z}=(0,l.useContext)(d.I),A=e.onClick;function D(e){A(e)}(0,l.useEffect)((()=>{(0,v.Oo)("Video shopping powered by Whatmore!")}),[]),delete a.ZP.styles.global;var H=[];for(let l=0,r=!1;l<t.length;)r&&l!=t.length-1&&R[l]>.2?(H.push((0,y.jsx)(p.Z,{mode:o,event1:t[l],event2:t[l+1],onClick:()=>{D(t[l-1])}},"collections-tile-"+l)),l+=2,r=!r):(H.push((0,y.jsx)(m.Z,{mode:o,event:t[l],onClick:()=>{D(t[l-1])},borderRadius:"10%",removeBorders:!1},"collections-tile-"+l)),l+=1,r=!r);(0,l.useEffect)((()=>{C.IR.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-a"]')))return;e&&(e.style.minHeight="0px")}))}),[]);const[W,_,F]=(0,w.YD)({triggerOnce:!1});return(0,y.jsx)(i.C,{value:M,children:(0,y.jsx)("div",{className:B?"whatmore-collection-events":"whatmore-carousel-events",children:(0,y.jsx)(r.x,{theme:a.ZP,cssVarsRoot:z,resetCSS:!1,children:(0,y.jsxs)(h.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,y.jsx)("div",{ref:W,style:{marginLeft:L+"px",marginRight:L+"px"},children:(0,y.jsx)(u.P,{renderElement:e=>(0,y.jsx)(y.Fragment,{children:e.eventData}),dataList:H,spacing:V,defaultHeight:k*T*.01+"px",defaultWidth:S*T*.01+"px",retainAlreadyRenderedElements:!0})}),(0,x.dhc)(q)&&B&&!_&&-1==e.index&&(0,y.jsx)(f.Z,{event:t[0],inVideoClick:D,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}}}]);