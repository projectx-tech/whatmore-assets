"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[554],{9085:function(t,e,o){o.r(e),o.d(e,{default:function(){return I}});var n=o(7313),r=(o(3439),o(6090)),i=o(9039),l=o(7616),s=(o(6143),o(7850),o(4444),o(7244),o(123),o(5892),o(1811),o(9302)),a=o(2575),c=o(9821),d=o(8866),p=o(2279),h=o.n(p),u=o(7753),m=o(7129),x=o(1855),y=o(9854),f=o(7376),v=o(778),g=o(4892),w=o(5945),j=o(9219),M=o(6805),P=o(8984),C=o(6417);var S=function(t){var e,o,r,l,s,a,d,p,h,x;const[f,v,S,b,O]=(0,c.Z)(),k=(0,u.MO)("whatmoreShopId"),E="portrait"===O[M.YP],I=(E?1.076*v*(0,y.pEd)(k):v*(0,y.H4g)(k))+"px",Z=(E?1.076*v*(0,y.pEd)(k):v*(0,y.H4g)(k))+"px",N=(E?.965*v*(0,y.pEd)(k):.859*v*(0,y.H4g)(k))+"px",[T,W]=(0,n.useState)(t.event),F=(0,u.MO)("whatmoreSecondaryColor");var R=(0,n.useContext)(m.V);const z=null===(e=t.isOnFocus)||void 0===e||e,_=null!==(o=t.playOnUnfocus)&&void 0!==o&&o,D=t.onClick,{whatmoreUITheme:L}=(0,n.useContext)(i.I),U=null!==(r=t.animateOnFocus&&(0,y.iWI)(k))&&void 0!==r&&r,[Y,A]=(0,n.useState)(!(0,y.N8M)(k)),B=(0,u.MO)("whatmorePrimaryFont"),H=Math.round(+(null===(l=T.products[0])||void 0===l?void 0:l.price)),X=Math.round(+(null===(s=T.products[0])||void 0===s?void 0:s.compare_price)),G=X&&0!=X&&X>H?Math.ceil((X-H)/X*100):NaN,[V,q]=(0,n.useState)(G);return(0,n.useEffect)((()=>{(0,y.N8M)(k)&&(0,j.p_)(T,(0,y.Ipo)(k),k).then((t=>{var e,o,n;W(t),(null===t||void 0===t||null===(e=t.products)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.discount)&&q(null===t||void 0===t||null===(n=t.products[0])||void 0===n?void 0:n.discount),A(!0)}))}),[]),(0,C.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("margin-top",R.tileTopMargin+"px","important"),t.style.setProperty("margin-bottom",R.tileBottomMMargin+"px","important"))},className:U&&!E?z?"whatmore-event-tile-scale-out-animation":"whatmore-event-tile-scale-in-animation":"none",style:{margin:"0 auto",cursor:"pointer",width:v},onClick:()=>{D(T)},children:[(0,C.jsx)("div",{style:{borderRadius:"round"==L?"5%":"0px",boxShadow:"round"==L?"0px 0px 5px 0px #B0B0B0":null,height:f,borderWidth:(0,y.alU)(k),borderColor:(0,y.qPe)(k),overflow:"hidden"},children:(0,C.jsx)(g.Z,{height:"100%",width:"100%",url:T.thumbnail_image,isPlaying:z||_||(0,P.gE)(),event:T})}),(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"12px 4px",gap:"5px"},children:[(0,C.jsx)("p",{ref:t=>{t&&(t.style.setProperty("font-size",I,"important"),t.style.setProperty("line-height","120%","important"),t.style.setProperty("font-family",B,"important"),t.style.setProperty("-webkit-line-clamp",1,"important"),t.style.setProperty("line-clamp",1,"important"),t.style.setProperty("-webkit-box-orient","vertical","important"),t.style.setProperty("display","-webkit-box","important"),t.style.setProperty("overflow","hidden","important"),t.style.setProperty("text-overflow","ellipsis","important"))},children:(0,w.s)(null===(a=T.products[0])||void 0===a?void 0:a.title)}),Y&&(0,C.jsxs)("div",{style:{display:"flex",gap:"12px",flexDirection:(0,y.$zZ)(k)?"row":"row-reverse",justifyContent:(0,y.$zZ)(k)?"flex-start":"flex-end"},children:[(0,C.jsx)("p",{ref:t=>{t&&(t.style.setProperty("color",(0,y.Uyp)(k),"important"),t.style.setProperty("font-size",Z,"important"),t.style.setProperty("font-family",B,"important"),t.style.setProperty("overflow","hidden","important"))},style:{textAlign:"left",fontWeight:"bold"},children:(0,j.jx)(parseFloat(null===(d=T.products[0])||void 0===d?void 0:d.price)," ",k,null===(p=T.products[0])||void 0===p?void 0:p.currency)}),!isNaN(X)&&X>H&&(0,C.jsx)("p",{ref:t=>{t&&(t.style.setProperty("color",(0,y.kPs)(k),"important"),t.style.setProperty("font-size",Z,"important"),t.style.setProperty("font-family",B,"important"),t.style.setProperty("overflow","hidden","important"))},style:{textDecoration:"line-through"},children:(0,j.jx)(parseFloat(null===(h=T.products[0])||void 0===h?void 0:h.compare_price)," ",k,null===(x=T.products[0])||void 0===x?void 0:x.currency)})]}),!isNaN(V)&&0!=V&&Y&&(0,C.jsx)("div",{style:{display:"flex",backgroundColor:"green"==(0,y.ZJm)(k)?"#343434"==F?(0,y.ZJm)(k):F:(0,y.ZJm)(k),alignItems:"center",borderRadius:"4px",width:"fit-content",padding:"3px 6px"},children:(0,C.jsx)("p",{ref:t=>{t&&(t.style.setProperty("color",(0,y.mso)(k),"important"),t.style.setProperty("font-size",N,"important"),t.style.setProperty("font-family",B,"important"))},children:"".concat(V,"% Off")})})]})]})},b=o(7381);const O=(0,a.Z)({key:"whatmore-css-hv"});function k(t){const[e,o,r]=(0,c.Z)(),l=(0,u.MO)("whatmoreShopId"),s=t.events,a=t.onClick,{whatmoreWidgetSourceDetails:d}=(0,n.useContext)(i.I),p=Math.ceil(r),h=2*p,[m,g]=(0,n.useState)(h),[w,j]=(0,n.useState)(2*p),M=0===(0,y.WGf)(l)?24:(0,y.WGf)(l),[P,b]=(0,n.useState)({touchX:0,touchY:0}),O=t=>{if("next"===t){const t=2;j((t=>Math.min(t+Math.floor(r),s.length+p+1))),g((e=>Math.min(e+t,s.length+p+1)))}else j((t=>Math.max(t-Math.floor(r),h)));(0,f.y4)({userInteractionType:v.K.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:d})};return(0,C.jsx)("div",{className:"whatmore-events-carousel-portrait",style:{display:"flex",justifyContent:"flex-start",paddingLeft:"12px",overflow:"hidden"},onTouchStart:t=>{b({touchX:t.touches[0].clientX,touchY:t.touches[0].clientY})},onTouchEnd:t=>{var e,o,n,r;const i=(null===(e=t.changedTouches)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.clientX)-P.touchX,l=(null===(n=t.changedTouches)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.clientY)-P.touchY;Math.sqrt(i**2+l**2)>10&&Math.abs(i)>Math.abs(l)&&O(i>0?"prev":"next")},children:(0,C.jsx)("div",{style:{display:"flex",gap:M,transform:"translateX(-".concat((w-h)*(o+M),"px)"),transition:"transform 0.4s ease-in-out"},children:s.map(((t,e)=>e<m?(0,C.jsx)("div",{children:(0,C.jsx)(S,{isOnFocus:e<=w-p-1&&e>=Math.max(0,w-h),playOnUnfocus:!1,animateOnFocus:!0,event:t,onClick:()=>a(t)})},"whatmore-carousel-tile-".concat(e)):(0,C.jsx)(x.Z,{})))})})}function E(t){const[e,o,r,l]=(0,c.Z)(),[s,a]=(0,n.useState)(-1),d=(0,u.MO)("whatmoreShopId"),[p,m]=(0,n.useState)("next"),x=t.onClick,g=t.events,{whatmoreWidgetSourceDetails:w}=(0,n.useContext)(i.I),j=Math.min(Math.ceil(r),g.length),[M,P]=(0,n.useState)(0),b=0===(0,y.WGf)(d)?24:(0,y.WGf)(d),O=()=>(0,C.jsx)("div",{children:(0,C.jsx)("button",{onClick:Z,style:{width:"50px",borderRadius:"6px",height:"100px",backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,C.jsx)("div",{style:{display:"flex"},className:"whatmore-arrow-right"})})}),k=()=>(0,C.jsx)("div",{children:(0,C.jsx)("button",{onClick:I,style:{width:"50px",borderRadius:"6px",height:"100px",backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,C.jsx)("div",{style:{display:"flex"},className:"whatmore-arrow-left"})})});(0,n.useEffect)((()=>{M<=j&&P((t=>t+j))}),[j]);const E=()=>{a(-1)},I=()=>{M!==j&&(m("prev"),P((t=>Math.max(Math.ceil(t-r),j))),(0,f.y4)({userInteractionType:v.K.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:w}))},Z=()=>{M>g.length+r||(m("next"),P((t=>Math.floor(t+r))),(0,f.y4)({userInteractionType:v.K.HOMEPAGE_CAROUSEL_SWIPED,widgetSourceDetails:w}))},N=M>g.length?g.length-j+1:M-j,T=M>=g.length?g.length:N+j,W=g.slice(N,T);return(0,C.jsxs)("div",{className:"whatmore-events-carousel-landscape",style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"".concat(l,"px"),paddingRight:"".concat(l,"px")},children:[g.length>=r-1&&(0,C.jsx)("div",{style:{position:"absolute",left:"0",zIndex:1,top:"50%",transform:"translateX(50%) translateY(-65%)"},children:M!==j&&(0,C.jsx)(k,{})}),(0,C.jsx)("div",{style:{display:"flex",gap:b+"px",width:"".concat(o*r*(0,y.Su5)(d),"px"),paddingLeft:"8px",justifyContent:g.length<=r-1?"center":"flex-start",overflow:"hidden"},children:W.map(((t,e)=>{const o="whatmore-event-tile-landscape-".concat(t.index).concat(e===j-1?"-last":""),n=e===s;return(0,C.jsx)("div",{className:"whatmore-event-tile-horizontal-swipe-animation-".concat("next"===p?"next":"prev"),onMouseEnter:()=>(t=>{const e=h()((()=>a(t)),300);return e(),e.cancel})(e),onMouseLeave:E,children:(0,C.jsx)(S,{isOnFocus:n,playOnUnfocus:!0,animateOnFocus:!0,event:t,onClick:()=>(t=>{x(t)})(t)})},o)}))}),g.length>=r-1&&(0,C.jsx)("div",{style:{position:"absolute",zIndex:1,top:"50%",right:l+"px",transform:"translateY(-65%)"},children:M<=g.length&&(0,C.jsx)(O,{})})]})}var I=function(t){var e;const[o,a,c]=(0,d.Z)(),[p]=(0,u.j1)("whatmoreShopId"),[h]=(0,u.j1)("whatmorePrimaryColor"),[x]=(0,u.j1)("whatmoreSecondaryColor"),[f]=(0,u.j1)("whatmoreTitleFont"),v="portrait"==o?(0,u.MO)("whatmoreTitleFontSizePortrait"):(0,u.MO)("whatmoreTitleFontSize"),{whatmoreRootId:g}=(0,n.useContext)(i.I),w=t.events,j=t.onClick,M=null!==(e=(0,y.aRS)(p))&&void 0!==e?e:f;function P(t){j(t)}return(0,n.useEffect)((()=>{(0,b.Oo)("Video shopping powered by Whatmore!")}),[]),(0,n.useEffect)((()=>{i.$.forEach((t=>{var e;const o=null!==(e=t.querySelector('.whatmore-template-type[data-wh="template-f"]'))&&void 0!==e?e:t.querySelector('.whatmore-template-type[data="template-f"]');if(!o)return;const n=t.querySelector(".whatmore-base");o&&n&&(n.style.minHeight="0px")}))}),[]),delete l.ZP.styles.global,(0,C.jsx)(s.C,{value:O,children:(0,C.jsx)("div",{children:(0,C.jsx)(r.x,{theme:l.ZP,cssVarsRoot:g,resetCSS:!1,children:(0,C.jsxs)(m.V.Provider,{value:{tileTopMargin:25,tileBottomMMargin:25,tileLeftMargin:4,tileRightMargin:4,showPlayButton:!0},children:[t.heading.trim().length>0?(0,C.jsx)("div",{className:"whatmore-events-carousel",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,C.jsx)("p",{ref:t=>{t&&(t.style.setProperty("font-family",M,"important"),t.style.setProperty("font-size",v+"px","important"))},style:{color:h,backgroundClip:"text",textAlign:"center",fontWeight:(0,y.wOV)(p),lineHeight:(0,y.vY4)(p),letterSpacing:(0,y.X2K)(p)},children:t.heading})}):(0,C.jsx)(C.Fragment,{}),"landscape"===o?(0,C.jsx)(E,{events:w,onClick:P}):(0,C.jsx)(k,{events:w,onClick:P})]})})})})}},7129:function(t,e,o){o.d(e,{V:function(){return n}});const n=(0,o(7313).createContext)({tileTopMargin:10,tileBottomMMargin:10,tileLeftMargin:10,tileRightMargin:10,showPlayButton:!0})},1855:function(t,e,o){var n=o(7313),r=o(9821),i=o(7129),l=o(6417);e.Z=function(t){var[e,o]=(0,r.Z)();return(0,n.useContext)(i.V),t.event,(0,l.jsx)("div",{style:{margin:"0 auto",width:o,height:e,overflow:"hidden"}})}},3439:function(){},5892:function(){},4444:function(){},1811:function(){},7850:function(){}}]);