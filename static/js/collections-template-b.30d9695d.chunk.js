"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[91],{6071:function(e,t,o){o.r(t);var r=o(7313),i=o(6090),n=o(7616),a=(o(6143),o(7850),o(4444),o(7244),o(123),o(5892),o(1811),o(9302)),l=o(2575),p=o(8866),s=o(7753),x=o(7129),d=o(364),h=o(32),c=o(8631),m=o(6066),u=o(8782),g=o(9821),w=o(7381),f=o(9854),v=o(5380),y=o(5333),j=o(6417);const C=(0,l.Z)({key:"whatmore-css-cv"});t.default=function(e){const t=e.events,[o,l,b]=(0,p.Z)(),[S,k]=(0,r.useState)(Array(t.length).fill(0).map((()=>Math.random()))),[R,Z,M,P,T]=(0,g.Z)(),B=(0,s.MO)("whatmoreCollectionsTileSize"),I=(0,s.MO)("whatmoreCollectionsTileSizePortrait"),L="portrait"===o?I:B,O="portrait"==o?0:(0,s.MO)("whatmoreLandscapePadding"),A=(0,s.MO)("whatmoreCollectionsTilesSpacing"),{whatmoreIsCollectionsTemplate:D}=(0,r.useContext)(d.I),E=(0,s.MO)("whatmoreShopId"),{whatmoreRootId:F}=(0,r.useContext)(d.I),V=e.onClick,[q,z,_]=(0,y.YD)({triggerOnce:!1});function H(e){V(e)}delete n.ZP.styles.global;var N=[];for(let r=0,i=!1;r<t.length;)i&&r!=t.length-1&&S[r]>.2?(N.push((0,j.jsx)(m.Z,{event1:t[r],event2:t[r+1],onClick:()=>{H(t[r-1])},removeBorders:!0},"collections-tile-"+r)),r+=2,i=!i):(N.push((0,j.jsx)(c.Z,{mode:o,event:t[r],onClick:()=>{H(t[r-1])},removeBorders:!0,borderRadius:"0%"},"collections-tile-"+r)),r+=1,i=!i);return(0,r.useEffect)((()=>{(0,w.Oo)("Video shopping powered by Whatmore!")}),[]),(0,r.useEffect)((()=>{h.IR.forEach((e=>{var t;if(!(null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-collections-b"]')||e.querySelector('.whatmore-template-type[data-wh="template-d"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-collections-b"]')||e.querySelector('.whatmore-template-type[data="template-d"]')))return;e&&(e.style.minHeight="0px")}))}),[]),(0,j.jsx)(a.C,{value:C,children:(0,j.jsx)("div",{className:D?"whatmore-collection-events":"whatmore-carousel-events",children:(0,j.jsx)(i.x,{theme:n.ZP,cssVarsRoot:F,resetCSS:!1,children:(0,j.jsxs)(x.V.Provider,{value:{tileTopMargin:0,tileBottomMMargin:0,tileLeftMargin:0,tileRightMargin:0,showPlayButton:!1},children:[(0,j.jsx)("div",{ref:q,style:{marginLeft:O+"px",marginRight:O+"px"},children:(0,j.jsx)(u.P,{renderElement:e=>(0,j.jsx)(j.Fragment,{children:e.eventData}),dataList:N,spacing:A,defaultHeight:R*L*.01+"px",defaultWidth:Z*L*.01+"px",retainAlreadyRenderedElements:!0})}),(0,f.dhc)(E)&&D&&!z&&-1==e.index&&(0,j.jsx)(v.Z,{event:t[0],inVideoClick:H,closeClick:t=>{t.stopPropagation(),e.setScreen(-2)}})]})})})})}},6066:function(e,t,o){var r=o(7313),i=o(9854),n=o(7753),a=(o(9111),o(123),o(9778),o(4892)),l=o(7129),p=o(9821),s=o(6417);t.Z=function(e){var t;const[o,x,d,h,c]=(0,p.Z)(),[m]=(0,n.j1)("whatmoreSecondaryColor"),[u]=(0,n.j1)("whatmoreShopId"),[g]=(0,n.j1)("whatmoreCollectionsTileSize"),[w]=(0,n.j1)("whatmoreCollectionsTileSizePortrait"),f="portrait"===e.mode?w:g,[v,y]=(0,r.useState)(!1),j=(0,i.f63)(u);(0,r.useContext)(l.V);const C=e.event1,b=e.event2,S=e.onClick,k=.01*f,R=o*k,Z=o*k*.5,M=x*k,P=null!==(t=e.borderRadius)&&void 0!==t?t:"10%",T="15%",B=e.removeBorders;return(0,s.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",flexShrink:0,height:R+"px",width:M+"px",marginLeft:B?"2px":"5px",marginRight:B?"2px":"5px",marginTop:B?"2px":"5px",marginBottom:B?"2px":"5px",cursor:"pointer"},children:(0,s.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"fit-content",borderRadius:B?"0px":P,boxShadow:B?"":"0px 1px 1px 0px "+m+"50, 0px -1px 1px 0px "+j+"50, 1px 0px 1px 0px "+m+"50, -1px 0px 1px 0px "+j+"80, 1px -1px 1px 0px "+m+"80, -1px 1px 1px 0px "+j+"DA, 1px 1px 1px 0px "+m+"DA, -1px -1px 1px 0px "+j+"DA"},onClick:()=>{y(!0),S(C)},className:[v?"whatmore-scale-on-tap":""].join(" "),children:[(0,s.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:Z+"px",width:M+"px",borderTopLeftRadius:B?"0px":T,borderTopRightRadius:B?"0px":T,borderBottom:"2px solid transparent",backgroundColor:"transparent",overflow:"hidden"},children:(0,s.jsx)(a.Z,{height:"100%",width:"100%",url:C.thumbnail_image,isPlaying:!0,event:C})}),(0,s.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:Z+"px",width:M+"px",borderBottomLeftRadius:B?"0px":T,borderBottomRightRadius:B?"0px":T,borderTop:"2px solid transparent",backgroundColor:"transparent",overflow:"hidden"},children:(0,s.jsx)(a.Z,{height:"100%",width:"100%",url:b.thumbnail_image,isPlaying:!0,event:b})})]})})}}}]);