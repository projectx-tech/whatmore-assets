"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[580],{3580:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=n(7313),o=n(8866),i=n(7753),s=(n(9111),n(123),n(9778),n(9854)),a=n(868),d=n(3933),l=n(5180),c=n(6417);var h=function(t){var e,n;const[h,p,u]=(0,o.Z)(),[f,x,m]=(0,d.YD)({triggerOnce:!0}),w=(0,i.MO)("whatmorePrimaryFont"),g=((0,i.MO)("whatmorePrimaryColor"),(0,i.MO)("whatmoreSecondaryColor")),v=(0,i.MO)("whatmoreShopId"),[y,b]=(0,r.useState)(!1),j=t.storyId,k=(0,a.V)(t.imageUrl),z=t.title,S=t.onClick,C=t.template,F=(0,s.f6)(v),L="template-stories-a"===C?"50%":"30%",W="portrait"==h?1:(0,s.Zy)(v),D=Math.floor(t.tileSize*W),E=.12*D*(0,s.LM)(v),M=null!==(e=(0,s.Q)(v))&&void 0!==e?e:w,O=null!==(n=(0,s.u2)(v))&&void 0!==n?n:[g,F,g,F,g];return(0,c.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center",flexShrink:0,height:"fit-content",width:D*(0,s.jJ)(v)+"px",marginLeft:"10px",marginRight:"10px",marginTop:"10px",marginBottom:"10px",cursor:"pointer"},onClick:()=>{b(!0),S(j)},className:[y?"whatmore-scale-on-tap":""].join(" "),children:[(0,c.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"fit-content",borderRadius:L,boxShadow:"0px 2px 1px 0px "+O[0]+"50, 0px -2px 1px 0px "+O[1]+"50, 2px 0px 1px 0px "+O[2]+"50, -2px 0px 1px 0px "+O[3]+"80, 2px -2px 1px 0px "+O[4]+"80, -2px 2px 1px 0px "+O[0]+"DA, 2px 2px 1px 0px "+O[1]+"DA, -2px -2px 1px 0px "+O[2]+"DA"},children:(0,c.jsx)("div",{style:{flexShrink:0,objectFit:"cover",height:D+"px",width:D+"px",borderRadius:L,border:"3px solid white",backgroundColor:"gray",overflow:"hidden"},ref:f,children:x?(0,c.jsx)("img",{src:k,style:{objectFit:"cover",height:D+"px",width:D+"px",backgroundColor:"white"},alt:"story image"}):(0,c.jsx)(l.Z,{})})}),(0,c.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"center",flexShrink:0,height:"fit-content",width:"100%",marginTop:"10px"},children:(0,c.jsx)("p",{ref:t=>{t&&t.style.setProperty("font-size",E+"px","important")},style:{textAlign:"center",color:(0,s.WS)(v),fontFamily:M,fontWeight:"normal",lineHeight:"110%",margin:0,padding:0,overflow:"hidden",textOverflow:"ellipsis",width:"auto"},children:z.substring(0,24)})})]})},p=n(9302);const u=(0,n(2575).Z)({key:"whatmore-stories-css"});var f=function(t){const[e,n,a]=(0,o.Z)(),[d]=(0,i.j1)("whatmoreLandscapePadding"),[l]=(0,i.j1)("whatmoreStoryTileSize"),[f]=(0,i.j1)("whatmoreStoryTileSizeDesktop"),[x]=(0,i.j1)("whatmoreShopId"),[m,w]=(0,r.useState)("center"),g=(0,r.useRef)(null);var v=t.eventsStories;const y=t.onClick,b=t.template,j=t=>{if(g.current){const e="left"===t?4*-k:4*k;g.current.scrollBy({left:e,behavior:"smooth"})}};(0,r.useEffect)((()=>{!function(){if(g.current){const t=g.current.scrollWidth,e=g.current.offsetWidth;w(t>e?"flex-start":"center")}}()}),[m,a]);const k="landscape"===e?n*(f/100)*.3:a*(l/100)*.5;return(0,c.jsx)(p.C,{value:u,children:(0,c.jsx)("div",{style:{left:d+"px",right:d+"px",marginBottom:"portrait"==e?(0,s.cj)(x):(0,s.TM)(x)},children:(0,c.jsx)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:"landscape"==e&&!(0,s.DF)(x)||"portrait"==e&&!(0,s.J)(x)?(0,c.jsx)(c.Fragment,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:m,height:"fit-content",width:"100%"},className:"whatmore-story-horizontal-flex",ref:g,children:v.map(((t,e)=>(0,c.jsx)(h,{storyId:t.id,tileSize:k,onClick:t=>{y(e)},template:b,imageUrl:t.thumbnail_image,title:t.title},"whatmore-story-"+t.id)))}),"landscape"===e&&(0,s.sM)(x)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{onClick:()=>j("left"),style:{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, 0.4)",position:"absolute",top:"40%",transform:"translateY(-50%)",left:0},children:(0,c.jsx)("p",{style:{fontSize:"22px",color:"white",padding:"8px"},children:"<"})}),(0,c.jsx)("button",{onClick:()=>j("right"),style:{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, 0.4)",position:"absolute",top:"40%",transform:"translateY(-50%)",right:0},children:(0,c.jsx)("p",{style:{fontSize:"22px",color:"white",padding:"8px"},children:">"})})]})]})})})})}},5180:function(t,e,n){var r=n(6417);e.Z=function(t){var e,n,o;const i=null!==(e=t.height)&&void 0!==e?e:"100%",s=null!==(n=t.width)&&void 0!==n?n:"100%",a=null!==(o=t.borderRadius)&&void 0!==o?o:"10px";return(0,r.jsx)("div",{style:{height:i,width:i,borderRadius:a,overflow:"hidden",minHeight:i,minWidth:s,maxHeight:i,maxWidth:s},children:(0,r.jsx)("div",{style:{minHeight:i,minWidth:s},height:"100%",width:"100%",className:"whatmore-shimmer"})})}},868:function(t,e,n){n.d(e,{V:function(){return a}});var r=n(9854),o=n(7753);const i={"https://d3syezql093hs1.cloudfront.net":"https://whatmore-brand-video-assets.azureedge.net","https://d2r0bijhs9mx1s.cloudfront.net":"https://whatmore-brand-thumbnail-video-assets.azureedge.net","https://d2oouab8j9eigo.cloudfront.net":"https://whatmore-brand-story-assets.azureedge.net","https://d28nus7q7qajdn.cloudfront.net":"https://whatmore-video-assets.azureedge.net","https://d1zl4k1t5o4s75.cloudfront.net":"https://whatmore-brand-video-assets-720p.azureedge.net"},s={"https://d3syezql093hs1.cloudfront.net":"https://whatmore-brand-video-assets.b-cdn.net","https://d2r0bijhs9mx1s.cloudfront.net":"https://whatmore-brand-thumbnail-video-assets.b-cdn.net","https://d2oouab8j9eigo.cloudfront.net":"https://whatmore-brand-story-assets.b-cdn.net","https://d28nus7q7qajdn.cloudfront.net":"https://whatmore-video-assets-old.b-cdn.net","https://d1zl4k1t5o4s75.cloudfront.net":"https://whatmore-brand-video-assets-720p.b-cdn.net"},a=function(t){const e=(0,o.MO)("whatmoreShopId");if(!t)return t;if(t.startsWith("https://cdn.shopify.com"))return t;if("AWSCDN"==(0,r.zp)(e))return t;if("AZURECDN"==(0,r.zp)(e)){if(t.includes(".azureedge.net"))return t;if(t.includes(".cloudfront.net")){for(const e of Object.keys(i))if(t.includes(e))return t.replace(e,i[e]);return t}}if("BUNNYCDN"==(0,r.zp)(e)){if(t.includes(".b-cdn.net"))return t;if(t.includes(".cloudfront.net")){for(const e of Object.keys(s))if(t.includes(e))return t.replace(e,s[e]);return t}}return t}},8866:function(t,e,n){var r=n(7313);function o(){return[window.innerHeight,window.innerWidth]}e.Z=function(t){var[e,n]=o();const[i,s]=(0,r.useState)(["portrait",e,n]);return(0,r.useLayoutEffect)((()=>{function t(){var[t,e]=o();s(t>e?["portrait",t,e]:["landscape",t,e])}return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),screen.orientation&&screen.orientation.addEventListener("change",t),t(),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t),screen.orientation&&screen.orientation.removeEventListener("change",t)}}),[]),i}},9111:function(){},123:function(){},9778:function(){}}]);