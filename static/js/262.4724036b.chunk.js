"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262],{3262:function(t,e,r){r.r(e),r.d(e,{initiateCartSliderEvent:function(){return i}});var o=r(1745);const i=async function(t,e,r,i,n="",u="",a="",c="",d="",l=""){if("STRNV8MHJTF"!=t&&"STR6HU283UZ"!=t&&"STR9T3LLEJB"!=t&&"STRWJMIOJNX"!=t&&"STRUDQ36YAC"!=t&&"STR1D5ONOZX"!=t){var s;await fetch("https://"+window.location.hostname+"/cart.js",{cache:"reload"}).then((t=>t.json()));fetch(null===l||void 0===l||null===(s=l.split("?"))||void 0===s?void 0:s[0]).then((t=>t.text())).then((t=>{var e;const r=(new DOMParser).parseFromString(t,"text/html");let i=Array.from(r.querySelectorAll("product-form")).find((t=>t.querySelector('button[type="submit"]')&&t.querySelector('input[name="id"]')));i||(i=Array.from(r.querySelectorAll('form[action*="/cart/add"]')).find((t=>t.querySelector('button[type="submit"]')&&t.querySelector('input[name="id"]')))),sessionStorage.setItem("wht_atc_form",i.outerHTML),i.hasAttribute("data-product-id")&&i.setAttribute("data-product-id",u),i.hasAttribute("data-product-variant-id")&&i.setAttribute("data-product-variant-id",n);const l=i.querySelector('input[name="id"]');l&&(l.setAttribute("value",n),l.hasAttribute("disabled")&&l.removeAttribute("disabled"));const s=i.querySelector('input[name="product-id"]');s&&s.setAttribute("value",u);const m=document.createElement("div");m.appendChild(i),document.body.appendChild(m),console.log(m,"formElement");let p=Array.from(r.querySelectorAll("product-form")).find((t=>t.querySelector('button[type="submit"]')&&t.querySelector('input[name="id"]')));p||(p=Array.from(r.querySelectorAll('form[action*="/cart/add"]')).find((t=>t.querySelector('button[type="submit"]')&&t.querySelector('input[name="id"]'))));const y=null===(e=p.find((t=>{const e=t.querySelector('input[name="id"]'),r=t.querySelector("product-form");return r&&r.getAttribute("data-product-variant-id")==n||e&&e.value==n})))||void 0===e?void 0:e.querySelector('button[type="submit"]');y&&y.click(),setTimeout((()=>{(0,o.js)().then((t=>t.json())).then((t=>{const e=t.items.find((t=>t.id==n)),r=e.key,i=e.quantity,u=e.properties;(0,o.CP)(r,i,u,a,c,d,!0,!0,!0)}))}),2e3)})),setTimeout(e,r)}else{console.log("Executing cart refresh script..");document.getElementById("whatsmorecart").value=Math.random()}}}}]);