"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[774],{22:function(t,e,i){i.d(e,{$S:function(){return d},_:function(){return n},b4:function(){return r},dl:function(){return o},nN:function(){return l},tn:function(){return c},vF:function(){return a}});const n="device_type",o="device_mode",r="mobile",a="tablet",d="desktop",c="portrait",l="landscape"},932:function(t,e,i){var n=i(5830),o=i(1941),r=i(22),a=i(1348);e.A=function(t){const[e,i,d]=(0,o.A)(),[c]=(0,n.QN)("whatmoreLandscapePadding"),[l]=(0,n.QN)("whatmoreShopId"),[s]=(0,n.QN)("whatmoreVideoTileSize"),[u]=(0,n.QN)("whatmoreVideoTileSizePortrait"),p=d>=1025,h="portrait"==e?u:s,v=!("portrait"!=e||!(d>=481)),f=h/100*1.3*.5,w=h/100;var m=Math.min(d,i),[g,x,_,b]=[.6*m*(16/9),.6*m,1.4,0];function E(t){return Math.round(10*t)/10}var y={DEVICE_TYPE:r.b4,DEVICE_MODE:r.tn};if(p){const t=x*f,e=g*f;[g,x,_,b]=[e,t,(d-2*c-2*(0,a.$du)(l))/(1.1*t),c],y[r._]=r.$S,y[r.dl]=r.nN}else if(v){var S=.8*x,I=.8*g;"portrait"==e?(S*=w,I*=w,[g,x,_,b]=[I,S,E(d/(1.2*S)),0],y[r._]=r.vF,y[r.dl]=r.tn):([g,x,_,b]=[I,S,(d-2*c)/(1.1*S),c],y[r._]=r.vF,y[r.dl]=r.nN)}else{S=x,I=g;"portrait"==e?(S=S*w*.9,I=I*w*.9,[g,x,_,b]=[I,S,E(d/(1.15*S)),0],y[r._]=r.b4,y[r.dl]=r.tn):(S=.7*x,I=.7*g,[g,x,_,b]=[I,S,(d-2*c)/(1.1*S),c],y[r._]=r.b4,y[r.dl]=r.nN)}return[g,x,_,b,y]}},1351:function(t,e,i){i.d(e,{PG:function(){return d},kz:function(){return c},UM:function(){return s},yP:function(){return u},DG:function(){return l}});var n=i(1348),o=i(6157);function r(t,e,i={},n){var r;const a=d[t];if(!a)return;const c=a.isActionEnabled(),l=null===n||void 0===n||null===(r=n.meta_actions)||void 0===r?void 0:r[a.customAction];(c||l)&&"function"==typeof fbq&&(async()=>{const n={id:null===e||void 0===e?void 0:e.client_product_id,product_url:null===e||void 0===e?void 0:e.product_link,...t===o.O.VIDEO_PLAYBACK&&{watch_time:i.watch_time,video_duration:i.video_duration}};fbq("trackCustom",a.action,n),l&&setTimeout((()=>{null===l||void 0===l||l.forEach((t=>{fbq("trackCustom",t,n)}))}),500)})()}var a=i(7145);const d={[o.O.EVENT_VIEW]:{isActionEnabled:n.NFF,action:"whatmore_video_click_event",customAction:"video_clicked"},[o.O.VIDEO_PLAYBACK]:{isActionEnabled:n.Eel,action:"whatmore_video_watch_event",customAction:"video_watched"},[o.O.VIDEO_LIKED]:{isActionEnabled:n.Mz3,action:"whatmore_video_like_event",customAction:"video_liked"},[o.O.VIDEO_SHARE_CTA_CLICKED]:{isActionEnabled:n.OLZ,action:"whatmore_video_share_event",customAction:"video_shared"},[o.O.SHOPNOW_ATC_CLICKED]:{isActionEnabled:n.T9r,action:"whatmore_video_atc_event",customAction:"video_atc_clicked"},[o.O.PRODUCT_TILE_ATC_CLICKED]:{isActionEnabled:n.T9r,action:"whatmore_video_atc_event",customAction:"video_atc_clicked"},[o.O.SHOPNOW_CLICKED]:{isActionEnabled:n.nEf,action:"whatmore_product_tile_click_event",customAction:"video_product_tile_clicked"},[o.O.PRODUCT_TILE_SHOPNOW_CLICKED]:{isActionEnabled:n.nEf,action:"whatmore_product_tile_click_event",customAction:"video_product_tile_clicked"}};function c({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:c}){var l;(0,a.B)({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:c}),t in d&&r(t,null!==(l=null===o||void 0===o?void 0:o[1])&&void 0!==l?l:null===o||void 0===o?void 0:o[0],e,n)}function l({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:c}){var l;(0,a.B)({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:c}),t in d&&r(t,null!==(l=null===o||void 0===o?void 0:o[1])&&void 0!==l?l:null===o||void 0===o?void 0:o[0],e,n)}function s({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:r}){(0,a.B)({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:r})}function u({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:r}){(0,a.B)({userInteractionType:t,userInteractionMetadata:e,widgetSourceDetails:i,event:n,productList:o,ctaList:r})}},3389:function(t,e,i){i.r(e);var n=i(9950),o=i(1348),r=i(964),a=i(5830),d=i(140),c=i(4533),l=i(5901),s=i(1085),u=i(6613),p=i(3330),h=(i(3262),i(572)),v=i(8603),f=i(2039),w=i(4833),m=i(5551),g=i(1351),x=i(6157),_=i(2979),b=i(6641),E=i(8945),y=i(9821),S=i(69),I=i(4414);const A=(0,v.A)({key:"whatmore-css-ppv"}),j=n.lazy((()=>Promise.all([i.e(304),i.e(946),i.e(437),i.e(451),i.e(987),i.e(669),i.e(413),i.e(592)]).then(i.bind(i,6413)))),L=n.lazy((()=>i.e(374).then(i.bind(i,5100))));function P(t){return t.split(/[?#]/)[0]}e.default=function(t){const[e,i]=(0,n.useState)(),[v,N]=(0,n.useState)(),[T]=(0,a.QN)("isInDesignMode"),[C]=(0,a.QN)("isDemoBrand"),[D]=(0,a.QN)("whatmoreEmbedAppUseVariant"),[O,k]=(0,n.useState)(-2),[z]=(0,a.QN)("whatmoreVariantId"),[V]=(0,a.QN)("whatmoreShopId");var[M]=(0,a.QN)("whatmoreProductId");const Q=(0,a.Xd)("isLandingSharedLink"),F=(0,a.Xd)("whatmoreShareTemplateId"),R=(0,a.Xd)("whatmoreShareEventId"),$=Q&&"template-embed"===(0,w.Mm)(F),[K,W]=(0,n.useState)($);M=(0,o.BcY)(V)?"STRR72TX6AT"==V?function(){var t;const e=null===(t=window.location.pathname)||void 0===t?void 0:t.split("/");return e[e.length-1]}():P(window.location.href):M;const[B,U]=(0,n.useState)((()=>"true"===D?z:M));var H=r.$$+"/v2/brand/"+V+"/product-events";const{whatmoreWidgetSourceDetails:X}=(0,n.useContext)(m.B);(0,n.useEffect)((()=>{(0,p.initializeGA)(V),(0,b.Fk)("Video shopping powered by Whatmore!"),(0,c.wm)()}),[]),(0,n.useEffect)((()=>{null==e||0==e.length||v||!(0,u.MN)()||(0,a.Xd)("whatmoreVideoPlayerPoolInitiated")||((0,y._)()?(0,s.Pc)(s.F5):(0,S.bi)())}),[e]),(0,n.useEffect)((()=>{if(k(-1),(0,o.WH1)(V)){const t=`${r.$$}/v2/brand/${V}/product-events/recommendation`,e=(0,o.buK)(V);fetch(`${t}?client_product_id=${B}&limit=10&recommended=${!e}&origin=${window.location.hostname}&status=live,upcoming&event_type=video`).then((t=>t.json())).then((t=>{const n=null===t||void 0===t?void 0:t.events;if((null===n||void 0===n?void 0:n.length)>0){var o;const r=e?null===t||void 0===t?void 0:t.all_events:null===t||void 0===t||null===(o=t.related_events)||void 0===o?void 0:o.map((t=>({...t,isRelatedEvent:!0})));i([...n,...r])}else i([])})).catch((t=>N(t.message)))}else fetch(H.toString()+"?client_product_id="+B.toString()+"&status="+"upcoming".toString()+"&event_type=video").then((t=>t.json())).then((t=>t.events)).then((t=>(null!=t&&0!=t.length&&(0,o.vfi)(V)&&(0,o.YOR)(t),i(t),t))).then((t=>((0,o.Uht)(V)&&function(t,e){setTimeout((async()=>{const i=t.reduce(((t,e)=>[...t,...e.products]),[]).filter((t=>t.client_product_id==e))[0];if(!i||i.product_link==P(window.location.href))return;const n={product_id:i.product_id,product_link:P(window.location.href)};fetch(r.$$+"/product",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})}),500)}(t,B),t))).catch((t=>{N(t.message)}))}),[B]),(0,n.useEffect)((()=>{var t,i;k(-2),(e&&e.length>0||(0,o.WKl)(V))&&(0,g.yP)({userInteractionType:x.O.PDP_VISITED,widgetSourceDetails:X,event:null===e||void 0===e?void 0:e[0],productList:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.products,ctaList:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.cta})}),[e]),(0,n.useEffect)((()=>{const t=P(window.location.href);let e=history.pushState;history.pushState=function(){let t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),t};let i=history.replaceState;history.replaceState=function(){let t=i.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t},window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationchange"))})),window.addEventListener("locationchange",(function(){if("24950997070"==V&&window.location.origin+window.location.pathname!=t&&fetch(window.location.origin+window.location.pathname+".json").then((t=>t.json())).then((t=>{var e;return U(null===t||void 0===t||null===(e=t.product)||void 0===e?void 0:e.id)})),"true"===D){const t=function(t){for(var e=window.location.search.substring(1).split("&"),i=0;i<e.length;i++){var n=e[i].split("=");if(n[0]==t)return n[1]}return!1}("variant");t&&""!==t&&U(t)}}))}),[]),(0,n.useEffect)((()=>{if(null!=e&&0!==e.length&&!v&&$&&((0,E.H)("whatmore-video-player",(()=>{W(!1)})),null!=R)){const t=e.find((t=>R==t.event_id));if(t)return void q(t,!0,e.indexOf(t))}}),[e]);const Y=X.landingLocationType,G=X.templateType,q=async(t,e=!1,i=0)=>{if((0,u.MN)()&&!e&&await((0,y._)()?(0,s.bo)():(0,S.bi)()),(0,f.ij)(t)||(0,f.Il)(t))return T||C||(async()=>{const e=(0,w.Wd)(Y)+(0,w.gf)(G)+(null!==t&&void 0!==t&&t.isRelatedEvent?"R":"E")+"_"+(null===t||void 0===t?void 0:t.event_id);(0,d.lB)(t),(0,p.sendVideoViewEventToGA)(V,r.DK,r.K1),(0,c.Ch)(t.event_id,t.products,"product_page","video_popup",e)})(),void k(i)};function J(){return(0,I.jsx)(I.Fragment,{})}return null==e||0==e.length||v||(0,w.Ig)(X.templateType)?(0,I.jsx)("div",{}):(0,I.jsxs)(h.C,{value:A,children:[K&&(0,I.jsx)(L,{}),"no-product"===B||-1===O||0===e.length?(0,I.jsx)(J,{}):-2===O&&e.length>0?(0,I.jsx)("div",{children:(0,I.jsx)(_.S,{userInteractionType:x.O.PDP_POPUP_WIDGET_VIEW,event:e[0],productList:e[0].products,cta:e[0].cta,triggerFlag:!T&&!C,children:(0,I.jsx)(l.A,{event:e[0],inVideoClick:q,closeClick:t=>{var i;t.stopPropagation(),k(-1),(0,g.kz)({userInteractionType:x.O.PDP_POPUP_CLOSED,widgetSourceDetails:X,event:null===e||void 0===e?void 0:e[0],productList:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.products})}})})}):(0,I.jsx)("div",{children:(0,I.jsx)(n.Suspense,{children:(0,I.jsx)(_.S,{userInteractionType:x.O.EVENT_VIEW,event:e[0],productList:e[0].products,cta:e[0].cta,triggerFlag:!T&&!C,children:(0,I.jsx)(j,{events:e,index:O,onBack:function(){k(-2),W(!1)},template:"template-product-page"})})})})]})}},5901:function(t,e,i){i.d(e,{A:function(){return m}});var n=i(1005),o=i(9950),r=i(9879),a=i(22),d=i(5830),c=i(932);var l=function(t){const[e,i,n,o,r]=(0,c.A)(),[l]=(0,d.QN)("whatmoreEmbedAppVideoPlayerSizePortrait"),[s]=(0,d.QN)("whatmoreEmbedAppVideoPlayerSizeLandscape"),u=r[a.dl]===a.nN?s/100:l/100*1.2;return[e*u,i*u,r]},s=i(5727),u=i(1628),p=i.n(u),h=i(2209),v=i(6702),f=(i(9733),i(4365),i(1348)),w=i(4414);var m=function(t){var e;const i=o.useRef(null);var[c,u,m]=l();const g=(0,d.Xd)("whatmoreUITheme"),[x]=(0,d.QN)("whatmoreEmbedAppVideoTitle"),[_]=(0,d.QN)("whatmoreEmbedAppPositionPortrait"),[b]=(0,d.QN)("whatmoreEmbedAppHorizontalPaddingPortrait"),[E]=(0,d.QN)("whatmoreEmbedAppVerticalPaddingPortrait"),[y]=(0,d.QN)("whatmoreEmbedAppPositionLandscape"),[S]=(0,d.QN)("whatmoreEmbedAppHorizontalPaddingLandscape"),[I]=(0,d.QN)("whatmoreEmbedAppVerticalPaddingLandscape"),A=(0,d.Xd)("whatmoreShopId"),j=(0,d.Xd)("isWhatmorePreviewMode");var L=_,P=b,N=E;m[a.dl]===a.nN&&(L=y,P=S,N=I);const[T,C]=(0,o.useState)(["initial",window.pageYOffset]),[D,O]=(0,o.useState)(!1),k=null!==(e=t.isSpotlight)&&void 0!==e&&e,z=m[a.dl]===a.nN?.7*(0,f.O86)(A):(0,f.O86)(A),V=k?z:1;c*=V,u*=V;const M=k?(0,f.LrK)(A):L,Q=k?(0,f._2D)(A):(0,f.GSq)(A),[F,R]=(0,o.useState)(!k&&(0,f.n8Q)(A));function $(t,e){C(t),t[1]<=100?O(!1):e!=D&&(O(e),R(!1))}(0,o.useEffect)((()=>{let t=window.pageYOffset,e=!1;const i=()=>{const i=window.pageYOffset;Math.abs(i-t)<100||($([i>t?"scrolled-down":"scrolled-up",i],!0),t=i>0?i:0),e=!1},n=()=>{e||(window.requestAnimationFrame(i),e=!0)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)}),[T]),(0,n.j)({ref:i,handler:()=>{$(["scrolled-up",T[1]],!0)}});const K=t.event,W=t.inVideoClick,B=t.closeClick,U=.3*u,H=.6*u,X=.1*u,Y=.1*(.5*u),G="round"==g?"10px":"0px",q=(0,f.GvQ)(A);var J=!1,Z=0,tt=0;function et(t){J=t}return(0,w.jsx)("div",{className:"wht-popup",children:F&&!Q?(0,w.jsx)(w.Fragment,{}):D&&Q?(0,w.jsx)("div",{style:"left"===M?{left:"1px",bottom:k?(0,f.pUQ)(A)+"px":N+"px",position:"fixed",zIndex:q}:{right:"5px",bottom:k?(0,f.pUQ)(A)+"px":N+"px",position:"fixed",zIndex:q},children:(0,w.jsxs)("div",{onClick:()=>{$(["initial",T[1]],!1)},style:{margin:"1px",width:u+"px",height:c+"px"},className:"left"===M?"whatmore-ultraminimized-video-view-left":"whatmore-ultraminimized-video-view-right",children:[(0,w.jsx)("div",{style:{overflow:"hidden"},children:(0,w.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:9/16},children:(0,w.jsx)(r.A,{url:K.thumbnail_image,isPlaying:!1,event:K})})}),(0,w.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,w.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",height:"100%"},children:[(0,w.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content"},children:(0,w.jsx)("div",{className:"whatmore-ultraminimized-content-scale-out",children:(0,w.jsx)(h.A,{sx:{filter:"drop-shadow(0 0 2px black);",color:"white",fontSize:U+"px"},style:{position:"relative",zIndex:1,left:Y+"px",bottom:Y+"px"},onClick:B})})}),(0,w.jsx)("div",{style:{height:"100%",display:"flex",flexFlow:"column nowrap",alignItems:"center",justifyContent:"center"},children:(0,w.jsx)(v.A,{sx:{color:"white",fontSize:2*U+"px",filter:"drop-shadow(0 0 2px black);"}})})]})})]})}):(0,w.jsx)(p(),{nodeRef:i,cancel:".activate-button,.close-btn",bounds:j?"parent":"html",defaultClassName:"whatmore-react-draggable",defaultClassNameDragging:"whatmore-react-draggable-dragging",defaultClassNameDragged:"whatmore-react-draggable-dragged",onStart:(t,e)=>{var i,n;i=e.x,n=e.y,Z=i,tt=n},onDrag:(t,e)=>{et(!0)},onStop:(t,e)=>{J&&(Math.abs(e.x-Z)>5||Math.abs(e.y-tt)>5)?et(!1):W(K)},children:(0,w.jsx)("div",{ref:i,style:"left"===M?{left:k?(0,f.D2A)(A)+"px":P+"px",bottom:k?(0,f.pUQ)(A)+"px":N+"px",position:"fixed",zIndex:q}:{right:k?(0,f.D2A)(A)+"px":P+"px",bottom:k?(0,f.pUQ)(A)+"px":N+"px",position:"fixed",zIndex:q},children:(0,w.jsxs)("div",{style:Object.assign({},{boxSizing:"border-box",margin:"1px",width:t.isSpotlight&&"60122562760"==A?c+"px":u+"px",height:t.isSpotlight&&"60122562760"==A?u+"px":c+"px"}),className:"left"===M?"whatmore-minimized-video-view-left":"whatmore-minimized-video-view-right",children:[(0,w.jsx)("div",{style:{overflow:"hidden",position:"relative"},children:(0,w.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:t.isSpotlight&&"60122562760"==A?16/9:9/16},children:(0,w.jsx)(r.A,{url:K.thumbnail_image,isMuted:!0,isPlaying:!0,event:K})})}),(0,w.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,w.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",height:"100%"},children:[(0,w.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content"},children:(0,w.jsx)(h.A,{className:"close-btn",sx:{filter:"drop-shadow(0 0 2px black);",color:"white",fontSize:U+"px"},onClick:B,style:{position:"relative",zIndex:1,left:X+"px",bottom:X+"px"}})}),(0,w.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto"},children:(0,w.jsx)(s.A,{sx:{color:(0,f.KFN)(A),fontSize:H+"px",filter:"drop-shadow(0 0 2px black);"}})}),(0,w.jsx)("div",{style:{paddingLeft:"2px",paddingRight:"2px",borderBottomLeftRadius:G,borderBottomRightRadius:G,backgroundImage:x?"linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.2), rgba(0,0,0,0.6))":""},children:(0,w.jsxs)("p",{style:{textAlign:"center",color:"white",fontFamily:"Sans-serif",fontWeight:"semi-bold",fontSize:.4*U+"px",margin:0,padding:0,lineHeight:"110%"},children:["\xa0",x]})})]})})]})})})})}},6649:function(t,e,i){var n=i(9950);e.A=({triggerOnce:t=!1,root:e=null,rootMargin:i="0px",threshold:o=0}={})=>{const[r,a]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const n=new IntersectionObserver(((e,i)=>{e.forEach((e=>{c(e),e.isIntersecting?(a(!0),t&&i.disconnect()):t||a(!1)}))}),{root:e,rootMargin:i,threshold:o});return l.current&&n.observe(l.current),()=>{n.disconnect()}}),[t,e,i,o]),[l,r,d]}},8945:function(t,e,i){function n(t,e){let i=0;let n=new MutationObserver((function(){document.querySelector("."+t)?(e(),n.disconnect()):0==i&&(i=1,setTimeout((()=>{e(),n.disconnect()}),8e3))}));n.observe(document.body,{childList:!0,subtree:!0})}i.d(e,{H:function(){return n}})}}]);