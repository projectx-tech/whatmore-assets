"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262],{3262:function(t,e,r){r.r(e),r.d(e,{initiateCartSliderEvent:function(){return n}});var o=r(5830),i=r(1745);const n=async function(t,e,r,n,u="",a="",c="",d="",l="",s=""){(0,o.Xd)("whatmoreLandingLocationType");if("STRNV8MHJTF"==t||"STR6HU283UZ"==t||"STR9T3LLEJB"==t||"STRWJMIOJNX"==t||"STRUDQ36YAC"==t||"STR1D5ONOZX"==t){console.log("Executing cart refresh script..");return void(document.getElementById("whatsmorecart").value=Math.random())}if("56444977250"===t){const t=document.querySelector('button[data-pf-type="ProductATC2"]');return t&&quantityInput?(a&&t.setAttribute("data-product-id",a),t.click(),setTimeout(()=>{(0,i.js)().then(t=>t.json()).then(t=>{const e=t.items.find(t=>String(t.id)===String(u));if(e){const t=e.key,r=e.quantity,o=e.properties;(0,i.CP)(t,r,o,c,d,l,!0,!0,!0)}})},500),void setTimeout(e,r)):(fetch(null===s||void 0===s||null===(m=s.split("?"))||void 0===m?void 0:m[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html"),r=e.querySelector('button[data-pf-type="ProductATC2"]'),o=e.querySelector('input[data-pf-type="QuantityField"]');r&&o&&(o.value="1",u&&o.setAttribute("data-variants-continue",u),a&&r.setAttribute("data-product-id",a))}),void setTimeout(e,r));var m}const p=e=>{if("61126934766"==t){let t=e.querySelector(".productView-buttons").querySelector('form[action*="/cart/add"]');if(t)return t}let r=Array.from(e.querySelectorAll("product-form")).find(t=>t.querySelector('form > input[name="id"]')&&t.querySelector('form button[type="submit"]'));return r||(r=Array.from(e.querySelectorAll('form[action*="/cart/add"]')).find(t=>t.querySelector('button[type="submit"]'))),r},f=(t,e,r)=>{const o=t.cloneNode(!0);if(o){o.hasAttribute("data-product-variant-id")&&o.setAttribute("data-product-variant-id",e),o.hasAttribute("data-product-id")&&o.setAttribute("data-product-id",r);let t=o.querySelector('input[name="id"]');if(t)t.setAttribute("value",e),t.hasAttribute("disabled")&&t.removeAttribute("disabled");else{const t=o.querySelector('select[name="id"]');if(t){const r=t.querySelector('option[selected="selected"]');r&&r.setAttribute("value",e)}}const i=o.querySelector('input[name="product-id"]');i&&i.setAttribute("value",r);const n=document.createElement("div");return n.className="whatmore-atc",n.appendChild(o),document.body.appendChild(n),console.log(n,"formElement"),n}},v=t=>{const e=null===t||void 0===t?void 0:t.querySelector('button[type="submit"]');e&&e.click()},y=t=>{(0,i.js)().then(t=>t.json()).then(e=>{const r=e.items.find(e=>e.id==t),o=r.key,n=r.quantity,u=r.properties;(0,i.CP)(o,n,u,c,d,l,!0,!0,!0)})},h=p(document);if(h||(null===h||void 0===h?void 0:h.length)>0){const t=f(h,u,a);v(t),setTimeout(()=>{y(u)},500),t.remove()}else{var b;fetch(null===s||void 0===s||null===(b=s.split("?"))||void 0===b?void 0:b[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html"),r=p(e);if(r||(null===r||void 0===r?void 0:r.length)>0){const t=f(r,u,a);v(t),setTimeout(()=>{y(u)},500),t.remove()}})}setTimeout(e,r)}}}]);