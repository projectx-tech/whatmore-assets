"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[306],{9406:function(e,t,i){i.r(t),i.d(t,{default:function(){return M}});var o=i(9950),r=i(340),n=i(5089),l=i(5873),s=(i(3997),i(9130),i(4669),i(9733),i(4365),i(7229),i(6042),i(572)),a=i(8603),d=i(8885),p=i(9968),c=i(1941),h=i(5830),u=i(7509),y=i(7136),m=i(1348),v=i(4737),f=(i(1351),i(6157),i(6641)),x=i(3080),w=i(932),g=(i(4826),i(5727)),P=i(9879),j=i(22),b=i(6594),C=i(7740),S=i(8538),N=i(8149),k=i(4414);var F=function(e){var t,i,r,n,l,s,a,d,p,c,y,f,x,F,I,_,A;const[M,z,O,R,W]=(0,w.A)(),T=.5*z;(0,o.useContext)(u.h);const V=(0,h.Xd)("whatmoreUITheme"),B=(0,h.Xd)("whatmoreShopId"),$=(0,h.Xd)("whatmorePrimaryFont"),H=(0,h.Xd)("whatmoreSecondaryColor"),U=e.onClick,X=null===(t=e.isOnFocus)||void 0===t||t,D=null!==(i=e.playOnUnfocus)&&void 0!==i&&i,E=null!==(r=e.animateOnFocus&&(0,m.n5O)(B))&&void 0!==r&&r,q="portrait"===W[j.dl],K=(q?1.076*z*(0,m.HWj)(B):z*(0,m.N_4)(B))+"px",Y=(q?1.076*z*(0,m.HWj)(B):z*(0,m.N_4)(B))+"px",L=(q?.965*z*(0,m.HWj)(B):.859*z*(0,m.N_4)(B))+"px",Q=(0,m.VYo)(B),{whatmoreIsPreviewMode:G}=(0,o.useContext)(v.B),Z=.25*z,J=Z+"px",ee=1.25*Z+"px",[te,ie]=(0,o.useState)(e.event),[oe,re]=(0,o.useState)(),ne=null!==(n=null===(l=te.products)||void 0===l?void 0:l.find((e=>"active"==e.product_status)))&&void 0!==n?n:null===(s=te.products)||void 0===s?void 0:s[0],le=Math.round(+(null===ne||void 0===ne?void 0:ne.price)),se=Math.round(+(null===ne||void 0===ne?void 0:ne.compare_price)),ae=se&&0!=se&&se>le?Math.round((se-le)/se*100):NaN,[de,pe]=(0,o.useState)(ae),[ce,he]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{(0,m.w4b)(B)?(0,b.fu)(te,(0,m.NCy)(B),B).then((e=>{var t,i,o;ie(e);const r=Math.round(null===(t=e.products)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.price),n=Math.round(null===e||void 0===e||null===(o=e.products[0])||void 0===o?void 0:o.compare_price),l=n&&0!=n&&n>r?Math.round((n-r)/n*100):NaN;pe(l),he(!0)})):(async()=>{const e=await(0,N.M)(ne,(0,m.NCy)(B),B);re(e),he(!0)})()}),[]),(0,k.jsxs)("div",{ref:e=>{e&&(e.style.setProperty("margin-top","12px"),e.style.setProperty("margin-bottom","12px"))},className:E&&!q?X?"whatmore-event-tile-scale-out-animation":"whatmore-event-tile-scale-in-animation":"none",style:{width:z,margin:"0 auto",cursor:"pointer",filter:X?void 0:"blur(1px) drop-shadow(0 0 10px rgba(0, 0, 0, 0.2))"},onClick:()=>{U(te)},children:["video"===te.event_type&&"55076552858"===B&&!q&&(0,k.jsx)("div",{className:"video-event-tile",style:{position:"fixed",marginTop:1.2*T,marginLeft:T/2},children:(0,k.jsx)(g.A,{sx:{color:(0,m.KFN)(te.whatmoreShopId)+" !important",opacity:.8,fontSize:T,filter:"drop-shadow(0 0 15px black);"}})}),(0,k.jsx)("div",{style:{width:z,height:q&&X?"STR2FOC6KG9"==B||"STRDOIDF6O7"==B?M:1.1*M:M,borderRadius:"round"==V?"5px":"0px",boxShadow:"round"==V?Q:null,borderWidth:(0,m.YcK)(B),borderColor:(0,m.Fwt)(B),overflow:"hidden"},children:(0,k.jsx)(P.A,{height:(0,m.u06)(B)+" !important",width:"100%",url:te.thumbnail_image,isPlaying:X||D,event:te})}),(0,k.jsxs)("div",{style:{cursor:"pointer",display:"flex",gap:"6px",padding:"12px 4px"},children:[(G?(0,m.Tr1)(B):(0,m.UmS)(B))&&(null===te||void 0===te||null===(a=te.products)||void 0===a?void 0:a.length)>0&&(0,k.jsx)("div",{style:{maxHeight:ee,maxWidth:J,minWidth:null!==ne&&void 0!==ne&&ne.thumbnail_image?J:"0",overflow:"hidden"},children:(0,k.jsx)("img",{ref:e=>{e&&e.style.setProperty("object-fit",(0,m.KZe)(B),"important")},style:{height:"100%"},src:(null===ne||void 0===ne||null===(d=ne.thumbnail_image)||void 0===d||null===(p=d.split("?"))||void 0===p?void 0:p[0])+"?width=400&height=400",alt:"thumbnail"})}),(0,k.jsxs)("div",{className:"wht-prod-info",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("color",(0,m.m5c)(B),"important"),e.style.setProperty("font-size",K,"important"),e.style.setProperty("line-height","120%","important"),e.style.setProperty("font-family",$,"important"),e.style.setProperty("-webkit-line-clamp",1,"important"),e.style.setProperty("line-clamp",1,"important"),e.style.setProperty("-webkit-box-orient","vertical","important"),e.style.setProperty("display","-webkit-box","important"),e.style.setProperty("overflow","hidden","important"),e.style.setProperty("text-overflow","ellipsis","important"))},children:(0,S.v)(null===ne||void 0===ne?void 0:ne.title)}),ce&&(0,m.Nzx)(B)&&(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexDirection:(0,m.vw2)(B)?"row":"row-reverse",justifyContent:(0,m.vw2)(B)?"flex-start":"flex-end"},children:[(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("color",(0,m.m5c)(B),"important"),e.style.setProperty("font-size",Y,"important"),e.style.setProperty("font-family",$,"important"),e.style.setProperty("white-space","nowrap","important"),e.style.setProperty("width","fit-content","important"))},style:{textAlign:"left",fontWeight:"normal"==(0,m.i6j)(B)?"normal":"bold"},children:(0,b.Sb)(parseFloat((0,C.U)()?(null!==(c=null===oe||void 0===oe||null===(y=oe.variants)||void 0===y||null===(f=y[0])||void 0===f?void 0:f.price)&&void 0!==c?c:null===oe||void 0===oe?void 0:oe.price)/100:null===ne||void 0===ne?void 0:ne.price)," ",B,null===(x=te.products[0])||void 0===x?void 0:x.currency)}),!isNaN(se)&&se>le&&(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("color",(0,m.gld)(B),"important"),e.style.setProperty("font-size",Y,"important"),e.style.setProperty("font-family",$,"important"),e.style.setProperty("width","fit-content","important"),e.style.setProperty("white-space","nowrap","important"))},style:{textDecoration:"line-through"},children:(0,b.Sb)(parseFloat((0,C.U)()?(null!==(F=null===oe||void 0===oe||null===(I=oe.variants)||void 0===I||null===(_=I[0])||void 0===_?void 0:_.compare_at_price)&&void 0!==F?F:null===oe||void 0===oe?void 0:oe.compare_at_price)/100:null===ne||void 0===ne?void 0:ne.compare_price)," ",B,null===(A=te.products[0])||void 0===A?void 0:A.currency)}),"56352899156"==B&&(0,m.Nzx)(B)&&ce&&!isNaN(de)&&0!=de&&(0,k.jsx)("div",{style:{display:"flex",backgroundColor:"green"==(0,m.ub$)(B)?"#343434"==H?(0,m.ub$)(B):H:(0,m.ub$)(B),alignItems:"center",borderRadius:(0,m.v8m)(B)+"px",width:"fit-content",padding:"3px 4px"},children:(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("color",(0,m.BRY)(B),"important"),e.style.setProperty("font-size",L,"important"),e.style.setProperty("font-family",$,"important"),e.style.setProperty("width","fit-content","important"),e.style.setProperty("white-space","nowrap","important"))},children:`${de}% off`})})]}),(0,m.Nzx)(B)&&ce&&!isNaN(de)&&0!=de&&(0,k.jsx)("div",{style:{display:"flex",backgroundColor:"green"==(0,m.ub$)(B)?"#343434"==H?(0,m.ub$)(B):H:(0,m.ub$)(B),alignItems:"center",borderRadius:(0,m.v8m)(B)+"px",width:"fit-content",padding:(0,m.Cf)(B)?"3px 6px":"0px"},children:(0,m.Cf)(B)?(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("color",(0,m.BRY)(B),"important"),e.style.setProperty("font-size",L,"important"),e.style.setProperty("font-family",$,"important"))},children:`${de}% Off`}):(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("color",(0,m._zx)(B),"important"),e.style.setProperty("font-size",L,"important"),e.style.setProperty("font-family",(0,m.ogW)(B),"important"))},children:(0,m.rsz)(B)})})]})]})]})};i(1957);const I=(0,a.A)({key:"whatmore-css-hv"});function _(e){const t=e.events,i=e.onClick,[r,n]=(0,o.useState)(6);var[l,s,a,h]=(0,x.A)();const[u,y,m]=(0,c.A)();return(0,k.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)("div",{style:{width:m,height:"fit-content"},children:(0,k.jsx)(d.RC,{effect:"coverflow",slidesPerView:3,initialSlide:1,centeredSlides:!0,centeredSlidesBounds:!1,watchSlidesProgress:!0,onSlideChange:e=>{e.realIndex>e.previousIndex&&n((e=>e+1))},modules:[p.t9,p.Vx],coverflowEffect:{rotate:0,stretch:Math.floor(.12*h),depth:100,scale:.8,modifier:1,slideShadows:!1},children:t.map(((e,t)=>t<=r&&(0,k.jsx)(d.qr,{children:t=>{let{isActive:o,isPrev:r,isNext:n,isVisible:l}=t;if(l)return(0,k.jsx)(F,{isOnFocus:o&&l,playOnUnfocus:!1,animateOnFocus:!0,event:e,onClick:()=>{i(e)}})}},"whatmore-event-tile-portrait-"+e.index)))})})})}function A(e){var[t,i,r,n]=(0,x.A)();const l=e.onClick,s=e.events,[a,h]=(0,o.useState)(6),[u,m,v]=(0,c.A)();return(0,k.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)("div",{style:{width:v,height:"fit-content"},children:(0,k.jsx)(d.RC,{effect:"coverflow",slidesPerView:s.length>=5?5:s.length,slidesPerGroup:1,initialSlide:s.length>=5?2:Math.floor(s.length/2),centeredSlides:!0,onSlideChange:e=>{e.realIndex>e.previousIndex&&h((e=>e+1))},modules:[p.t9,p.Vx],watchSlidesProgress:!0,navigation:!0,coverflowEffect:{rotate:0,stretch:Math.floor(.21*n),depth:100,scale:.8,modifier:1,slideShadows:!1},children:s.map(((e,t)=>t<=a&&(0,k.jsx)(d.qr,{children:t=>{let{isActive:i,isPrev:o,isNext:r,isVisible:n}=t;return n?(0,k.jsx)(F,{isOnFocus:i,playOnUnfocus:!1,animateOnFocus:!0,event:e,scaleFactor:1.3,onClick:()=>{l(e)}}):(0,k.jsx)(y.A,{})}},"whatmore-event-tile-portr-"+e.index)))})})})}var M=function(e){const[t,i,a]=(0,c.A)(),[d]=(0,h.QN)("whatmoreShopId"),[p]=(0,h.QN)("whatmorePrimaryColor"),[y]=(0,h.QN)("whatmoreTitleFont"),x="portrait"==t?(0,h.Xd)("whatmoreTitleFontSizePortrait"):(0,h.Xd)("whatmoreTitleFontSize"),{whatmoreRootId:w}=(0,o.useContext)(v.B),g=(0,h.Xd)("whatmoreCollectionHeading"),{whatmoreIsCollectionsTemplate:P}=(0,o.useContext)(v.B),j=e.events,b=e.onClick,C=y;function S(e){b(e)}return(0,o.useEffect)((()=>{(0,f.Fk)("Video shopping powered by Whatmore!")}),[]),(0,o.useEffect)((()=>{l.Sn.forEach((e=>{var t;const i=null!==(t=e.querySelector('.whatmore-template-type[data-wh="template-a"]'))&&void 0!==t?t:e.querySelector('.whatmore-template-type[data="template-a"]');if(!i)return;i&&e&&(e.style.minHeight="0px")}))}),[]),delete n.Ay.styles.global,(0,k.jsx)(s.C,{value:I,children:(0,k.jsx)("div",{className:"whatmore-carousel-events",style:{height:"100%"},children:(0,k.jsx)(r.s,{theme:n.Ay,cssVarsRoot:w,resetCSS:!1,children:(0,k.jsxs)(u.h.Provider,{value:{tileTopMargin:25,tileBottomMMargin:25,tileLeftMargin:4,tileRightMargin:4,showPlayButton:!0},children:[e.heading.trim().length>0||P?(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)("p",{ref:e=>{e&&(e.style.setProperty("font-family",C,"important"),e.style.setProperty("font-size",x+"px","important"))},style:{color:p,backgroundClip:"text",textAlign:"center",fontWeight:(0,m.Odx)(d),lineHeight:(0,m.L0y)(d),letterSpacing:(0,m.l3V)(d)},children:P?"W"!==g?g:"":e.heading})}):(0,k.jsx)(k.Fragment,{}),"landscape"===t?(0,k.jsx)(A,{events:j,onClick:S}):(0,k.jsx)(_,{events:j,onClick:S})]})})})})}}}]);