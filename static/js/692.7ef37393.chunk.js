"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[692],{941:function(e,t,n){n.d(t,{D:function(){return o}});const i=function(){fetch("/cart.json").then((e=>e.json())).then((e=>{fetch("/cart?view=item").then((e=>e.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"text/html"),i=n.getElementById("CartDrawer"),o=document.getElementById("CartDrawer");i&&o&&(o.innerHTML=i.innerHTML);n.querySelector("#CartDrawer .totals__subtotal-value");const r=document.querySelector("cart-drawer");r&&r.classList.remove("is-empty");const a=document.querySelector("cart-drawer-items");a&&a.classList.remove("is-empty");const s=document.getElementById("cart-icon-bubble");if(s.querySelector(".cart-count-bubble")){s.querySelectorAll('.cart-count-bubble span[aria-hidden="true"]').forEach((t=>{t.textContent=e.item_count}))}else{const t=document.createElement("div");t.className="cart-count-bubble",t.innerHTML='\n                            <span aria-hidden="true">'.concat(e.item_count,'</span>\n                            <span class="visually-hidden">').concat(e.item_count," items</span>\n                        "),s.appendChild(t)}s.click();document.getElementById("CartDrawer-Overlay").addEventListener("click",(()=>{const e=document.querySelector("cart-drawer");e&&e.classList.remove("active"),document.body.classList.remove("overflow-hidden")}))}))}))},o=async function(e,t,n,o){if("STRNV8MHJTF"!=e&&"STR6HU283UZ"!=e&&"STR9T3LLEJB"!=e&&"STRWJMIOJNX"!=e&&"STRUDQ36YAC"!=e&&"STR1D5ONOZX"!=e){var r=await fetch("https://"+window.location.hostname+"/cart.js",{cache:"reload"}).then((e=>e.json()));if("57939755089"==e||"27358003275"==e||"63748341981"==e||"68237558034"==e||"63046287536"==e)document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0,detail:{cart:r,openMiniCart:!0}}));else if("19506115"==e)window.PXUTheme.jsAjaxCart.showDrawer(),window.PXUTheme.jsAjaxCart.updateView();else if("54465429691"==e)refreshCart(r),window.setTimeout((function(){$.fancybox.close(),$(".cart-button").click()}),500);else if("25427564"==e||"4243849314"==e||"57708314789"==e){(new theme.CartDrawer).open()}else if("62602182872"==e||"57362710572"==e)CartJS.getCart(),$(".block-cart").addClass("active");else if("83096174866"==e||"63791857821"==e||"70963003672"==e||"20157815"==e||"60492578980"==e||"12183765088"==e||"58546946211"==e||"42070737058"==e||"71321583919"==e||"68492624171"==e||"74541891876"==e||"21187677"==e||"74021110038"==e)document.documentElement.dispatchEvent(new CustomEvent("ajaxProduct:added",{bubbles:!0,detail:{}})),document.documentElement.dispatchEvent(new CustomEvent("cart:open",{bubbles:!0,detail:{}}));else if("2665447536"==e)fetch("/?section_id=cart-drawer").then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").getElementById("cart-drawer").innerHTML;$("#cart-drawer").html(t),$('[aria-controls="cart-drawer"]')[0].click(),$(".header__cart-count .count-bubble ").html(cart.item_count).css("opacity",1)}));else if("57824805033"==e||"59504656436"==e||"58112966749"==e)i();else if("80856187185"==e||"71256211737"==e)fetch("/cart?section_id=mini-cart").then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector(".mini-cart__inner").innerHTML;console.log(t,"sq"),$(".mini-cart__inner").html(t).addClass("active__drawer")})).catch((e=>{console.error(e)})),i();else if("61094723750"==e)SLIDECART&&(SLIDECART_UPDATE(),SLIDECART_OPEN());else if("10272035"==e){const e=document.querySelector(".cart-drawer"),t=e.parentNode;t.classList.add("menu-opening"),t.setAttribute("open","open"),e.style.visibility="visible",e.style.transform="translate(0)"}else"1972174947"==e||"55194878152"==e?document.documentElement.dispatchEvent(new CustomEvent("cart:refresh:opend",{bubbles:!0,detail:{}})):"64463667449"==e||"63897370681"==e||"81998840121"==e||"70964478228"==e?(document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0})),document.documentElement.dispatchEvent(new CustomEvent("cart:updated",{bubbles:!0,detail:{cart:r}})),document.getElementById("mini-cart").open=!0):"81545986363"==e?(document.dispatchEvent(new CustomEvent("theme:cartchanged",{bubbles:!0})),document.dispatchEvent(new CustomEvent("theme:open-cart-drawer",{bubbles:!0}))):document.documentElement.dispatchEvent(new CustomEvent("product:added",{bubbles:!0,detail:{}}));setTimeout(t,n)}else{console.log("Executing cart refresh script..");document.getElementById("whatsmorecart").value=Math.random()}}},3388:function(e,t,n){n.d(t,{OC:function(){return s},e8:function(){return r},kT:function(){return i},kW:function(){return a},xg:function(){return o}});const i=function(e,t){return!((void 0==e.products||0==e.products.length)&&(void 0==e.cta||0==e.cta.length))},o=function(e,t){return!(void 0==e.products||0==e.products.length)},r=function(e,t){if(null!=e)return e.filter((e=>1==i(e)))},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e)return t?e.events[0].events:e.events};const s=function(e,t){var n;if(null==e)return[];if(!("eventsets"in e))return[];const i=null!==(n=e.eventsets[t])&&void 0!==n?n:null;return i?function(e){if(null==e||0==e.length)return[];let t=[];return e.forEach((e=>{e.events.forEach((e=>{t.push(e)}))})),t}(i):[]}},5380:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(4959),o=n(7313),r=n(4892),a=n(6805),s=n(7753),l=n(9821);var c=function(e){const[t,n,i,o,r]=(0,l.Z)(),[c]=(0,s.j1)("whatmoreEmbedAppVideoPlayerSizePortrait"),[d]=(0,s.j1)("whatmoreEmbedAppVideoPlayerSizeLandscape"),u=r[a.YP]===a.$w?d/100:c/100*1.2;return[t*u,n*u,r]},d=n(9723),u=n(9461),h=n.n(u),m=n(1195),p=n(7108),f=(n(7244),n(123),n(9854)),w=n(9039),x=n(6417);var v=function(e){var t;const n=o.useRef(null);var[l,u,v]=c();const{whatmoreUITheme:g}=(0,o.useContext)(w.I),[b]=(0,s.j1)("whatmoreEmbedAppVideoTitle"),[E]=(0,s.j1)("whatmoreEmbedAppPositionPortrait"),[y]=(0,s.j1)("whatmoreEmbedAppHorizontalPaddingPortrait"),[j]=(0,s.j1)("whatmoreEmbedAppVerticalPaddingPortrait"),[S]=(0,s.j1)("whatmoreEmbedAppPositionLandscape"),[C]=(0,s.j1)("whatmoreEmbedAppHorizontalPaddingLandscape"),[I]=(0,s.j1)("whatmoreEmbedAppVerticalPaddingLandscape"),_=(0,s.MO)("whatmoreShopId");var L=E,T=y,P=j;v[a.YP]===a.$w&&(L=S,T=C,P=I);const[z,k]=(0,o.useState)(["initial",window.pageYOffset]),[M,A]=(0,o.useState)(!1),D=null!==(t=e.isSpotlight)&&void 0!==t&&t,O=v[a.YP]===a.$w?.7*(0,f.zGA)(_):(0,f.zGA)(_),R=D?O:1;l*=R,u*=R;const B=D?(0,f.G0o)(_):L,F=D?(0,f.X8j)(_):(0,f.lVn)(_),[N,V]=(0,o.useState)(!D&&(0,f.eXi)(_));function $(e,t){k(e),e[1]<=100?A(!1):t!=M&&(A(t),V(!1))}(0,o.useEffect)((()=>{let e=window.pageYOffset,t=!1;const n=()=>{const n=window.pageYOffset;Math.abs(n-e)<100||($([n>e?"scrolled-down":"scrolled-up",n],!0),e=n>0?n:0),t=!1},i=()=>{t||(window.requestAnimationFrame(n),t=!0)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)}),[z]),(0,i.O3)({ref:n,handler:()=>{$(["scrolled-up",z[1]],!0)}});const H=e.event,Z=e.inVideoClick,q=e.closeClick,U=.3*u,Y=.6*u,W=.1*u,X=.1*(.5*u),G="round"==g?"10px":"0px",J=(0,f.Z$A)(_);var K=!1,Q=0,ee=0;function te(e){K=e}return(0,x.jsx)("div",{children:N&&!F?(0,x.jsx)(x.Fragment,{}):M&&F?(0,x.jsx)("div",{style:"left"===B?{left:"1px",bottom:D?(0,f.vnu)(_)+"px":P+"px",position:"fixed",zIndex:J}:{right:"5px",bottom:D?(0,f.vnu)(_)+"px":P+"px",position:"fixed",zIndex:J},children:(0,x.jsxs)("div",{onClick:()=>{$(["initial",z[1]],!1)},style:{margin:"1px",width:u+"px",height:l+"px"},className:"left"===B?"whatmore-ultraminimized-video-view-left":"whatmore-ultraminimized-video-view-right",children:[(0,x.jsx)("div",{style:{boxShadow:"0px 0px 10px 3px #B0B0B0",borderRadius:G,overflow:"hidden"},children:(0,x.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:9/16},children:(0,x.jsx)(r.Z,{url:H.thumbnail_image,isPlaying:!1,event:H})})}),(0,x.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,x.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",height:"100%"},children:[(0,x.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content"},children:(0,x.jsx)("div",{className:"whatmore-ultraminimized-content-scale-out",children:(0,x.jsx)(m.Z,{sx:{filter:"drop-shadow(0 0 15px black);",color:"white",fontSize:U+"px"},style:{position:"relative",zIndex:1,left:X+"px",bottom:X+"px"},onClick:q})})}),(0,x.jsx)("div",{style:{height:"100%",display:"flex",flexFlow:"column nowrap",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(p.Z,{sx:{color:"white",fontSize:2*U+"px",filter:"drop-shadow(0 0 15px black);"}})})]})})]})}):(0,x.jsx)(h(),{nodeRef:n,cancel:".activate-button,.close-btn",defaultClassName:"whatmore-react-draggable",defaultClassNameDragging:"whatmore-react-draggable-dragging",defaultClassNameDragged:"whatmore-react-draggable-dragged",bounds:"html",onStart:(e,t)=>{var n,i;n=t.x,i=t.y,Q=n,ee=i},onDrag:(e,t)=>{te(!0)},onStop:(e,t)=>{K&&(Math.abs(t.x-Q)>5||Math.abs(t.y-ee)>5)?te(!1):Z(H)},children:(0,x.jsx)("div",{ref:n,style:"left"===B?{left:D?(0,f.$II)(_)+"px":T+"px",bottom:D?(0,f.vnu)(_)+"px":P+"px",position:"fixed",zIndex:J}:{right:D?(0,f.$II)(_)+"px":T+"px",bottom:D?(0,f.vnu)(_)+"px":P+"px",position:"fixed",zIndex:J},children:(0,x.jsxs)("div",{style:Object.assign({},{boxSizing:"border-box",margin:"1px",width:u+"px",height:l+"px"}),className:"left"===B?"whatmore-minimized-video-view-left":"whatmore-minimized-video-view-right",children:[(0,x.jsx)("div",{style:{boxShadow:"0px 0px 10px 3px #B0B0B0",borderRadius:G,overflow:"hidden",position:"relative"},children:(0,x.jsx)("div",{style:{width:"100%",height:"100%",aspectRatio:9/16},children:(0,x.jsx)(r.Z,{url:H.thumbnail_image,isMuted:!0,isPlaying:!0,event:H})})}),(0,x.jsx)("div",{style:{position:"relative",zIndex:1,bottom:"100%",width:"100%",height:"100%"},children:(0,x.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",height:"100%"},children:[(0,x.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-end",width:"100%",height:"fit-content"},children:(0,x.jsx)(m.Z,{className:"close-btn",sx:{filter:"drop-shadow(0 0 15px black);",color:"white",fontSize:U+"px"},onClick:q,style:{position:"relative",zIndex:1,left:W+"px",bottom:W+"px"}})}),(0,x.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto"},children:(0,x.jsx)(d.Z,{sx:{color:(0,f.Ya_)(_),fontSize:Y+"px",filter:"drop-shadow(0 0 15px black);"}})}),(0,x.jsx)("div",{style:{paddingLeft:"2px",paddingRight:"2px",borderBottomLeftRadius:G,borderBottomRightRadius:G,backgroundImage:b?"linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.2), rgba(0,0,0,0.6))":""},children:(0,x.jsxs)("p",{style:{textAlign:"center",color:"white",fontFamily:"Sans-serif",fontWeight:"semi-bold",fontSize:.4*U+"px",margin:0,padding:0,lineHeight:"110%"},children:["\xa0",b]})})]})})]})})})})}},2209:function(e,t,n){n.r(t);var i=n(7313),o=n(9854),r=n(2860),a=n(7753),s=n(5160),l=n(6967),c=n(5380),d=n(58),u=n(8984),h=n(4669),m=n(941),p=n(9302),f=n(7381),w=n(2575),x=n(7300),v=n(6524),g=n(3388),b=n(7643),E=n(778),y=n(6417);const j=(0,w.Z)({key:"whatmore-css-wsv"}),S=i.lazy((()=>Promise.all([n.e(819),n.e(576),n.e(210),n.e(955),n.e(926),n.e(303),n.e(209),n.e(62)]).then(n.bind(n,4209))));t.default=function(e){const[t,n]=(0,i.useState)(),[w,C]=(0,i.useState)(),[I]=(0,a.j1)("isInDesignMode"),[_]=(0,a.j1)("isDemoBrand"),[L,T]=(0,i.useState)(-2),[P]=(0,a.j1)("whatmoreShopId"),z=(0,a.MO)("isLandingSharedLink"),k=(0,a.MO)("whatmoreShareTemplateId"),M=((0,a.MO)("whatmoreShareStoryId"),(0,a.MO)("whatmoreShareEventId")),A=(0,a.MO)("whatmoreLandingLocationType"),D=(0,a.MO)("whatmoreLoggingActive");var O=(0,o.efR)(P)?r.Dm+"/get_eventset/":r.Gc+"/get_eventset/";(0,i.useEffect)((()=>{(0,l.hb)()}),[]),(0,i.useEffect)((()=>{(0,h.ll)(P)}),[]),(0,i.useEffect)((()=>{null==t||0==t.length||w||!(0,u.KE)()||(0,a.MO)("whatmoreVideoPlayerPoolInitiated")||(0,d.b5)(d.UD)}),[t]),(0,i.useEffect)((()=>{T(-1);const e=v.NX,t=(0,v.H1)(A),i=O.toString()+P.toString()+"?eventset_type="+e+"&source="+t+"&source_id="+P;fetch(i).then((e=>e.json())).then((t=>(0,g.OC)(t,e))).then((e=>(n(e),e))).catch((e=>{C(e.message)}))}),[]),(0,i.useEffect)((()=>{T(-2)}),[t]),(0,i.useEffect)((()=>{null==t||0==t.length||w||z&&"template-embed"==(0,v.zv)(k)&&null!=M&&t.forEach(((e,t)=>{M==e.event_id&&R(e,!0,t)}))}),[t]);const R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((0,u.KE)()&&!t&&(0,d.QV)(),(0,x.B6)(e)||(0,x.WJ)(e))return I||_||(async()=>{(0,s.wh)(e),(0,h.Tc)(P,r.h7,r.dU),(0,l.H4)(e.event_id,e.products,"spotlight","video_popup")})(),void T(n)};function B(){return(0,y.jsx)(y.Fragment,{})}return null==t||0==t.length||w?(0,y.jsx)("div",{}):(D&&(0,f.EI)(t),(0,o.B$L)(P)&&L<0&&null!==localStorage.getItem("_whatmore_spotlight_viewed")?(0,y.jsx)(y.Fragment,{}):(localStorage.setItem("_whatmore_spotlight_viewed",!0),(0,y.jsx)(p.C,{value:j,children:-1===L||0===t.length?(0,y.jsx)(B,{}):-2===L&&t.length>0?(0,y.jsx)("div",{children:(0,y.jsx)(b.u,{userInteractionType:E.K.SPOTLIGHT_WIDGET_VIEW,event:t[0],productList:t[0].products,cta:t[0].cta,triggerFlag:!I&&!_,children:(0,y.jsx)(c.Z,{event:t[0],inVideoClick:R,closeClick:e=>{e.stopPropagation(),T(-1)},isSpotlight:!0})})}):(0,y.jsx)("div",{children:(0,y.jsx)(i.Suspense,{children:(0,y.jsx)(b.u,{userInteractionType:E.K.EVENT_VIEW,event:t[0],productList:t[0].products,cta:t[0].cta,triggerFlag:!I&&!_,children:(0,y.jsx)(S,{events:t,index:L,onBack:function(){(0,o.n2L)(P)&&(0,a.MO)("whatmoreAddedToCart")&&(0,m.D)(P,(()=>{}),100,window.location.hostname),T(-2)},template:"template-embed"})})})})})))}}}]);