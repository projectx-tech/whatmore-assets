"use strict";(self.webpackChunkwhatmorelive_react=self.webpackChunkwhatmorelive_react||[]).push([[262],{3262:function(t,e,o){o.d(e,{initiateCartSliderEvent:function(){return i}});var r=o(5830),n=o(1745);const i=async function(t,e,o,i,a="",c="",d="",u="",s="",l=""){(0,r.Xd)("whatmoreLandingLocationType");if("STRNV8MHJTF"==t||"STR6HU283UZ"==t||"STR9T3LLEJB"==t||"STRWJMIOJNX"==t||"STRUDQ36YAC"==t||"STR1D5ONOZX"==t){console.log("Executing cart refresh script..");return void(document.getElementById("whatsmorecart").value=Math.random())}if("22907887"===t){async function b(t,e=1){const o=new FormData;o.append("id",t),o.append("quantity",e.toString());const r=document.querySelector("cart-notification, cart-drawer");if(r){const t=r.getSectionsToRender();o.append("sections",t.map(t=>t.id).join(","))}o.append("sections_url",window.location.pathname);const n=await fetch("/cart/add.js",{method:"POST",body:o});if(!n.ok){const t=await n.text();throw new Error(`Failed to add to cart: ${t}`)}const i=await n.json();return r&&r.renderContents&&r.renderContents(i),document.body.classList.remove("overflow-hidden"),document.querySelectorAll(".atc-container.active, .atc-variant-container.active, .pdp-atc-container.active").forEach(t=>t.classList.remove("active")),window.dispatchEvent(new CustomEvent("cart:added",{detail:{variantId:t,quantity:e,data:i}})),i}return b(a).then(t=>{setTimeout(()=>{y(a)},500)}).catch(t=>{console.error("Error:",t)}),void setTimeout(e,o)}if("28575536"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>{if(!t.ok)throw new Error("Add to cart failed");return t.json()}).then(t=>{"function"===typeof window.handleFloCartBtn&&window.handleFloCartBtn(),setTimeout(()=>{y(a)},500)}).catch(t=>console.error("[Whatmore] Ripped Up Nutrition ATC error:",t)),void setTimeout(e,o);if("58692075703"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>{if(!t.ok)throw new Error("Add to cart failed");return t.json()}).then(t=>{"function"===typeof window.openGokwikSideCart&&window.openGokwikSideCart(),setTimeout(()=>{y(a)},500)}).catch(t=>console.error("[Whatmore] Lakshita ATC error:",t)),void setTimeout(e,o);if("22907887"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>{setTimeout(()=>{y(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("56444977250"===t){const w=document.querySelector('button[data-pf-type="ProductATC2"]');return w?(c&&w.setAttribute("data-product-id",c),w.click(),setTimeout(()=>{(0,n.js)().then(t=>t.json()).then(t=>{const e=t.items.find(t=>String(t.id)===String(a));if(e){const t=e.key,o=e.quantity,r=e.properties;(0,n.CP)(t,o,r,d,u,s,!0,!0,!0)}})},500),void setTimeout(e,o)):(fetch(null===l||void 0===l||null===(m=l.split("?"))||void 0===m?void 0:m[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html").querySelector('button[data-pf-type="ProductATC2"]');e&&c&&e.setAttribute("data-product-id",c)}),void setTimeout(e,o));var m}if("64379584700"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>fetch("/cart.js")).then(t=>t.json()).then(t=>{$(".paira-cart-item-count").text(t.item_count),$(".paira-cartEmpty").hide(),$(".paira-cartNotEmpty").show(),$(".paira-cart-total-price .money").text("Rs. "+t.total_price/100),$(".cart-drop").addClass("open"),$(".cart-icon").trigger("mouseenter"),setTimeout(()=>{y(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("76767920441"===t)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:1})}).then(t=>t.json()).then(t=>{"function"===typeof window.openGokwikSideCart&&window.openGokwikSideCart(),setTimeout(()=>{y(a)},500)}).catch(t=>console.error("Add to cart error:",t)),void setTimeout(e,o);if("70840582336"===t){const q=a,A=1,C=document.querySelector('product-form form.product-form, form[action*="/cart/add"]');if(C){let g=C.querySelector('input[name="id"]');g||(g=document.createElement("input"),g.type="hidden",g.name="id",C.appendChild(g)),g.disabled=!1,g.value=q;const j=C.querySelector('input[name="quantity"]');j&&(j.value=A);const E=C.querySelector('button[data-add-to-cart], button[type="submit"]');return E?(E.dispatchEvent(new MouseEvent("pointerdown",{bubbles:!0})),E.click(),E.dispatchEvent(new MouseEvent("pointerup",{bubbles:!0}))):console.warn("[ATC] button not found"),setTimeout(()=>{y(q)},500),void setTimeout(e,o)}return void fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:q,quantity:A}),credentials:"same-origin"}).then(()=>{setTimeout(()=>{y(q)},500),setTimeout(e,o)}).catch(t=>{console.error("[ATC] error for 70840582336:",t),setTimeout(e,o)})}if("64683278550"===t){try{const k=document.querySelector('form[action="/cart/add"]');if(!k)return console.warn("[ATC 64683278550] form not found"),void setTimeout(e,o);const O=k.querySelector('input[name="id"]');if(!O)return console.warn("[ATC 64683278550] id input not found"),void setTimeout(e,o);O.value=a;const N=k.querySelector('button[type="submit"]');if(!N)return console.warn("[ATC 64683278550] submit button not found"),void setTimeout(e,o);N.click(),setTimeout(()=>{y(a)},500),setTimeout(e,o)}catch(T){console.error("[ATC 64683278550] error:",T),setTimeout(e,o)}return}const p=e=>{if("61126934766"==t){let t=e.querySelector(".productView-buttons").querySelector('form[action*="/cart/add"]');if(t)return t}let o=Array.from(e.querySelectorAll("product-form")).find(t=>t.querySelector('form > input[name="id"]')&&t.querySelector('form button[type="submit"]'));return o||(o=Array.from(e.querySelectorAll('form[action*="/cart/add"]')).find(t=>t.querySelector('button[type="submit"]'))),o},h=(e,o,r)=>{const n=e.cloneNode(!0);if(n){n.hasAttribute("data-product-variant-id")&&n.setAttribute("data-product-variant-id",o),n.hasAttribute("data-product-id")&&n.setAttribute("data-product-id",r);let e=n.querySelector('input[name="id"]');if(e)e.setAttribute("value",o),e.hasAttribute("disabled")&&e.removeAttribute("disabled");else{const t=n.querySelector('select[name="id"]');if(t){const e=t.querySelector('option[selected="selected"]');e&&e.setAttribute("value",o)}}const i=n.querySelector('input[name="product-id"]');i&&i.setAttribute("value",r);const a=document.createElement("div");return a.className="whatmore-atc",a.appendChild(n),document.body.appendChild(a),console.log(a,"formElement"),"92319318403"===t&&((t,e,o)=>{var r;const n=null!==(r=t.matches)&&void 0!==r&&r.call(t,"form")?t:t.querySelector("form");if(!n)return;let i=n.querySelector('input[name="id"]');i||(i=document.createElement("input"),i.type="hidden",i.name="id",n.prepend(i)),i.value=String(e),i.removeAttribute("disabled");const a=n.querySelector('select[name="id"]');a&&([...a.options].some(t=>t.value===String(e))?(a.value=String(e),[...a.options].forEach(t=>t.selected=t.value===String(e)),a.dispatchEvent(new Event("change",{bubbles:!0}))):a.removeAttribute("name"));const c=n.querySelector('input[name="product-id"]');c&&(c.value=String(o))})(a,o,r),a}},f=t=>{const e=null===t||void 0===t?void 0:t.querySelector('button[type="submit"]');e&&e.click()},y=t=>{(0,n.js)().then(t=>t.json()).then(e=>{const o=e.items.find(e=>e.id==t),r=o.key,i=o.quantity,a=o.properties;(0,n.CP)(r,i,a,d,u,s,!0,!0,!0)})},v=p(document);if(v||(null===v||void 0===v?void 0:v.length)>0){const P=h(v,a,c);f(P),setTimeout(()=>{y(a)},500),P.remove()}else{var S;fetch(null===l||void 0===l||null===(S=l.split("?"))||void 0===S?void 0:S[0]).then(t=>t.text()).then(t=>{const e=(new DOMParser).parseFromString(t,"text/html"),o=p(e);if(o||(null===o||void 0===o?void 0:o.length)>0){const t=h(o,a,c);f(t),setTimeout(()=>{y(a)},500),t.remove()}})}setTimeout(e,o)}}}]);